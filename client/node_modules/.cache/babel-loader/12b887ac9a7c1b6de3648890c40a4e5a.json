{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Component, EventHandler, Property, Event, Complex, Collection } from '@syncfusion/ej2-base';\nimport { L10n, Internationalization } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, setStyleAttribute, detach, closest } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, Browser, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Tooltip, getZindexPartial } from '@syncfusion/ej2-popups';\n/**\r\n * Configures the ticks data of the Slider.\r\n */\n\nvar TicksData =\n/** @class */\nfunction (_super) {\n  __extends(TicksData, _super);\n\n  function TicksData() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property('None')], TicksData.prototype, \"placement\", void 0);\n\n  __decorate([Property(10)], TicksData.prototype, \"largeStep\", void 0);\n\n  __decorate([Property(1)], TicksData.prototype, \"smallStep\", void 0);\n\n  __decorate([Property(false)], TicksData.prototype, \"showSmallTicks\", void 0);\n\n  __decorate([Property(null)], TicksData.prototype, \"format\", void 0);\n\n  return TicksData;\n}(ChildProperty);\n\nexport { TicksData };\n/**\r\n * It illustrates the color track data in slider.\r\n * {% codeBlock src='slider/colorrange/index.md' %}{% endcodeBlock %}\r\n */\n\nvar ColorRangeData =\n/** @class */\nfunction (_super) {\n  __extends(ColorRangeData, _super);\n\n  function ColorRangeData() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property(null)], ColorRangeData.prototype, \"color\", void 0);\n\n  __decorate([Property(null)], ColorRangeData.prototype, \"start\", void 0);\n\n  __decorate([Property(null)], ColorRangeData.prototype, \"end\", void 0);\n\n  return ColorRangeData;\n}(ChildProperty);\n\nexport { ColorRangeData };\n/**\r\n * It illustrates the limit data in slider.\r\n * {% codeBlock src='slider/limits/index.md' %}{% endcodeBlock %}\r\n */\n\nvar LimitData =\n/** @class */\nfunction (_super) {\n  __extends(LimitData, _super);\n\n  function LimitData() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property(false)], LimitData.prototype, \"enabled\", void 0);\n\n  __decorate([Property(null)], LimitData.prototype, \"minStart\", void 0);\n\n  __decorate([Property(null)], LimitData.prototype, \"minEnd\", void 0);\n\n  __decorate([Property(null)], LimitData.prototype, \"maxStart\", void 0);\n\n  __decorate([Property(null)], LimitData.prototype, \"maxEnd\", void 0);\n\n  __decorate([Property(false)], LimitData.prototype, \"startHandleFixed\", void 0);\n\n  __decorate([Property(false)], LimitData.prototype, \"endHandleFixed\", void 0);\n\n  return LimitData;\n}(ChildProperty);\n\nexport { LimitData };\n/**\r\n * It illustrates the tooltip data in slider.\r\n */\n\nvar TooltipData =\n/** @class */\nfunction (_super) {\n  __extends(TooltipData, _super);\n\n  function TooltipData() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property('')], TooltipData.prototype, \"cssClass\", void 0);\n\n  __decorate([Property('Before')], TooltipData.prototype, \"placement\", void 0);\n\n  __decorate([Property('Focus')], TooltipData.prototype, \"showOn\", void 0);\n\n  __decorate([Property(false)], TooltipData.prototype, \"isVisible\", void 0);\n\n  __decorate([Property(null)], TooltipData.prototype, \"format\", void 0);\n\n  return TooltipData;\n}(ChildProperty);\n\nexport { TooltipData };\nvar bootstrapTooltipOffset = 6;\nvar bootstrap4TooltipOffset = 3;\nvar classNames = {\n  root: 'e-slider',\n  rtl: 'e-rtl',\n  sliderHiddenInput: 'e-slider-input',\n  controlWrapper: 'e-control-wrapper',\n  sliderHandle: 'e-handle',\n  rangeBar: 'e-range',\n  sliderButton: 'e-slider-button',\n  firstButton: 'e-first-button',\n  secondButton: 'e-second-button',\n  scale: 'e-scale',\n  tick: 'e-tick',\n  large: 'e-large',\n  tickValue: 'e-tick-value',\n  sliderTooltip: 'e-slider-tooltip',\n  sliderHover: 'e-slider-hover',\n  sliderFirstHandle: 'e-handle-first',\n  sliderSecondHandle: 'e-handle-second',\n  sliderDisabled: 'e-disabled',\n  sliderContainer: 'e-slider-container',\n  horizontalTooltipBefore: 'e-slider-horizontal-before',\n  horizontalTooltipAfter: 'e-slider-horizontal-after',\n  verticalTooltipBefore: 'e-slider-vertical-before',\n  verticalTooltipAfter: 'e-slider-vertical-after',\n  materialTooltip: 'e-material-tooltip',\n  materialTooltipOpen: 'e-material-tooltip-open',\n  materialTooltipActive: 'e-tooltip-active',\n  materialSlider: 'e-material-slider',\n  sliderTrack: 'e-slider-track',\n  sliderHorizantalColor: 'e-slider-horizantal-color',\n  sliderVerticalColor: 'e-slider-vertical-color',\n  sliderHandleFocused: 'e-handle-focused',\n  verticalSlider: 'e-vertical',\n  horizontalSlider: 'e-horizontal',\n  sliderHandleStart: 'e-handle-start',\n  sliderTooltipStart: 'e-material-tooltip-start',\n  sliderTabHandle: 'e-tab-handle',\n  sliderButtonIcon: 'e-button-icon',\n  sliderSmallSize: 'e-small-size',\n  sliderTickPosition: 'e-tick-pos',\n  sliderFirstTick: 'e-first-tick',\n  sliderLastTick: 'e-last-tick',\n  sliderButtonClass: 'e-slider-btn',\n  sliderTooltipWrapper: 'e-tooltip-wrap',\n  sliderTabTrack: 'e-tab-track',\n  sliderTabRange: 'e-tab-range',\n  sliderActiveHandle: 'e-handle-active',\n  sliderMaterialHandle: 'e-material-handle',\n  sliderMaterialRange: 'e-material-range',\n  sliderMaterialDefault: 'e-material-default',\n  materialTooltipShow: 'e-material-tooltip-show',\n  materialTooltipHide: 'e-material-tooltip-hide',\n  readonly: 'e-read-only',\n  limits: 'e-limits',\n  limitBarDefault: 'e-limit-bar',\n  limitBarFirst: 'e-limit-first',\n  limitBarSecond: 'e-limit-second',\n  dragHorizontal: 'e-drag-horizontal',\n  dragVertical: 'e-drag-vertical'\n};\n/**\r\n * The Slider component allows the user to select a value or range\r\n * of values in-between a min and max range, by dragging the handle over the slider bar.\r\n * ```html\r\n * <div id='slider'></div>\r\n * ```\r\n * ```typescript\r\n * <script>\r\n *   var sliderObj = new Slider({ value: 10 });\r\n *   sliderObj.appendTo('#slider');\r\n * </script>\r\n * ```\r\n */\n\nvar Slider =\n/** @class */\nfunction (_super) {\n  __extends(Slider, _super);\n\n  function Slider(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.horDir = 'left';\n    _this.verDir = 'bottom';\n    _this.transition = {\n      handle: 'left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), ' + 'top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)',\n      rangeBar: 'all .4s cubic-bezier(.25, .8, .25, 1)'\n    };\n    _this.transitionOnMaterialTooltip = {\n      handle: 'left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, top 1ms ease-out',\n      rangeBar: 'left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out'\n    };\n    _this.scaleTransform = 'transform .4s cubic-bezier(.25, .8, .25, 1)';\n    _this.customAriaText = null;\n    _this.drag = true;\n    _this.isDragComplete = false;\n    _this.initialTooltip = true;\n    return _this;\n  }\n\n  Slider.prototype.preRender = function () {\n    // eslint-disable-next-line\n    var localeText = {\n      incrementTitle: 'Increase',\n      decrementTitle: 'Decrease'\n    };\n    this.l10n = new L10n('slider', localeText, this.locale);\n    this.isElementFocused = false;\n    this.tickElementCollection = [];\n    this.tooltipFormatInfo = {};\n    this.ticksFormatInfo = {};\n    this.initCultureInfo();\n    this.initCultureFunc();\n    this.formChecker();\n  };\n\n  Slider.prototype.formChecker = function () {\n    var formElement = closest(this.element, 'form');\n\n    if (formElement) {\n      this.isForm = true; // this condition needs to be checked, if the slider is going to be refreshed by `refresh()`\n      // then we need to revert the slider `value` back to `formResetValue` to preserve the initial value\n\n      if (!isNullOrUndefined(this.formResetValue)) {\n        this.setProperties({\n          'value': this.formResetValue\n        }, true);\n      }\n\n      this.formResetValue = this.value;\n\n      if (this.type === 'Range' && (isNullOrUndefined(this.formResetValue) || typeof this.formResetValue !== 'object')) {\n        this.formResetValue = [parseFloat(formatUnit(this.min)), parseFloat(formatUnit(this.max))];\n      } else if (isNullOrUndefined(this.formResetValue)) {\n        this.formResetValue = parseFloat(formatUnit(this.min));\n      }\n\n      this.formElement = formElement;\n    } else {\n      this.isForm = false;\n    }\n  };\n\n  Slider.prototype.initCultureFunc = function () {\n    this.internationalization = new Internationalization(this.locale);\n  };\n\n  Slider.prototype.initCultureInfo = function () {\n    this.tooltipFormatInfo.format = !isNullOrUndefined(this.tooltip.format) ? this.tooltip.format : null;\n    this.ticksFormatInfo.format = !isNullOrUndefined(this.ticks.format) ? this.ticks.format : null;\n  };\n\n  Slider.prototype.formatString = function (value, formatInfo) {\n    var formatValue = null;\n    var formatString = null;\n\n    if (value || value === 0) {\n      formatValue = this.formatNumber(value);\n      var numberOfDecimals = this.numberOfDecimals(value);\n      formatString = this.internationalization.getNumberFormat(formatInfo)(this.makeRoundNumber(value, numberOfDecimals));\n    }\n\n    return {\n      elementVal: formatValue,\n      formatString: formatString\n    };\n  };\n\n  Slider.prototype.formatNumber = function (value) {\n    var numberOfDecimals = this.numberOfDecimals(value);\n    return this.internationalization.getNumberFormat({\n      maximumFractionDigits: numberOfDecimals,\n      minimumFractionDigits: numberOfDecimals,\n      useGrouping: false\n    })(value);\n  };\n\n  Slider.prototype.numberOfDecimals = function (value) {\n    var decimalPart = value.toString().split('.')[1];\n    var numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n    return numberOfDecimals;\n  };\n\n  Slider.prototype.makeRoundNumber = function (value, precision) {\n    var decimals = precision || 0;\n    return Number(value.toFixed(decimals));\n  };\n\n  Slider.prototype.fractionalToInteger = function (value) {\n    value = this.numberOfDecimals(value) === 0 ? Number(value).toFixed(this.noOfDecimals) : value;\n    var tens = 1;\n\n    for (var i = 0; i < this.noOfDecimals; i++) {\n      tens *= 10;\n    }\n\n    value = Number((value * tens).toFixed(0));\n    return value;\n  };\n  /**\r\n   * To Initialize the control rendering\r\n   * @private\r\n   */\n\n\n  Slider.prototype.render = function () {\n    var _this = this;\n\n    this.initialize();\n    this.initRender();\n    this.wireEvents();\n    this.setZindex();\n    this.renderComplete();\n\n    if (this.element.tagName === 'EJS-SLIDER') {\n      if (this.getTheme(this.sliderContainer) == \"none\") {\n        setTimeout(function () {\n          _this.refresh();\n        }, 0);\n      }\n    }\n  };\n\n  Slider.prototype.initialize = function () {\n    addClass([this.element], classNames.root);\n    this.setCSSClass();\n  };\n\n  Slider.prototype.setElementWidth = function (width) {\n    if (!isNullOrUndefined(width)) {\n      if (typeof width === 'number') {\n        this.sliderContainer.style.width = formatUnit(width);\n      } else if (typeof width === 'string') {\n        this.sliderContainer.style.width = width.match(/px|%|em/) ? width : formatUnit(width);\n      }\n    }\n  };\n\n  Slider.prototype.setCSSClass = function (oldCSSClass) {\n    if (oldCSSClass) {\n      removeClass([this.element], oldCSSClass.split(' '));\n    }\n\n    if (this.cssClass) {\n      addClass([this.element], this.cssClass.split(' '));\n    }\n  };\n\n  Slider.prototype.setEnabled = function () {\n    if (!this.enabled) {\n      addClass([this.sliderContainer], [classNames.sliderDisabled]);\n\n      if (this.tooltip.isVisible && this.tooltipElement && this.tooltip.showOn === 'Always') {\n        this.tooltipElement.classList.add(classNames.sliderDisabled);\n      }\n\n      this.unwireEvents();\n    } else {\n      removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n\n      if (this.tooltip.isVisible && this.tooltipElement && this.tooltip.showOn === 'Always') {\n        this.tooltipElement.classList.remove(classNames.sliderDisabled);\n      }\n\n      this.wireEvents();\n    }\n  };\n\n  Slider.prototype.getTheme = function (container) {\n    var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n    return theme.replace(/['\"]+/g, '');\n  };\n  /**\r\n   * Initialize the rendering\r\n   * @private\r\n   */\n\n\n  Slider.prototype.initRender = function () {\n    this.sliderContainer = this.createElement('div', {\n      className: classNames.sliderContainer + ' ' + classNames.controlWrapper\n    });\n    this.element.parentNode.insertBefore(this.sliderContainer, this.element);\n    this.sliderContainer.appendChild(this.element);\n    this.sliderTrack = this.createElement('div', {\n      className: classNames.sliderTrack\n    });\n    this.element.appendChild(this.sliderTrack);\n    this.setElementWidth(this.width);\n    this.element.tabIndex = -1;\n    this.getThemeInitialization();\n    this.setHandler();\n    this.createRangeBar();\n\n    if (this.limits.enabled) {\n      this.createLimitBar();\n    }\n\n    this.setOrientClass();\n    this.hiddenInput = this.createElement('input', {\n      attrs: {\n        type: 'hidden',\n        value: isNullOrUndefined(this.value) ? this.min.toString() : this.value.toString(),\n        name: this.element.getAttribute('name') || this.element.getAttribute('id') || '_' + (Math.random() * 1000).toFixed(0) + 'slider',\n        class: classNames.sliderHiddenInput\n      }\n    });\n    this.hiddenInput.tabIndex = -1;\n    this.sliderContainer.appendChild(this.hiddenInput);\n\n    if (this.showButtons) {\n      this.setButtons();\n    }\n\n    this.setEnableRTL();\n\n    if (this.type === 'Range') {\n      this.rangeValueUpdate();\n    } else {\n      this.value = isNullOrUndefined(this.value) ? parseFloat(formatUnit(this.min.toString())) : this.value;\n    }\n\n    this.previousVal = this.type !== 'Range' ? this.checkHandleValue(parseFloat(formatUnit(this.value.toString()))) : [this.checkHandleValue(parseFloat(formatUnit(this.value[0].toString()))), this.checkHandleValue(parseFloat(formatUnit(this.value[1].toString())))];\n    this.previousChanged = this.previousVal;\n\n    if (!isNullOrUndefined(this.element.hasAttribute('name'))) {\n      this.element.removeAttribute('name');\n    }\n\n    this.setValue();\n\n    if (this.limits.enabled) {\n      this.setLimitBar();\n    }\n\n    if (this.ticks.placement !== 'None') {\n      this.renderScale();\n    }\n\n    if (this.tooltip.isVisible) {\n      this.renderTooltip();\n    }\n\n    if (!this.enabled) {\n      addClass([this.sliderContainer], [classNames.sliderDisabled]);\n    } else {\n      removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n    }\n\n    if (this.readonly) {\n      addClass([this.sliderContainer], [classNames.readonly]);\n    } else {\n      removeClass([this.sliderContainer], [classNames.readonly]);\n    }\n  };\n\n  Slider.prototype.getThemeInitialization = function () {\n    this.isMaterial = this.getTheme(this.sliderContainer) === 'material' || this.getTheme(this.sliderContainer) === 'material-dark';\n    this.isBootstrap = this.getTheme(this.sliderContainer) === 'bootstrap' || this.getTheme(this.sliderContainer) === 'bootstrap-dark';\n    this.isBootstrap4 = this.getTheme(this.sliderContainer) === 'bootstrap4';\n    this.isTailwind = this.getTheme(this.sliderContainer) === 'tailwind' || this.getTheme(this.sliderContainer) === 'tailwind-dark';\n    this.isBootstrap5 = this.getTheme(this.sliderContainer) === 'bootstrap5';\n    this.isMaterialTooltip = this.isMaterial && this.type !== 'Range' && this.tooltip.isVisible;\n  };\n\n  Slider.prototype.createRangeBar = function () {\n    if (this.type !== 'Default') {\n      this.rangeBar = this.createElement('div', {\n        attrs: {\n          class: classNames.rangeBar\n        }\n      });\n      this.element.appendChild(this.rangeBar);\n\n      if (this.drag && this.type === 'Range') {\n        if (this.orientation === 'Horizontal') {\n          this.rangeBar.classList.add(classNames.dragHorizontal);\n        } else {\n          this.rangeBar.classList.add(classNames.dragVertical);\n        }\n      }\n    }\n  };\n\n  Slider.prototype.createLimitBar = function () {\n    var firstElementClassName = this.type !== 'Range' ? classNames.limitBarDefault : classNames.limitBarFirst;\n    firstElementClassName += ' ' + classNames.limits;\n    this.limitBarFirst = this.createElement('div', {\n      attrs: {\n        class: firstElementClassName\n      }\n    });\n    this.element.appendChild(this.limitBarFirst);\n\n    if (this.type === 'Range') {\n      this.limitBarSecond = this.createElement('div', {\n        attrs: {\n          class: classNames.limitBarSecond + ' ' + classNames.limits\n        }\n      });\n      this.element.appendChild(this.limitBarSecond);\n    }\n  };\n\n  Slider.prototype.setOrientClass = function () {\n    if (this.orientation !== 'Vertical') {\n      this.sliderContainer.classList.remove(classNames.verticalSlider);\n      this.sliderContainer.classList.add(classNames.horizontalSlider);\n      this.firstHandle.setAttribute('aria-orientation', 'horizontal');\n\n      if (this.type === 'Range') {\n        this.secondHandle.setAttribute('aria-orientation', 'horizontal');\n      }\n    } else {\n      this.sliderContainer.classList.remove(classNames.horizontalSlider);\n      this.sliderContainer.classList.add(classNames.verticalSlider);\n      this.firstHandle.setAttribute('aria-orientation', 'vertical');\n\n      if (this.type === 'Range') {\n        this.secondHandle.setAttribute('aria-orientation', 'vertical');\n      }\n    }\n  };\n\n  Slider.prototype.setAriaAttributes = function (element) {\n    var _this = this;\n\n    var min = this.min;\n    var max = this.max;\n\n    if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n      min = this.customValues[0];\n      max = this.customValues[this.customValues.length - 1];\n    }\n\n    if (this.type !== 'Range') {\n      attributes(element, {\n        'aria-valuemin': min.toString(),\n        'aria-valuemax': max.toString()\n      });\n    } else {\n      var range = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ? [[min.toString(), this.customValues[this.value[1]].toString()], [this.customValues[this.value[0]].toString(), max.toString()]] : [[min.toString(), this.value[1].toString()], [this.value[0].toString(), max.toString()]];\n      range.forEach(function (range, index) {\n        var element = index === 0 ? _this.firstHandle : _this.secondHandle;\n\n        if (element) {\n          attributes(element, {\n            'aria-valuemin': range[0],\n            'aria-valuemax': range[1]\n          });\n        }\n      });\n    }\n  };\n\n  Slider.prototype.createSecondHandle = function () {\n    this.secondHandle = this.createElement('div', {\n      attrs: {\n        class: classNames.sliderHandle,\n        'role': 'slider',\n        tabIndex: '0'\n      }\n    });\n    this.secondHandle.classList.add(classNames.sliderSecondHandle);\n    this.element.appendChild(this.secondHandle);\n  };\n\n  Slider.prototype.createFirstHandle = function () {\n    this.firstHandle = this.createElement('div', {\n      attrs: {\n        class: classNames.sliderHandle,\n        'role': 'slider',\n        tabIndex: '0'\n      }\n    });\n    this.firstHandle.classList.add(classNames.sliderFirstHandle);\n    this.element.appendChild(this.firstHandle);\n\n    if (this.isMaterialTooltip) {\n      this.materialHandle = this.createElement('div', {\n        attrs: {\n          class: classNames.sliderHandle + ' ' + classNames.sliderMaterialHandle\n        }\n      });\n      this.element.appendChild(this.materialHandle);\n    }\n  };\n\n  Slider.prototype.wireFirstHandleEvt = function (destroy) {\n    if (!destroy) {\n      EventHandler.add(this.firstHandle, 'mousedown touchstart', this.handleFocus, this);\n      EventHandler.add(this.firstHandle, 'transitionend', this.transitionEnd, this);\n      EventHandler.add(this.firstHandle, 'mouseenter touchenter', this.handleOver, this);\n      EventHandler.add(this.firstHandle, 'mouseleave touchend', this.handleLeave, this);\n    } else {\n      EventHandler.remove(this.firstHandle, 'mousedown touchstart', this.handleFocus);\n      EventHandler.remove(this.firstHandle, 'transitionend', this.transitionEnd);\n      EventHandler.remove(this.firstHandle, 'mouseenter touchenter', this.handleOver);\n      EventHandler.remove(this.firstHandle, 'mouseleave touchend', this.handleLeave);\n    }\n  };\n\n  Slider.prototype.wireSecondHandleEvt = function (destroy) {\n    if (!destroy) {\n      EventHandler.add(this.secondHandle, 'mousedown touchstart', this.handleFocus, this);\n      EventHandler.add(this.secondHandle, 'transitionend', this.transitionEnd, this);\n      EventHandler.add(this.secondHandle, 'mouseenter touchenter', this.handleOver, this);\n      EventHandler.add(this.secondHandle, 'mouseleave touchend', this.handleLeave, this);\n    } else {\n      EventHandler.remove(this.secondHandle, 'mousedown touchstart', this.handleFocus);\n      EventHandler.remove(this.secondHandle, 'transitionend', this.transitionEnd);\n      EventHandler.remove(this.secondHandle, 'mouseenter touchenter', this.handleOver);\n      EventHandler.remove(this.secondHandle, 'mouseleave touchend', this.handleLeave);\n    }\n  };\n\n  Slider.prototype.handleStart = function () {\n    if (this.type !== 'Range') {\n      this.firstHandle.classList[this.handlePos1 === 0 ? 'add' : 'remove'](classNames.sliderHandleStart);\n\n      if (this.isMaterialTooltip) {\n        this.materialHandle.classList[this.handlePos1 === 0 ? 'add' : 'remove'](classNames.sliderHandleStart);\n\n        if (this.tooltipElement) {\n          this.tooltipElement.classList[this.handlePos1 === 0 ? 'add' : 'remove'](classNames.sliderTooltipStart);\n        }\n      }\n    }\n  };\n\n  Slider.prototype.transitionEnd = function (e) {\n    if (e.propertyName !== 'transform') {\n      this.handleStart();\n      this.getHandle().style.transition = 'none';\n\n      if (this.type !== 'Default') {\n        this.rangeBar.style.transition = 'none';\n      }\n\n      if (this.isMaterial && this.tooltip.isVisible && this.type === 'Default') {\n        this.tooltipElement.style.transition = this.transition.handle;\n      }\n\n      this.tooltipToggle(this.getHandle());\n      this.closeTooltip();\n    }\n  };\n\n  Slider.prototype.handleFocusOut = function () {\n    if (this.firstHandle.classList.contains(classNames.sliderHandleFocused)) {\n      this.firstHandle.classList.remove(classNames.sliderHandleFocused);\n    }\n\n    if (this.type === 'Range') {\n      if (this.secondHandle.classList.contains(classNames.sliderHandleFocused)) {\n        this.secondHandle.classList.remove(classNames.sliderHandleFocused);\n      }\n    }\n  };\n\n  Slider.prototype.handleFocus = function (e) {\n    this.focusSliderElement();\n    this.sliderBarClick(e);\n\n    if (e.currentTarget === this.firstHandle) {\n      this.firstHandle.classList.add(classNames.sliderHandleFocused);\n      this.firstHandle.classList.add(classNames.sliderTabHandle);\n    } else {\n      this.secondHandle.classList.add(classNames.sliderHandleFocused);\n      this.secondHandle.classList.add(classNames.sliderTabHandle);\n    }\n\n    EventHandler.add(document, 'mousemove touchmove', this.sliderBarMove, this);\n    EventHandler.add(document, 'mouseup touchend', this.sliderBarUp, this);\n  };\n\n  Slider.prototype.handleOver = function (e) {\n    if (this.tooltip.isVisible && this.tooltip.showOn === 'Hover') {\n      this.tooltipToggle(e.currentTarget);\n    }\n\n    if (this.type === 'Default') {\n      this.tooltipToggle(this.getHandle());\n    }\n  };\n\n  Slider.prototype.handleLeave = function (e) {\n    if (this.tooltip.isVisible && this.tooltip.showOn === 'Hover' && !e.currentTarget.classList.contains(classNames.sliderHandleFocused) && !e.currentTarget.classList.contains(classNames.sliderTabHandle)) {\n      this.closeTooltip();\n    }\n  };\n\n  Slider.prototype.setHandler = function () {\n    if (this.min > this.max) {\n      this.min = this.max;\n    }\n\n    this.createFirstHandle();\n\n    if (this.type === 'Range') {\n      this.createSecondHandle();\n    }\n  };\n\n  Slider.prototype.setEnableRTL = function () {\n    this.enableRtl && this.orientation !== 'Vertical' ? addClass([this.sliderContainer], classNames.rtl) : removeClass([this.sliderContainer], classNames.rtl);\n    var preDir = this.orientation !== 'Vertical' ? this.horDir : this.verDir;\n\n    if (this.enableRtl) {\n      this.horDir = 'right';\n      this.verDir = 'bottom';\n    } else {\n      this.horDir = 'left';\n      this.verDir = 'bottom';\n    }\n\n    var currDir = this.orientation !== 'Vertical' ? this.horDir : this.verDir;\n\n    if (preDir !== currDir) {\n      if (this.orientation === 'Horizontal') {\n        setStyleAttribute(this.firstHandle, {\n          'right': '',\n          'left': 'auto'\n        });\n\n        if (this.type === 'Range') {\n          setStyleAttribute(this.secondHandle, {\n            'top': '',\n            'left': 'auto'\n          });\n        }\n      }\n    }\n\n    this.setBarColor();\n  };\n\n  Slider.prototype.tooltipValue = function () {\n    var _this = this;\n\n    var text;\n    var args = {\n      value: this.value,\n      text: ''\n    };\n\n    if (this.initialTooltip) {\n      this.initialTooltip = false;\n      this.setTooltipContent();\n      args.text = text = this.tooltipObj.content;\n      this.trigger('tooltipChange', args, function (observedArgs) {\n        _this.addTooltipClass(observedArgs.text);\n\n        if (text !== observedArgs.text) {\n          _this.customAriaText = observedArgs.text;\n          _this.tooltipObj.content = observedArgs.text;\n\n          _this.setAriaAttrValue(_this.firstHandle);\n\n          if (_this.type === 'Range') {\n            _this.setAriaAttrValue(_this.secondHandle);\n          }\n        }\n      });\n\n      if (this.isMaterialTooltip) {\n        this.setPreviousVal('change', this.value);\n      }\n    }\n  };\n\n  Slider.prototype.setTooltipContent = function () {\n    var content;\n    content = this.formatContent(this.tooltipFormatInfo, false);\n    this.tooltipObj.content = content;\n  };\n\n  Slider.prototype.formatContent = function (formatInfo, ariaContent) {\n    var content = '';\n    var handle1 = this.handleVal1;\n    var handle2 = this.handleVal2;\n\n    if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n      handle1 = this.customValues[this.handleVal1];\n      handle2 = this.customValues[this.handleVal2];\n    }\n\n    if (!ariaContent) {\n      if (this.type === 'Range') {\n        if (this.enableRtl && this.orientation !== 'Vertical') {\n          content = !isNullOrUndefined(formatInfo.format) ? this.formatString(handle2, formatInfo).formatString + ' - ' + this.formatString(handle1, formatInfo).formatString : handle2.toString() + ' - ' + handle1.toString();\n        } else {\n          content = !isNullOrUndefined(formatInfo.format) ? this.formatString(handle1, formatInfo).formatString + ' - ' + this.formatString(handle2, formatInfo).formatString : handle1.toString() + ' - ' + handle2.toString();\n        }\n      } else {\n        if (!isNullOrUndefined(handle1)) {\n          content = !isNullOrUndefined(formatInfo.format) ? this.formatString(handle1, formatInfo).formatString : handle1.toString();\n        }\n      }\n\n      return content;\n    } else {\n      if (this.type === 'Range') {\n        if (this.enableRtl && this.orientation !== 'Vertical') {\n          content = !isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format) ? this.formatString(handle2, formatInfo).elementVal + ' - ' + this.formatString(handle1, formatInfo).elementVal : handle2.toString() + ' - ' + handle1.toString();\n        } else {\n          content = !isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format) ? this.formatString(handle1, formatInfo).elementVal + ' - ' + this.formatString(handle2, formatInfo).elementVal : handle1.toString() + ' - ' + handle2.toString();\n        }\n      } else {\n        if (!isNullOrUndefined(handle1)) {\n          content = !isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format) ? this.formatString(handle1, formatInfo).elementVal : handle1.toString();\n        }\n      }\n\n      return content;\n    }\n  };\n\n  Slider.prototype.addTooltipClass = function (content) {\n    if (this.isMaterialTooltip) {\n      var count = content.toString().length;\n\n      if (!this.tooltipElement) {\n        var cssClass = count > 4 ? classNames.sliderMaterialRange : classNames.sliderMaterialDefault;\n        this.tooltipObj.cssClass = classNames.sliderTooltip + ' ' + cssClass;\n      } else {\n        var cssClass = count > 4 ? {\n          oldCss: classNames.sliderMaterialDefault,\n          newCss: classNames.sliderMaterialRange\n        } : {\n          oldCss: classNames.sliderMaterialRange,\n          newCss: classNames.sliderMaterialDefault\n        };\n        this.tooltipElement.classList.remove(cssClass.oldCss);\n\n        if (!this.tooltipElement.classList.contains(cssClass.newCss)) {\n          this.tooltipElement.classList.add(cssClass.newCss);\n          this.tooltipElement.style.transform = count > 4 ? 'scale(1)' : this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n        }\n      }\n    }\n  };\n\n  Slider.prototype.tooltipPlacement = function () {\n    return this.orientation === 'Horizontal' ? this.tooltip.placement === 'Before' ? 'TopCenter' : 'BottomCenter' : this.tooltip.placement === 'Before' ? 'LeftCenter' : 'RightCenter';\n  };\n\n  Slider.prototype.tooltipBeforeOpen = function (args) {\n    this.tooltipElement = args.element;\n\n    if (this.tooltip.cssClass) {\n      addClass([this.tooltipElement], this.tooltip.cssClass.split(' ').filter(function (css) {\n        return css;\n      }));\n    }\n\n    args.target.removeAttribute('aria-describedby');\n\n    if (this.isMaterialTooltip) {\n      this.tooltipElement.firstElementChild.classList.add(classNames.materialTooltipHide);\n      this.handleStart();\n      this.setTooltipTransform();\n    }\n  };\n\n  Slider.prototype.tooltipCollision = function (position) {\n    if (this.isBootstrap || this.isBootstrap4 || this.isMaterial && !this.isMaterialTooltip) {\n      var tooltipOffsetValue = this.isBootstrap4 ? bootstrap4TooltipOffset : bootstrapTooltipOffset;\n\n      switch (position) {\n        case 'TopCenter':\n          this.tooltipObj.setProperties({\n            'offsetY': -tooltipOffsetValue\n          }, false);\n          break;\n\n        case 'BottomCenter':\n          this.tooltipObj.setProperties({\n            'offsetY': tooltipOffsetValue\n          }, false);\n          break;\n\n        case 'LeftCenter':\n          this.tooltipObj.setProperties({\n            'offsetX': -tooltipOffsetValue\n          }, false);\n          break;\n\n        case 'RightCenter':\n          this.tooltipObj.setProperties({\n            'offsetX': tooltipOffsetValue\n          }, false);\n          break;\n      }\n    }\n  };\n\n  Slider.prototype.materialTooltipEventCallBack = function (event) {\n    this.sliderBarClick(event);\n    EventHandler.add(document, 'mousemove touchmove', this.sliderBarMove, this);\n    EventHandler.add(document, 'mouseup touchend', this.sliderBarUp, this);\n  };\n\n  Slider.prototype.wireMaterialTooltipEvent = function (destroy) {\n    if (this.isMaterialTooltip) {\n      if (!destroy) {\n        EventHandler.add(this.tooltipElement, 'mousedown touchstart', this.materialTooltipEventCallBack, this);\n      } else {\n        EventHandler.remove(this.tooltipElement, 'mousedown touchstart', this.materialTooltipEventCallBack);\n      }\n    }\n  };\n\n  Slider.prototype.tooltipPositionCalculation = function (position) {\n    var cssClass;\n\n    switch (position) {\n      case 'TopCenter':\n        cssClass = classNames.horizontalTooltipBefore;\n        break;\n\n      case 'BottomCenter':\n        cssClass = classNames.horizontalTooltipAfter;\n        break;\n\n      case 'LeftCenter':\n        cssClass = classNames.verticalTooltipBefore;\n        break;\n\n      case 'RightCenter':\n        cssClass = classNames.verticalTooltipAfter;\n        break;\n    }\n\n    return cssClass;\n  };\n\n  Slider.prototype.getTooltipTransformProperties = function (className) {\n    var transformProperties;\n\n    if (this.tooltipElement) {\n      var position = this.orientation === 'Horizontal' ? this.tooltipElement.clientHeight + 14 - this.tooltipElement.clientHeight / 2 : this.tooltipElement.clientWidth + 14 - this.tooltipElement.clientWidth / 2;\n      transformProperties = this.orientation === 'Horizontal' ? className === classNames.horizontalTooltipBefore ? {\n        rotate: 'rotate(45deg)',\n        translate: \"translateY(\" + position + \"px)\"\n      } : {\n        rotate: 'rotate(225deg)',\n        translate: \"translateY(\" + -position + \"px)\"\n      } : className === classNames.verticalTooltipBefore ? {\n        rotate: 'rotate(-45deg)',\n        translate: \"translateX(\" + position + \"px)\"\n      } : {\n        rotate: 'rotate(-225deg)',\n        translate: \"translateX(\" + -position + \"px)\"\n      };\n    }\n\n    return transformProperties;\n  };\n\n  Slider.prototype.openMaterialTooltip = function () {\n    var _this = this;\n\n    if (this.isMaterialTooltip) {\n      this.refreshTooltip(this.firstHandle);\n      var tooltipContentElement = this.tooltipElement.firstElementChild;\n      tooltipContentElement.classList.remove(classNames.materialTooltipHide);\n      tooltipContentElement.classList.add(classNames.materialTooltipShow);\n      this.firstHandle.style.cursor = 'default';\n      this.tooltipElement.style.transition = this.scaleTransform;\n      this.tooltipElement.classList.add(classNames.materialTooltipOpen);\n      this.materialHandle.style.transform = 'scale(0)';\n\n      if (tooltipContentElement.innerText.length > 4) {\n        this.tooltipElement.style.transform = 'scale(1)';\n      } else {\n        this.tooltipElement.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n      }\n\n      if (this.type === 'Default') {\n        setTimeout(function () {\n          _this.tooltipElement.style.transition = _this.transition.handle;\n        }, 2500);\n      } else {\n        setTimeout(function () {\n          _this.tooltipElement.style.transition = 'none';\n        }, 2500);\n      }\n    }\n  };\n\n  Slider.prototype.closeMaterialTooltip = function () {\n    var _this = this;\n\n    if (this.isMaterialTooltip) {\n      var tooltipContentElement = this.tooltipElement.firstElementChild;\n      this.tooltipElement.style.transition = this.scaleTransform;\n      tooltipContentElement.classList.remove(classNames.materialTooltipShow);\n      tooltipContentElement.classList.add(classNames.materialTooltipHide);\n      this.firstHandle.style.cursor = '-webkit-grab';\n      this.firstHandle.style.cursor = 'grab';\n\n      if (this.materialHandle) {\n        this.materialHandle.style.transform = 'scale(1)';\n      }\n\n      this.tooltipElement.classList.remove(classNames.materialTooltipOpen);\n      this.setTooltipTransform();\n      this.tooltipTarget = undefined;\n      setTimeout(function () {\n        _this.tooltipElement.style.transition = 'none';\n      }, 2500);\n    }\n  };\n\n  Slider.prototype.checkTooltipPosition = function (args) {\n    var tooltipClass = this.tooltipPositionCalculation(args.collidedPosition);\n\n    if (this.tooltipCollidedPosition === undefined || this.tooltipCollidedPosition !== args.collidedPosition || !args.element.classList.contains(tooltipClass)) {\n      if (this.isMaterialTooltip) {\n        if (tooltipClass !== undefined) {\n          args.element.classList.remove(this.previousTooltipClass);\n          args.element.classList.add(tooltipClass);\n          this.previousTooltipClass = tooltipClass;\n        }\n\n        if (args.element.style.transform && args.element.classList.contains(classNames.materialTooltipOpen) && args.element.firstElementChild.innerText.length <= 4) {\n          args.element.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n        }\n      }\n\n      this.tooltipCollidedPosition = args.collidedPosition;\n    }\n\n    if (this.isMaterialTooltip && this.tooltipElement && this.tooltipElement.style.transform.indexOf('translate') !== -1) {\n      this.setTooltipTransform();\n    }\n  };\n\n  Slider.prototype.setTooltipTransform = function () {\n    var transformProperties = this.getTooltipTransformProperties(this.previousTooltipClass);\n\n    if (this.tooltipElement.firstElementChild.innerText.length > 4) {\n      this.tooltipElement.style.transform = transformProperties.translate + \" scale(0.01)\";\n    } else {\n      this.tooltipElement.style.transform = transformProperties.translate + \" \" + transformProperties.rotate + \" scale(0.01)\";\n    }\n  };\n\n  Slider.prototype.renderTooltip = function () {\n    this.tooltipObj = new Tooltip({\n      showTipPointer: this.isBootstrap || this.isMaterial || this.isBootstrap4 || this.isTailwind || this.isBootstrap5,\n      cssClass: classNames.sliderTooltip,\n      height: this.isMaterial ? 30 : 'auto',\n      animation: {\n        open: {\n          effect: 'None'\n        },\n        close: {\n          effect: 'FadeOut',\n          duration: 500\n        }\n      },\n      opensOn: 'Custom',\n      beforeOpen: this.tooltipBeforeOpen.bind(this),\n      beforeCollision: this.checkTooltipPosition.bind(this),\n      beforeClose: this.tooltipBeforeClose.bind(this),\n      enableHtmlSanitizer: this.enableHtmlSanitizer\n    });\n    this.tooltipObj.appendTo(this.firstHandle);\n    this.initializeTooltipProps();\n  };\n\n  Slider.prototype.initializeTooltipProps = function () {\n    var tooltipShowOn = this.isMaterialTooltip ? 'Always' : this.tooltip.showOn === 'Auto' ? 'Hover' : this.tooltip.showOn;\n    this.setProperties({\n      tooltip: {\n        showOn: tooltipShowOn\n      }\n    }, true);\n    this.tooltipObj.position = this.tooltipPlacement();\n    this.tooltipCollision(this.tooltipObj.position);\n    [this.firstHandle, this.rangeBar, this.secondHandle].forEach(function (handle) {\n      if (!isNullOrUndefined(handle)) {\n        handle.style.transition = 'none';\n      }\n    });\n\n    if (this.isMaterialTooltip) {\n      this.sliderContainer.classList.add(classNames.materialSlider);\n      this.tooltipValue();\n      this.tooltipObj.animation.close.effect = 'None';\n      this.tooltipObj.open(this.firstHandle);\n    }\n  };\n\n  Slider.prototype.tooltipBeforeClose = function () {\n    this.tooltipElement = undefined;\n    this.tooltipCollidedPosition = undefined;\n  };\n\n  Slider.prototype.setButtons = function () {\n    this.firstBtn = this.createElement('div', {\n      className: classNames.sliderButton + ' ' + classNames.firstButton\n    });\n    this.firstBtn.appendChild(this.createElement('span', {\n      className: classNames.sliderButtonIcon\n    }));\n\n    if (this.isTailwind) {\n      this.firstBtn.querySelector('span').classList.add('e-icons');\n    }\n\n    this.firstBtn.tabIndex = -1;\n    this.secondBtn = this.createElement('div', {\n      className: classNames.sliderButton + ' ' + classNames.secondButton\n    });\n    this.secondBtn.appendChild(this.createElement('span', {\n      className: classNames.sliderButtonIcon\n    }));\n\n    if (this.isTailwind) {\n      this.secondBtn.querySelector('span').classList.add('e-icons');\n    }\n\n    this.secondBtn.tabIndex = -1;\n    this.sliderContainer.classList.add(classNames.sliderButtonClass);\n    this.sliderContainer.appendChild(this.firstBtn);\n    this.sliderContainer.appendChild(this.secondBtn);\n    this.sliderContainer.appendChild(this.element);\n    this.buttonTitle();\n  };\n\n  Slider.prototype.buttonTitle = function () {\n    var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n    this.l10n.setLocale(this.locale);\n    var decrementTitle = this.l10n.getConstant('decrementTitle');\n    var incrementTitle = this.l10n.getConstant('incrementTitle');\n    attributes(enabledRTL ? this.secondBtn : this.firstBtn, {\n      'aria-label': decrementTitle,\n      title: decrementTitle\n    });\n    attributes(enabledRTL ? this.firstBtn : this.secondBtn, {\n      'aria-label': incrementTitle,\n      title: incrementTitle\n    });\n  };\n\n  Slider.prototype.buttonFocusOut = function () {\n    if (this.isMaterial) {\n      this.getHandle().classList.remove('e-large-thumb-size');\n    }\n  };\n\n  Slider.prototype.repeatButton = function (args) {\n    var hVal = this.handleValueUpdate();\n    var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n    var value;\n\n    if (args.target.parentElement.classList.contains(classNames.firstButton) || args.target.classList.contains(classNames.firstButton)) {\n      enabledRTL ? value = this.add(hVal, parseFloat(this.step.toString()), true) : value = this.add(hVal, parseFloat(this.step.toString()), false);\n    } else if (args.target.parentElement.classList.contains(classNames.secondButton) || args.target.classList.contains(classNames.secondButton)) {\n      enabledRTL ? value = this.add(hVal, parseFloat(this.step.toString()), false) : value = this.add(hVal, parseFloat(this.step.toString()), true);\n    }\n\n    if (this.limits.enabled) {\n      value = this.getLimitCorrectedValues(value);\n    }\n\n    if (value >= this.min && value <= this.max) {\n      this.changeHandleValue(value);\n      this.tooltipToggle(this.getHandle());\n    }\n  };\n\n  Slider.prototype.repeatHandlerMouse = function (args) {\n    args.preventDefault();\n\n    if (args.type === 'mousedown' || args.type === 'touchstart') {\n      this.buttonClick(args);\n      this.repeatInterval = setInterval(this.repeatButton.bind(this), 180, args);\n    }\n  };\n\n  Slider.prototype.materialChange = function () {\n    if (!this.getHandle().classList.contains('e-large-thumb-size')) {\n      this.getHandle().classList.add('e-large-thumb-size');\n    }\n  };\n\n  Slider.prototype.focusHandle = function () {\n    if (!this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n      this.getHandle().classList.add(classNames.sliderTabHandle);\n    }\n  };\n\n  Slider.prototype.repeatHandlerUp = function (e) {\n    this.changeEvent('changed', e);\n    this.closeTooltip();\n    clearInterval(this.repeatInterval);\n    this.getHandle().focus();\n  };\n\n  Slider.prototype.customTickCounter = function (bigNum) {\n    var tickCount = 4;\n\n    if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n      if (bigNum > 4) {\n        tickCount = 3;\n      }\n\n      if (bigNum > 7) {\n        tickCount = 2;\n      }\n\n      if (bigNum > 14) {\n        tickCount = 1;\n      }\n\n      if (bigNum > 28) {\n        tickCount = 0;\n      }\n    }\n\n    return tickCount;\n  }; // tslint:disable-next-line:max-func-body-length\n\n\n  Slider.prototype.renderScale = function () {\n    var liElementPosition = 0;\n    var orien = this.orientation === 'Vertical' ? 'v' : 'h';\n    var spanText;\n    this.noOfDecimals = this.numberOfDecimals(this.step);\n    this.ul = this.createElement('ul', {\n      className: classNames.scale + ' ' + 'e-' + orien + '-scale ' + classNames.tick + '-' + this.ticks.placement.toLowerCase(),\n      attrs: {\n        role: 'presentation',\n        tabIndex: '-1',\n        'aria-hidden': 'true'\n      }\n    });\n    this.ul.style.zIndex = '-1';\n\n    if (Browser.isAndroid && orien === 'h') {\n      this.ul.classList.add(classNames.sliderTickPosition);\n    }\n\n    var smallStep = this.ticks.smallStep;\n\n    if (!this.ticks.showSmallTicks) {\n      this.ticks.largeStep > 0 ? smallStep = this.ticks.largeStep : smallStep = parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min));\n    } else if (smallStep <= 0) {\n      smallStep = parseFloat(formatUnit(this.step));\n    }\n\n    var min = this.fractionalToInteger(this.min);\n    var max = this.fractionalToInteger(this.max);\n    var steps = this.fractionalToInteger(smallStep);\n    var bigNum = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 && this.customValues.length - 1;\n    var customStep = this.customTickCounter(bigNum);\n    var count = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ? bigNum * customStep + bigNum : Math.abs((max - min) / steps);\n    this.element.appendChild(this.ul);\n    var li;\n    var start = parseFloat(this.min.toString());\n\n    if (orien === 'v') {\n      start = parseFloat(this.max.toString());\n    }\n\n    var left = 0;\n    var islargeTick;\n    var tickWidth = 100 / count;\n\n    if (tickWidth === Infinity) {\n      tickWidth = 5;\n    }\n\n    for (var i = 0, y = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ? this.customValues.length - 1 : 0, k = 0; i <= count; i++) {\n      li = this.createElement('li', {\n        attrs: {\n          class: classNames.tick,\n          role: 'presentation',\n          tabIndex: '-1',\n          'aria-hidden': 'true'\n        }\n      });\n\n      if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n        islargeTick = i % (customStep + 1) === 0;\n\n        if (islargeTick) {\n          if (orien === 'h') {\n            start = this.customValues[k];\n            k++;\n          } else {\n            start = this.customValues[y];\n            y--;\n          }\n\n          li.setAttribute('title', start.toString());\n        }\n      } else {\n        li.setAttribute('title', start.toString());\n\n        if (this.numberOfDecimals(this.max) === 0 && this.numberOfDecimals(this.min) === 0 && this.numberOfDecimals(this.step) === 0) {\n          if (orien === 'h') {\n            islargeTick = (start - parseFloat(this.min.toString())) % this.ticks.largeStep === 0 ? true : false;\n          } else {\n            islargeTick = Math.abs(start - parseFloat(this.max.toString())) % this.ticks.largeStep === 0 ? true : false;\n          }\n        } else {\n          var largestep = this.fractionalToInteger(this.ticks.largeStep);\n          var startValue = this.fractionalToInteger(start);\n\n          if (orien === 'h') {\n            islargeTick = (startValue - min) % largestep === 0 ? true : false;\n          } else {\n            islargeTick = Math.abs(startValue - parseFloat(max.toString())) % largestep === 0 ? true : false;\n          }\n        }\n      }\n\n      if (islargeTick) {\n        li.classList.add(classNames.large);\n      }\n\n      orien === 'h' ? li.style.width = tickWidth + '%' : li.style.height = tickWidth + '%';\n      var repeat = islargeTick ? this.ticks.placement === 'Both' ? 2 : 1 : 0;\n\n      if (islargeTick) {\n        for (var j = 0; j < repeat; j++) {\n          this.createTick(li, start, tickWidth);\n        }\n      } else if (isNullOrUndefined(this.customValues)) {\n        this.formatTicksValue(li, start);\n      }\n\n      this.ul.appendChild(li);\n      this.tickElementCollection.push(li);\n      var decimalPoints = void 0;\n\n      if (isNullOrUndefined(this.customValues)) {\n        if (this.numberOfDecimals(smallStep) > this.numberOfDecimals(start)) {\n          decimalPoints = this.numberOfDecimals(smallStep);\n        } else {\n          decimalPoints = this.numberOfDecimals(start);\n        }\n\n        if (orien === 'h') {\n          start = this.makeRoundNumber(start + smallStep, decimalPoints);\n        } else {\n          start = this.makeRoundNumber(start - smallStep, decimalPoints);\n        }\n\n        left = this.makeRoundNumber(left + smallStep, decimalPoints);\n      }\n    }\n\n    this.ticksAlignment(orien, tickWidth);\n  };\n\n  Slider.prototype.ticksAlignment = function (orien, tickWidth, triggerEvent) {\n    if (triggerEvent === void 0) {\n      triggerEvent = true;\n    }\n\n    this.firstChild = this.ul.firstElementChild;\n    this.lastChild = this.ul.lastElementChild;\n    this.firstChild.classList.add(classNames.sliderFirstTick);\n    this.lastChild.classList.add(classNames.sliderLastTick);\n    this.sliderContainer.classList.add(classNames.scale + '-' + this.ticks.placement.toLowerCase());\n\n    if (orien === 'h') {\n      this.firstChild.style.width = tickWidth / 2 + '%';\n      this.lastChild.style.width = tickWidth / 2 + '%';\n    } else {\n      this.firstChild.style.height = tickWidth / 2 + '%';\n      this.lastChild.style.height = tickWidth / 2 + '%';\n    }\n\n    var eventArgs = {\n      ticksWrapper: this.ul,\n      tickElements: this.tickElementCollection\n    };\n\n    if (triggerEvent) {\n      this.trigger('renderedTicks', eventArgs);\n    }\n\n    this.scaleAlignment();\n  };\n\n  Slider.prototype.createTick = function (li, start, tickWidth) {\n    var span = this.createElement('span', {\n      className: classNames.tickValue + ' ' + classNames.tick + '-' + this.ticks.placement.toLowerCase(),\n      attrs: {\n        role: 'presentation',\n        tabIndex: '-1',\n        'aria-hidden': 'true'\n      }\n    });\n    li.appendChild(span);\n\n    if (isNullOrUndefined(this.customValues)) {\n      this.formatTicksValue(li, start, span, tickWidth);\n    } else {\n      if (this.enableHtmlSanitizer) {\n        span.innerHTML = SanitizeHtmlHelper.sanitize(start.toString());\n      } else {\n        span.innerHTML = start.toString();\n      }\n    }\n  };\n\n  Slider.prototype.formatTicksValue = function (li, start, spanElement, tickWidth) {\n    var _this = this;\n\n    var tickText = this.formatNumber(start);\n    var text = !isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format) ? this.formatString(start, this.ticksFormatInfo).formatString : tickText;\n    var eventArgs = {\n      value: start,\n      text: text,\n      tickElement: li\n    };\n    this.trigger('renderingTicks', eventArgs, function (observedArgs) {\n      li.setAttribute('title', observedArgs.text.toString());\n\n      if (spanElement) {\n        if (_this.enableHtmlSanitizer) {\n          spanElement.innerHTML = SanitizeHtmlHelper.sanitize(observedArgs.text.toString());\n        } else {\n          spanElement.innerHTML = observedArgs.text.toString();\n        }\n      }\n    });\n  };\n\n  Slider.prototype.scaleAlignment = function () {\n    this.tickValuePosition();\n    var smallTick = 12;\n    var largeTick = 20;\n    var half = largeTick / 2;\n    var orien = this.orientation === 'Vertical' ? 'v' : 'h';\n\n    if (this.orientation === 'Vertical') {\n      this.element.getBoundingClientRect().width <= 15 ? this.sliderContainer.classList.add(classNames.sliderSmallSize) : this.sliderContainer.classList.remove(classNames.sliderSmallSize);\n    } else {\n      this.element.getBoundingClientRect().height <= 15 ? this.sliderContainer.classList.add(classNames.sliderSmallSize) : this.sliderContainer.classList.remove(classNames.sliderSmallSize);\n    }\n  };\n\n  Slider.prototype.tickValuePosition = function () {\n    this.firstChild = this.element.querySelector('ul').children[0];\n    var first = this.firstChild.getBoundingClientRect();\n    var firstChild;\n    var otherChild;\n    var smallStep = this.ticks.smallStep;\n    var count = Math.abs(parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min))) / smallStep;\n\n    if (this.firstChild.children.length > 0) {\n      firstChild = this.firstChild.children[0].getBoundingClientRect();\n    }\n\n    var tickElements = [this.sliderContainer.querySelectorAll('.' + classNames.tick + '.' + classNames.large + ' .' + classNames.tickValue)];\n    var other;\n\n    if (this.ticks.placement === 'Both') {\n      other = [].slice.call(tickElements[0], 2);\n    } else {\n      other = [].slice.call(tickElements[0], 1);\n    }\n\n    var tickWidth = this.orientation === 'Vertical' ? first.height * 2 : first.width * 2;\n\n    for (var i = 0; i < this.firstChild.children.length; i++) {\n      if (this.orientation === 'Vertical') {\n        this.firstChild.children[i].style.top = -(firstChild.height / 2) + 'px';\n      } else {\n        if (!this.enableRtl) {\n          this.firstChild.children[i].style.left = -(firstChild.width / 2) + 'px';\n        } else {\n          this.firstChild.children[i].style.left = (tickWidth - this.firstChild.children[i].getBoundingClientRect().width) / 2 + 'px';\n        }\n      }\n    }\n\n    for (var i = 0; i < other.length; i++) {\n      otherChild = other[i].getBoundingClientRect();\n\n      if (this.orientation === 'Vertical') {\n        setStyleAttribute(other[i], {\n          top: (tickWidth - otherChild.height) / 2 + 'px'\n        });\n      } else {\n        setStyleAttribute(other[i], {\n          left: (tickWidth - otherChild.width) / 2 + 'px'\n        });\n      }\n    }\n\n    if (this.enableRtl && this.lastChild.children.length && count !== 0) {\n      this.lastChild.children[0].style.left = -(this.lastChild.getBoundingClientRect().width / 2) + 'px';\n\n      if (this.ticks.placement === 'Both') {\n        this.lastChild.children[1].style.left = -(this.lastChild.getBoundingClientRect().width / 2) + 'px';\n      }\n    }\n\n    if (count === 0) {\n      if (this.orientation === 'Horizontal') {\n        if (!this.enableRtl) {\n          this.firstChild.classList.remove(classNames.sliderLastTick);\n          this.firstChild.style.left = this.firstHandle.style.left;\n        } else {\n          this.firstChild.classList.remove(classNames.sliderLastTick);\n          this.firstChild.style.right = this.firstHandle.style.right;\n          this.firstChild.children[0].style.left = this.firstChild.getBoundingClientRect().width / 2 + 2 + 'px';\n\n          if (this.ticks.placement === 'Both') {\n            this.firstChild.children[1].style.left = this.firstChild.getBoundingClientRect().width / 2 + 2 + 'px';\n          }\n        }\n      }\n\n      if (this.orientation === 'Vertical') {\n        this.firstChild.classList.remove(classNames.sliderLastTick);\n      }\n    }\n  };\n\n  Slider.prototype.setAriaAttrValue = function (element) {\n    var ariaValueText;\n    var isTickFormatted = !isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format) ? true : false;\n    var text = !isTickFormatted ? this.formatContent(this.ticksFormatInfo, false) : this.formatContent(this.tooltipFormatInfo, false);\n    var valuenow = isTickFormatted ? this.formatContent(this.ticksFormatInfo, true) : this.formatContent(this.tooltipFormatInfo, true);\n    text = !this.customAriaText ? text : this.customAriaText;\n\n    if (text.split(' - ').length === 2) {\n      ariaValueText = text.split(' - ');\n    } else {\n      ariaValueText = [text, text];\n    }\n\n    this.setAriaAttributes(element);\n\n    if (this.type !== 'Range') {\n      attributes(element, {\n        'aria-valuenow': valuenow,\n        'aria-valuetext': text\n      });\n    } else {\n      // eslint-disable-next-line\n      !this.enableRtl ? element === this.firstHandle ? attributes(element, {\n        'aria-valuenow': valuenow.split(' - ')[0],\n        'aria-valuetext': ariaValueText[0]\n      }) : attributes(element, {\n        'aria-valuenow': valuenow.split(' - ')[1],\n        'aria-valuetext': ariaValueText[1]\n      }) : element === this.firstHandle ? attributes(element, {\n        'aria-valuenow': valuenow.split(' - ')[1],\n        'aria-valuetext': ariaValueText[1]\n      }) : attributes(element, {\n        'aria-valuenow': valuenow.split(' - ')[0],\n        'aria-valuetext': ariaValueText[0]\n      });\n    }\n  };\n\n  Slider.prototype.handleValueUpdate = function () {\n    var hVal;\n\n    if (this.type === 'Range') {\n      if (this.activeHandle === 1) {\n        hVal = this.handleVal1;\n      } else {\n        hVal = this.handleVal2;\n      }\n    } else {\n      hVal = this.handleVal1;\n    }\n\n    return hVal;\n  };\n\n  Slider.prototype.getLimitCorrectedValues = function (value) {\n    if (this.type === 'MinRange' || this.type === 'Default') {\n      value = this.getLimitValueAndPosition(value, this.limits.minStart, this.limits.minEnd)[0];\n    } else {\n      if (this.activeHandle === 1) {\n        value = this.getLimitValueAndPosition(value, this.limits.minStart, this.limits.minEnd)[0];\n      } else {\n        value = this.getLimitValueAndPosition(value, this.limits.maxStart, this.limits.maxEnd)[0];\n      }\n    }\n\n    return value;\n  };\n\n  Slider.prototype.focusSliderElement = function () {\n    if (!this.isElementFocused) {\n      this.element.focus();\n      this.isElementFocused = true;\n    }\n  };\n\n  Slider.prototype.buttonClick = function (args) {\n    this.focusSliderElement();\n    var value;\n    var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n    var hVal = this.handleValueUpdate();\n\n    if (args.keyCode === 40 || args.keyCode === 37 || args.currentTarget.classList.contains(classNames.firstButton)) {\n      // eslint-disable-next-line\n      enabledRTL ? value = this.add(hVal, parseFloat(this.step.toString()), true) : value = this.add(hVal, parseFloat(this.step.toString()), false);\n    } else if (args.keyCode === 38 || args.keyCode === 39 || args.currentTarget.classList.contains(classNames.secondButton)) {\n      // eslint-disable-next-line\n      enabledRTL ? value = this.add(hVal, parseFloat(this.step.toString()), false) : value = this.add(hVal, parseFloat(this.step.toString()), true);\n    } else if (args.keyCode === 33 || args.currentTarget.classList.contains(classNames.firstButton)) {\n      // eslint-disable-next-line\n      enabledRTL ? value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), false) : value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), true);\n    } else if (args.keyCode === 34 || args.currentTarget.classList.contains(classNames.secondButton)) {\n      // eslint-disable-next-line\n      enabledRTL ? value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), true) : value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), false);\n    } else if (args.keyCode === 36) {\n      value = parseFloat(this.min.toString());\n    } else if (args.keyCode === 35) {\n      value = parseFloat(this.max.toString());\n    }\n\n    if (this.limits.enabled) {\n      value = this.getLimitCorrectedValues(value);\n    }\n\n    this.changeHandleValue(value);\n\n    if (this.isMaterial && !this.tooltip.isVisible && !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n      this.materialChange();\n    }\n\n    this.tooltipToggle(this.getHandle());\n    this.getHandle().focus();\n    this.focusHandle();\n\n    if (args.currentTarget.classList.contains(classNames.firstButton)) {\n      EventHandler.add(this.firstBtn, 'mouseup touchend', this.buttonUp, this);\n    }\n\n    if (args.currentTarget.classList.contains(classNames.secondButton)) {\n      EventHandler.add(this.secondBtn, 'mouseup touchend', this.buttonUp, this);\n    }\n  };\n\n  Slider.prototype.tooltipToggle = function (target) {\n    if (this.isMaterialTooltip) {\n      // eslint-disable-next-line\n      !this.tooltipElement.classList.contains(classNames.materialTooltipOpen) ? this.openMaterialTooltip() : this.refreshTooltip(this.firstHandle);\n    } else {\n      // eslint-disable-next-line\n      !this.tooltipElement ? this.openTooltip(target) : this.refreshTooltip(target);\n    }\n  };\n\n  Slider.prototype.buttonUp = function (args) {\n    if (args.currentTarget.classList.contains(classNames.firstButton)) {\n      EventHandler.remove(this.firstBtn, 'mouseup touchend', this.buttonUp);\n    }\n\n    if (args.currentTarget.classList.contains(classNames.secondButton)) {\n      EventHandler.remove(this.secondBtn, 'mouseup touchend', this.buttonUp);\n    }\n  };\n\n  Slider.prototype.setRangeBar = function () {\n    if (this.orientation === 'Horizontal') {\n      if (this.type === 'MinRange') {\n        // eslint-disable-next-line\n        this.enableRtl ? this.rangeBar.style.right = '0px' : this.rangeBar.style.left = '0px';\n        setStyleAttribute(this.rangeBar, {\n          'width': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px'\n        });\n      } else {\n        // eslint-disable-next-line\n        this.enableRtl ? this.rangeBar.style.right = this.handlePos1 + 'px' : this.rangeBar.style.left = this.handlePos1 + 'px';\n        setStyleAttribute(this.rangeBar, {\n          'width': this.handlePos2 - this.handlePos1 + 'px'\n        });\n      }\n    } else {\n      if (this.type === 'MinRange') {\n        this.rangeBar.style.bottom = '0px';\n        setStyleAttribute(this.rangeBar, {\n          'height': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px'\n        });\n      } else {\n        this.rangeBar.style.bottom = this.handlePos1 + 'px';\n        setStyleAttribute(this.rangeBar, {\n          'height': this.handlePos2 - this.handlePos1 + 'px'\n        });\n      }\n    }\n  };\n\n  Slider.prototype.checkValidValueAndPos = function (value) {\n    value = this.checkHandleValue(value);\n    value = this.checkHandlePosition(value);\n    return value;\n  };\n\n  Slider.prototype.setLimitBarPositions = function (fromMinPostion, fromMaxpostion, toMinPostion, toMaxpostion) {\n    if (this.orientation === 'Horizontal') {\n      if (!this.enableRtl) {\n        this.limitBarFirst.style.left = fromMinPostion + 'px';\n        this.limitBarFirst.style.width = fromMaxpostion - fromMinPostion + 'px';\n      } else {\n        this.limitBarFirst.style.right = fromMinPostion + 'px';\n        this.limitBarFirst.style.width = fromMaxpostion - fromMinPostion + 'px';\n      }\n    } else {\n      this.limitBarFirst.style.bottom = fromMinPostion + 'px';\n      this.limitBarFirst.style.height = fromMaxpostion - fromMinPostion + 'px';\n    }\n\n    if (this.type === 'Range') {\n      if (this.orientation === 'Horizontal') {\n        if (!this.enableRtl) {\n          this.limitBarSecond.style.left = toMinPostion + 'px';\n          this.limitBarSecond.style.width = toMaxpostion - toMinPostion + 'px';\n        } else {\n          this.limitBarSecond.style.right = toMinPostion + 'px';\n          this.limitBarSecond.style.width = toMaxpostion - toMinPostion + 'px';\n        }\n      } else {\n        this.limitBarSecond.style.bottom = toMinPostion + 'px';\n        this.limitBarSecond.style.height = toMaxpostion - toMinPostion + 'px';\n      }\n    }\n  };\n\n  Slider.prototype.setLimitBar = function () {\n    if (this.type === 'Default' || this.type === 'MinRange') {\n      var fromPosition = this.getLimitValueAndPosition(this.limits.minStart, this.limits.minStart, this.limits.minEnd, true)[0];\n      fromPosition = this.checkValidValueAndPos(fromPosition);\n      var toPosition = this.getLimitValueAndPosition(this.limits.minEnd, this.limits.minStart, this.limits.minEnd, true)[0];\n      toPosition = this.checkValidValueAndPos(toPosition);\n      this.setLimitBarPositions(fromPosition, toPosition);\n    } else if (this.type === 'Range') {\n      var fromMinPostion = this.getLimitValueAndPosition(this.limits.minStart, this.limits.minStart, this.limits.minEnd, true)[0];\n      fromMinPostion = this.checkValidValueAndPos(fromMinPostion);\n      var fromMaxpostion = this.getLimitValueAndPosition(this.limits.minEnd, this.limits.minStart, this.limits.minEnd, true)[0];\n      fromMaxpostion = this.checkValidValueAndPos(fromMaxpostion);\n      var toMinPostion = this.getLimitValueAndPosition(this.limits.maxStart, this.limits.maxStart, this.limits.maxEnd, true)[0];\n      toMinPostion = this.checkValidValueAndPos(toMinPostion);\n      var toMaxpostion = this.getLimitValueAndPosition(this.limits.maxEnd, this.limits.maxStart, this.limits.maxEnd, true)[0];\n      toMaxpostion = this.checkValidValueAndPos(toMaxpostion);\n      this.setLimitBarPositions(fromMinPostion, fromMaxpostion, toMinPostion, toMaxpostion);\n    }\n  };\n\n  Slider.prototype.getLimitValueAndPosition = function (currentValue, minValue, maxValue, limitBar) {\n    if (isNullOrUndefined(minValue)) {\n      minValue = this.min;\n\n      if (isNullOrUndefined(currentValue) && limitBar) {\n        currentValue = minValue;\n      }\n    }\n\n    if (isNullOrUndefined(maxValue)) {\n      maxValue = this.max;\n\n      if (isNullOrUndefined(currentValue) && limitBar) {\n        currentValue = maxValue;\n      }\n    }\n\n    if (currentValue < minValue) {\n      currentValue = minValue;\n    }\n\n    if (currentValue > maxValue) {\n      currentValue = maxValue;\n    }\n\n    return [currentValue, this.checkHandlePosition(currentValue)];\n  };\n\n  Slider.prototype.setValue = function () {\n    if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n      this.min = 0;\n      this.max = this.customValues.length - 1;\n      this.setBarColor();\n    }\n\n    this.setAriaAttributes(this.firstHandle);\n    this.handleVal1 = isNullOrUndefined(this.value) ? this.checkHandleValue(parseFloat(this.min.toString())) : this.checkHandleValue(parseFloat(this.value.toString()));\n    this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n    this.preHandlePos1 = this.handlePos1; // eslint-disable-next-line\n\n    isNullOrUndefined(this.activeHandle) ? this.type === 'Range' ? this.activeHandle = 2 : this.activeHandle = 1 : // eslint-disable-next-line no-self-assign\n    this.activeHandle = this.activeHandle;\n\n    if (this.type === 'Default' || this.type === 'MinRange') {\n      if (this.limits.enabled) {\n        var values = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n        this.handleVal1 = values[0];\n        this.handlePos1 = values[1];\n        this.preHandlePos1 = this.handlePos1;\n      }\n\n      this.setHandlePosition(null);\n      this.handleStart();\n      this.value = this.handleVal1;\n      this.setAriaAttrValue(this.firstHandle);\n      this.changeEvent('changed', null);\n    } else {\n      this.validateRangeValue();\n    }\n\n    if (this.type !== 'Default') {\n      this.setRangeBar();\n    }\n\n    if (this.limits.enabled) {\n      this.setLimitBar();\n    }\n  };\n\n  Slider.prototype.rangeValueUpdate = function () {\n    if (this.value === null || typeof this.value !== 'object') {\n      this.value = [parseFloat(formatUnit(this.min)), parseFloat(formatUnit(this.max))];\n    }\n  };\n\n  Slider.prototype.validateRangeValue = function () {\n    this.rangeValueUpdate();\n    this.setRangeValue();\n  };\n\n  Slider.prototype.modifyZindex = function () {\n    if (this.type === 'Range') {\n      if (this.activeHandle === 1) {\n        this.firstHandle.style.zIndex = this.zIndex + 4 + '';\n        this.secondHandle.style.zIndex = this.zIndex + 3 + '';\n      } else {\n        this.firstHandle.style.zIndex = this.zIndex + 3 + '';\n        this.secondHandle.style.zIndex = this.zIndex + 4 + '';\n      }\n    } else if (this.isMaterialTooltip && this.tooltipElement) {\n      this.tooltipElement.style.zIndex = getZindexPartial(this.element) + '';\n    }\n  };\n\n  Slider.prototype.setHandlePosition = function (event) {\n    var _this = this;\n\n    var handle;\n    var pos = this.activeHandle === 1 ? this.handlePos1 : this.handlePos2;\n\n    if (this.isMaterialTooltip) {\n      handle = [this.firstHandle, this.materialHandle];\n    } else {\n      handle = [this.getHandle()];\n    }\n\n    this.handleStart();\n    handle.forEach(function (handle) {\n      if (_this.orientation === 'Horizontal') {\n        // eslint-disable-next-line\n        _this.enableRtl ? handle.style.right = pos + \"px\" : handle.style.left = pos + \"px\";\n      } else {\n        handle.style.bottom = pos + \"px\";\n      }\n    });\n    this.changeEvent('change', event);\n  };\n\n  Slider.prototype.getHandle = function () {\n    return this.activeHandle === 1 ? this.firstHandle : this.secondHandle;\n  };\n\n  Slider.prototype.setRangeValue = function () {\n    this.updateRangeValue();\n    this.activeHandle = 1;\n    this.setHandlePosition(null);\n    this.activeHandle = 2;\n    this.setHandlePosition(null);\n    this.activeHandle = 1;\n  };\n\n  Slider.prototype.changeEvent = function (eventName, e) {\n    var previous = eventName === 'change' ? this.previousVal : this.previousChanged;\n\n    if (this.type !== 'Range') {\n      this.setProperties({\n        'value': this.handleVal1\n      }, true);\n\n      if (previous !== this.value && (!this.isMaterialTooltip || !this.initialTooltip)) {\n        this.trigger(eventName, this.changeEventArgs(eventName, e));\n        this.initialTooltip = true;\n        this.setPreviousVal(eventName, this.value);\n      }\n\n      this.setAriaAttrValue(this.firstHandle);\n    } else {\n      var value = this.value = [this.handleVal1, this.handleVal2];\n      this.setProperties({\n        'value': value\n      }, true);\n\n      if (previous.length === this.value.length && this.value[0] !== previous[0] || this.value[1] !== previous[1]) {\n        this.initialTooltip = false;\n        this.trigger(eventName, this.changeEventArgs(eventName, e));\n        this.initialTooltip = true;\n        this.setPreviousVal(eventName, this.value);\n      }\n\n      this.setAriaAttrValue(this.getHandle());\n    }\n\n    this.hiddenInput.value = this.value.toString();\n  };\n\n  Slider.prototype.changeEventArgs = function (eventName, e) {\n    var eventArgs;\n\n    if (this.tooltip.isVisible && this.tooltipObj && this.initialTooltip) {\n      this.tooltipValue();\n      eventArgs = {\n        value: this.value,\n        previousValue: eventName === 'change' ? this.previousVal : this.previousChanged,\n        action: eventName,\n        text: this.tooltipObj.content,\n        isInteracted: isNullOrUndefined(e) ? false : true\n      };\n    } else {\n      eventArgs = {\n        value: this.value,\n        previousValue: eventName === 'change' ? this.previousVal : this.previousChanged,\n        action: eventName,\n        text: isNullOrUndefined(this.ticksFormatInfo.format) ? this.value.toString() : this.type !== 'Range' ? this.formatString(this.value, this.ticksFormatInfo).formatString : this.formatString(this.value[0], this.ticksFormatInfo).formatString + ' - ' + this.formatString(this.value[1], this.ticksFormatInfo).formatString,\n        isInteracted: isNullOrUndefined(e) ? false : true\n      };\n    }\n\n    return eventArgs;\n  };\n\n  Slider.prototype.setPreviousVal = function (eventName, value) {\n    if (eventName === 'change') {\n      this.previousVal = value;\n    } else {\n      this.previousChanged = value;\n    }\n  };\n\n  Slider.prototype.updateRangeValue = function () {\n    var values = this.value.toString().split(',').map(Number);\n\n    if (this.enableRtl && this.orientation !== 'Vertical' || this.rtl) {\n      this.value = [values[1], values[0]];\n    } else {\n      this.value = [values[0], values[1]];\n    }\n\n    if (this.enableRtl && this.orientation !== 'Vertical') {\n      this.handleVal1 = this.checkHandleValue(this.value[1]);\n      this.handleVal2 = this.checkHandleValue(this.value[0]);\n    } else {\n      this.handleVal1 = this.checkHandleValue(this.value[0]);\n      this.handleVal2 = this.checkHandleValue(this.value[1]);\n    }\n\n    this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n    this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n\n    if (this.handlePos1 > this.handlePos2) {\n      this.handlePos1 = this.handlePos2;\n      this.handleVal1 = this.handleVal2;\n    }\n\n    this.preHandlePos1 = this.handlePos1;\n    this.preHandlePos2 = this.handlePos2;\n\n    if (this.limits.enabled) {\n      this.activeHandle = 1;\n      var values_1 = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n      this.handleVal1 = values_1[0];\n      this.handlePos1 = values_1[1];\n      this.preHandlePos1 = this.handlePos1;\n      this.activeHandle = 2;\n      values_1 = this.getLimitValueAndPosition(this.handleVal2, this.limits.maxStart, this.limits.maxEnd);\n      this.handleVal2 = values_1[0];\n      this.handlePos2 = values_1[1];\n      this.preHandlePos2 = this.handlePos2;\n    }\n  };\n\n  Slider.prototype.checkHandlePosition = function (value) {\n    var pos;\n    value = 100 * (value - parseFloat(formatUnit(this.min))) / (parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min)));\n\n    if (this.orientation === 'Horizontal') {\n      pos = this.element.getBoundingClientRect().width * (value / 100);\n    } else {\n      pos = this.element.getBoundingClientRect().height * (value / 100);\n    }\n\n    if (parseFloat(formatUnit(this.max)) === parseFloat(formatUnit(this.min))) {\n      if (this.orientation === 'Horizontal') {\n        pos = this.element.getBoundingClientRect().width;\n      } else {\n        pos = this.element.getBoundingClientRect().height;\n      }\n    }\n\n    return pos;\n  };\n\n  Slider.prototype.checkHandleValue = function (value) {\n    if (this.min > this.max) {\n      this.min = this.max;\n    }\n\n    if (this.min === this.max) {\n      return parseFloat(formatUnit(this.max));\n    }\n\n    var handle = this.tempStartEnd();\n\n    if (value < handle.start) {\n      value = handle.start;\n    } else if (value > handle.end) {\n      value = handle.end;\n    }\n\n    return value;\n  };\n  /**\r\n   * It is used to reposition slider.\r\n   * @returns void\r\n   */\n\n\n  Slider.prototype.reposition = function () {\n    var _this = this;\n\n    this.firstHandle.style.transition = 'none';\n\n    if (this.type !== 'Default') {\n      this.rangeBar.style.transition = 'none';\n    }\n\n    if (this.type === 'Range') {\n      this.secondHandle.style.transition = 'none';\n    }\n\n    this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n\n    if (this.handleVal2) {\n      this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n    }\n\n    if (this.orientation === 'Horizontal') {\n      // eslint-disable-next-line\n      this.enableRtl ? this.firstHandle.style.right = this.handlePos1 + \"px\" : this.firstHandle.style.left = this.handlePos1 + \"px\";\n\n      if (this.isMaterialTooltip) {\n        // eslint-disable-next-line\n        this.enableRtl ? this.materialHandle.style.right = this.handlePos1 + \"px\" : this.materialHandle.style.left = this.handlePos1 + \"px\";\n      }\n\n      if (this.type === 'MinRange') {\n        // eslint-disable-next-line\n        this.enableRtl ? this.rangeBar.style.right = '0px' : this.rangeBar.style.left = '0px';\n        setStyleAttribute(this.rangeBar, {\n          'width': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px'\n        });\n      } else if (this.type === 'Range') {\n        // eslint-disable-next-line\n        this.enableRtl ? this.secondHandle.style.right = this.handlePos2 + \"px\" : this.secondHandle.style.left = this.handlePos2 + \"px\"; // eslint-disable-next-line\n\n        this.enableRtl ? this.rangeBar.style.right = this.handlePos1 + 'px' : this.rangeBar.style.left = this.handlePos1 + 'px';\n        setStyleAttribute(this.rangeBar, {\n          'width': this.handlePos2 - this.handlePos1 + 'px'\n        });\n      }\n    } else {\n      this.firstHandle.style.bottom = this.handlePos1 + \"px\";\n\n      if (this.isMaterialTooltip) {\n        this.materialHandle.style.bottom = this.handlePos1 + \"px\";\n      }\n\n      if (this.type === 'MinRange') {\n        this.rangeBar.style.bottom = '0px';\n        setStyleAttribute(this.rangeBar, {\n          'height': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px'\n        });\n      } else if (this.type === 'Range') {\n        this.secondHandle.style.bottom = this.handlePos2 + \"px\";\n        this.rangeBar.style.bottom = this.handlePos1 + 'px';\n        setStyleAttribute(this.rangeBar, {\n          'height': this.handlePos2 - this.handlePos1 + 'px'\n        });\n      }\n    }\n\n    if (this.limits.enabled) {\n      this.setLimitBar();\n    }\n\n    if (this.ticks.placement !== 'None' && this.ul) {\n      this.removeElement(this.ul);\n      this.ul = undefined;\n      this.renderScale();\n    }\n\n    this.handleStart();\n\n    if (!this.tooltip.isVisible) {\n      setTimeout(function () {\n        _this.firstHandle.style.transition = _this.scaleTransform;\n\n        if (_this.type === 'Range') {\n          _this.secondHandle.style.transition = _this.scaleTransform;\n        }\n      });\n    }\n\n    this.refreshTooltip(this.tooltipTarget);\n    this.setBarColor();\n  };\n\n  Slider.prototype.changeHandleValue = function (value) {\n    var position = null;\n\n    if (this.activeHandle === 1) {\n      if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n        this.handleVal1 = this.checkHandleValue(value);\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n\n        if (this.type === 'Range' && this.handlePos1 > this.handlePos2) {\n          this.handlePos1 = this.handlePos2;\n          this.handleVal1 = this.handleVal2;\n        }\n\n        if (this.handlePos1 !== this.preHandlePos1) {\n          position = this.preHandlePos1 = this.handlePos1;\n        }\n      }\n\n      this.modifyZindex();\n    } else {\n      if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n        this.handleVal2 = this.checkHandleValue(value);\n        this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n\n        if (this.type === 'Range' && this.handlePos2 < this.handlePos1) {\n          this.handlePos2 = this.handlePos1;\n          this.handleVal2 = this.handleVal1;\n        }\n\n        if (this.handlePos2 !== this.preHandlePos2) {\n          position = this.preHandlePos2 = this.handlePos2;\n        }\n      }\n\n      this.modifyZindex();\n    }\n\n    if (position !== null) {\n      if (this.type !== 'Default') {\n        this.setRangeBar();\n      }\n\n      this.setHandlePosition(null);\n    }\n  }; // eslint-disable-next-line\n\n\n  Slider.prototype.tempStartEnd = function () {\n    if (this.min > this.max) {\n      return {\n        start: this.max,\n        end: this.min\n      };\n    } else {\n      return {\n        start: this.min,\n        end: this.max\n      };\n    }\n  }; // eslint-disable-next-line\n\n\n  Slider.prototype.xyToPosition = function (position) {\n    var pos;\n\n    if (this.min === this.max) {\n      return 100;\n    }\n\n    if (this.orientation === 'Horizontal') {\n      var left = position.x - this.element.getBoundingClientRect().left;\n      var num = this.element.offsetWidth / 100;\n      this.val = left / num;\n    } else {\n      var top_1 = position.y - this.element.getBoundingClientRect().top;\n      var num = this.element.offsetHeight / 100;\n      this.val = 100 - top_1 / num;\n    }\n\n    var val = this.stepValueCalculation(this.val);\n\n    if (val < 0) {\n      val = 0;\n    } else if (val > 100) {\n      val = 100;\n    }\n\n    if (this.enableRtl && this.orientation !== 'Vertical') {\n      val = 100 - val;\n    }\n\n    if (this.orientation === 'Horizontal') {\n      pos = this.element.getBoundingClientRect().width * (val / 100);\n    } else {\n      pos = this.element.getBoundingClientRect().height * (val / 100);\n    }\n\n    return pos;\n  };\n\n  Slider.prototype.stepValueCalculation = function (value) {\n    if (this.step === 0) {\n      this.step = 1;\n    }\n\n    var percentStep = parseFloat(formatUnit(this.step)) / ((parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min))) / 100);\n    var remain = value % Math.abs(percentStep);\n\n    if (remain !== 0) {\n      if (percentStep / 2 > remain) {\n        value -= remain;\n      } else {\n        value += Math.abs(percentStep) - remain;\n      }\n    }\n\n    return value;\n  };\n\n  Slider.prototype.add = function (a, b, addition) {\n    var precision;\n    var x = Math.pow(10, precision || 3);\n    var val;\n\n    if (addition) {\n      val = (Math.round(a * x) + Math.round(b * x)) / x;\n    } else {\n      val = (Math.round(a * x) - Math.round(b * x)) / x;\n    }\n\n    return val;\n  };\n\n  Slider.prototype.positionToValue = function (pos) {\n    var val;\n    var diff = parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min));\n\n    if (this.orientation === 'Horizontal') {\n      val = pos / this.element.getBoundingClientRect().width * diff;\n    } else {\n      val = pos / this.element.getBoundingClientRect().height * diff;\n    }\n\n    var total = this.add(val, parseFloat(this.min.toString()), true);\n    return total;\n  };\n\n  Slider.prototype.sliderBarClick = function (evt) {\n    evt.preventDefault(); // eslint-disable-next-line\n\n    var pos;\n\n    if (evt.type === 'mousedown' || evt.type === 'mouseup' || evt.type === 'click') {\n      pos = {\n        x: evt.clientX,\n        y: evt.clientY\n      };\n    } else if (evt.type === 'touchend' || evt.type === 'touchstart') {\n      pos = {\n        x: evt.changedTouches[0].clientX,\n        y: evt.changedTouches[0].clientY\n      };\n    }\n\n    var handlepos = this.xyToPosition(pos);\n    var handleVal = this.positionToValue(handlepos);\n\n    if (this.type === 'Range' && this.handlePos2 - handlepos < handlepos - this.handlePos1) {\n      this.activeHandle = 2;\n\n      if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n        if (this.limits.enabled) {\n          var value = this.getLimitValueAndPosition(handleVal, this.limits.maxStart, this.limits.maxEnd);\n          handleVal = value[0];\n          handlepos = value[1];\n        }\n\n        this.secondHandle.classList.add(classNames.sliderActiveHandle);\n        this.handlePos2 = this.preHandlePos2 = handlepos;\n        this.handleVal2 = handleVal;\n      }\n\n      this.modifyZindex();\n      this.secondHandle.focus();\n    } else {\n      this.activeHandle = 1;\n\n      if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n        if (this.limits.enabled) {\n          var value = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n          handleVal = value[0];\n          handlepos = value[1];\n        }\n\n        this.firstHandle.classList.add(classNames.sliderActiveHandle);\n        this.handlePos1 = this.preHandlePos1 = handlepos;\n        this.handleVal1 = handleVal;\n      }\n\n      this.modifyZindex();\n      this.firstHandle.focus();\n    }\n\n    if (this.isMaterialTooltip) {\n      this.tooltipElement.classList.add(classNames.materialTooltipActive);\n    }\n\n    var focusedElement = this.element.querySelector('.' + classNames.sliderTabHandle);\n\n    if (focusedElement && this.getHandle() !== focusedElement) {\n      focusedElement.classList.remove(classNames.sliderTabHandle);\n    }\n\n    var handle = this.activeHandle === 1 ? this.firstHandle : this.secondHandle;\n\n    if (evt.target === handle) {\n      if (this.isMaterial && !this.tooltip.isVisible && !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n        this.materialChange();\n      }\n\n      this.sliderBarUp(evt);\n      this.tooltipToggle(this.getHandle());\n      return;\n    }\n\n    if (!this.checkRepeatedValue(handleVal)) {\n      return;\n    }\n\n    var transition = this.isMaterial && this.tooltip.isVisible ? this.transitionOnMaterialTooltip : this.transition;\n    this.getHandle().style.transition = transition.handle;\n\n    if (this.type !== 'Default') {\n      this.rangeBar.style.transition = transition.rangeBar;\n    }\n\n    this.setHandlePosition(evt);\n\n    if (this.isMaterialTooltip) {\n      this.initialTooltip = false;\n    }\n\n    this.changeEvent('changed', evt);\n\n    if (this.type !== 'Default') {\n      this.setRangeBar();\n    }\n  };\n\n  Slider.prototype.handleValueAdjust = function (handleValue, assignValue, handleNumber) {\n    if (handleNumber === 1) {\n      this.handleVal1 = assignValue;\n      this.handleVal2 = this.handleVal1 + this.minDiff;\n    } else if (handleNumber === 2) {\n      this.handleVal2 = assignValue;\n      this.handleVal1 = this.handleVal2 - this.minDiff;\n    }\n\n    this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n    this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n  };\n\n  Slider.prototype.dragRangeBarMove = function (event) {\n    var _a, _b;\n\n    if (event.type !== 'touchmove') {\n      event.preventDefault();\n    }\n\n    this.rangeBarDragged = true;\n    var pos;\n    this.rangeBar.style.transition = 'none';\n    this.firstHandle.style.transition = 'none';\n    this.secondHandle.style.transition = 'none';\n    var xPostion;\n    var yPostion;\n\n    if (event.type === 'mousemove') {\n      _a = [event.clientX, event.clientY], xPostion = _a[0], yPostion = _a[1];\n    } else {\n      _b = [event.changedTouches[0].clientX, event.changedTouches[0].clientY], xPostion = _b[0], yPostion = _b[1];\n    }\n\n    if (!(this.limits.enabled && this.limits.startHandleFixed) && !(this.limits.enabled && this.limits.endHandleFixed)) {\n      if (!this.enableRtl) {\n        pos = {\n          x: xPostion - this.firstPartRemain,\n          y: yPostion + this.secondPartRemain\n        };\n      } else {\n        pos = {\n          x: xPostion + this.secondPartRemain,\n          y: yPostion + this.secondPartRemain\n        };\n      }\n\n      this.handlePos1 = this.xyToPosition(pos);\n      this.handleVal1 = this.positionToValue(this.handlePos1);\n\n      if (!this.enableRtl) {\n        pos = {\n          x: xPostion + this.secondPartRemain,\n          y: yPostion - this.firstPartRemain\n        };\n      } else {\n        pos = {\n          x: xPostion - this.firstPartRemain,\n          y: yPostion - this.firstPartRemain\n        };\n      }\n\n      this.handlePos2 = this.xyToPosition(pos);\n      this.handleVal2 = this.positionToValue(this.handlePos2);\n\n      if (this.limits.enabled) {\n        var value = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n        this.handleVal1 = value[0];\n        this.handlePos1 = value[1];\n\n        if (this.handleVal1 === this.limits.minEnd) {\n          this.handleValueAdjust(this.handleVal1, this.limits.minEnd, 1);\n        }\n\n        if (this.handleVal1 === this.limits.minStart) {\n          this.handleValueAdjust(this.handleVal1, this.limits.minStart, 1);\n        }\n\n        value = this.getLimitValueAndPosition(this.handleVal2, this.limits.maxStart, this.limits.maxEnd);\n        this.handleVal2 = value[0];\n        this.handlePos2 = value[1];\n\n        if (this.handleVal2 === this.limits.maxStart) {\n          this.handleValueAdjust(this.handleVal2, this.limits.maxStart, 2);\n        }\n\n        if (this.handleVal2 === this.limits.maxEnd) {\n          this.handleValueAdjust(this.handleVal2, this.limits.maxEnd, 2);\n        }\n      }\n\n      if (this.handleVal2 === this.max) {\n        this.handleValueAdjust(this.handleVal2, this.max, 2);\n      }\n\n      if (this.handleVal1 === this.min) {\n        this.handleValueAdjust(this.handleVal1, this.min, 1);\n      }\n    }\n\n    this.activeHandle = 1;\n    this.setHandlePosition(event);\n    this.activeHandle = 2;\n    this.setHandlePosition(event);\n    this.tooltipToggle(this.rangeBar);\n    this.setRangeBar();\n  };\n\n  Slider.prototype.sliderBarUp = function (event) {\n    this.changeEvent('changed', event);\n    this.handleFocusOut();\n    this.firstHandle.classList.remove(classNames.sliderActiveHandle);\n\n    if (this.type === 'Range') {\n      this.initialTooltip = false;\n      this.secondHandle.classList.remove(classNames.sliderActiveHandle);\n    }\n\n    this.closeTooltip();\n\n    if (this.isMaterial) {\n      this.getHandle().classList.remove('e-large-thumb-size');\n\n      if (this.isMaterialTooltip) {\n        this.tooltipElement.classList.remove(classNames.materialTooltipActive);\n      }\n    }\n\n    EventHandler.remove(document, 'mousemove touchmove', this.sliderBarMove);\n    EventHandler.remove(document, 'mouseup touchend', this.sliderBarUp);\n  };\n\n  Slider.prototype.sliderBarMove = function (evt) {\n    if (evt.type !== 'touchmove') {\n      evt.preventDefault();\n    }\n\n    var pos;\n\n    if (evt.type === 'mousemove') {\n      pos = {\n        x: evt.clientX,\n        y: evt.clientY\n      };\n    } else {\n      pos = {\n        x: evt.changedTouches[0].clientX,\n        y: evt.changedTouches[0].clientY\n      };\n    }\n\n    var handlepos = this.xyToPosition(pos);\n    var handleVal = this.positionToValue(handlepos);\n    handlepos = Math.round(handlepos);\n\n    if (this.type !== 'Range' && this.activeHandle === 1) {\n      if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n        if (this.limits.enabled) {\n          var valueAndPostion = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n          handlepos = valueAndPostion[1];\n          handleVal = valueAndPostion[0];\n        }\n\n        this.handlePos1 = handlepos;\n        this.handleVal1 = handleVal;\n      }\n\n      this.firstHandle.classList.add(classNames.sliderActiveHandle);\n    }\n\n    if (this.type === 'Range') {\n      if (this.activeHandle === 1) {\n        this.firstHandle.classList.add(classNames.sliderActiveHandle);\n\n        if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n          if (handlepos > this.handlePos2) {\n            handlepos = this.handlePos2;\n            handleVal = this.handleVal2;\n          }\n\n          if (handlepos !== this.preHandlePos1) {\n            if (this.limits.enabled) {\n              var value = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n              handleVal = value[0];\n              handlepos = value[1];\n            }\n\n            this.handlePos1 = this.preHandlePos1 = handlepos;\n            this.handleVal1 = handleVal;\n            this.activeHandle = 1;\n          }\n        }\n      } else if (this.activeHandle === 2) {\n        this.secondHandle.classList.add(classNames.sliderActiveHandle);\n\n        if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n          if (handlepos < this.handlePos1) {\n            handlepos = this.handlePos1;\n            handleVal = this.handleVal1;\n          }\n\n          if (handlepos !== this.preHandlePos2) {\n            if (this.limits.enabled) {\n              var value = this.getLimitValueAndPosition(handleVal, this.limits.maxStart, this.limits.maxEnd);\n              handleVal = value[0];\n              handlepos = value[1];\n            }\n\n            this.handlePos2 = this.preHandlePos2 = handlepos;\n            this.handleVal2 = handleVal;\n            this.activeHandle = 2;\n          }\n        }\n      }\n    }\n\n    if (!this.checkRepeatedValue(handleVal)) {\n      return;\n    }\n\n    this.getHandle().style.transition = this.scaleTransform;\n\n    if (this.type !== 'Default') {\n      this.rangeBar.style.transition = 'none';\n    }\n\n    this.setHandlePosition(evt);\n\n    if (this.isMaterial && !this.tooltip.isVisible && !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n      this.materialChange();\n    }\n\n    this.tooltipToggle(this.getHandle());\n\n    if (this.type !== 'Default') {\n      this.setRangeBar();\n    }\n  };\n\n  Slider.prototype.dragRangeBarUp = function (event) {\n    if (!this.rangeBarDragged) {\n      this.focusSliderElement();\n      this.sliderBarClick(event);\n    } else {\n      this.isDragComplete = true;\n    }\n\n    this.changeEvent('changed', event);\n    this.closeTooltip();\n    EventHandler.remove(document, 'mousemove touchmove', this.dragRangeBarMove);\n    EventHandler.remove(document, 'mouseup touchend', this.dragRangeBarUp);\n    this.rangeBarDragged = false;\n  };\n\n  Slider.prototype.checkRepeatedValue = function (currentValue) {\n    if (this.type === 'Range') {\n      var previousVal = this.enableRtl && this.orientation !== 'Vertical' ? this.activeHandle === 1 ? this.previousVal[1] : this.previousVal[0] : this.activeHandle === 1 ? this.previousVal[0] : this.previousVal[1];\n\n      if (currentValue === previousVal) {\n        return 0;\n      }\n    } else {\n      if (currentValue === this.previousVal) {\n        return 0;\n      }\n    }\n\n    return 1;\n  };\n\n  Slider.prototype.refreshTooltip = function (target) {\n    if (this.tooltip.isVisible && this.tooltipObj) {\n      this.tooltipValue();\n\n      if (target) {\n        this.tooltipObj.refresh(target);\n        this.tooltipTarget = target;\n      }\n    }\n  };\n\n  Slider.prototype.openTooltip = function (target) {\n    if (this.tooltip.isVisible && this.tooltipObj && !this.isMaterialTooltip) {\n      this.tooltipValue();\n      this.tooltipObj.open(target);\n      this.tooltipTarget = target;\n    }\n  };\n\n  Slider.prototype.closeTooltip = function () {\n    if (this.tooltip.isVisible && this.tooltipObj && this.tooltip.showOn !== 'Always' && !this.isMaterialTooltip) {\n      this.tooltipValue();\n      this.tooltipObj.close();\n      this.tooltipTarget = undefined;\n    }\n  };\n\n  Slider.prototype.keyDown = function (event) {\n    switch (event.keyCode) {\n      case 37:\n      case 38:\n      case 39:\n      case 40:\n      case 33:\n      case 34:\n      case 36:\n      case 35:\n        event.preventDefault();\n        this.buttonClick(event);\n        break;\n    }\n  };\n\n  Slider.prototype.wireButtonEvt = function (destroy) {\n    if (!destroy) {\n      EventHandler.add(this.firstBtn, 'mouseleave touchleave', this.buttonFocusOut, this);\n      EventHandler.add(this.secondBtn, 'mouseleave touchleave', this.buttonFocusOut, this);\n      EventHandler.add(this.firstBtn, 'mousedown touchstart', this.repeatHandlerMouse, this);\n      EventHandler.add(this.firstBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp, this);\n      EventHandler.add(this.secondBtn, 'mousedown touchstart', this.repeatHandlerMouse, this);\n      EventHandler.add(this.secondBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp, this);\n      EventHandler.add(this.firstBtn, 'focusout', this.sliderFocusOut, this);\n      EventHandler.add(this.secondBtn, 'focusout', this.sliderFocusOut, this);\n    } else {\n      EventHandler.remove(this.firstBtn, 'mouseleave touchleave', this.buttonFocusOut);\n      EventHandler.remove(this.secondBtn, 'mouseleave touchleave', this.buttonFocusOut);\n      EventHandler.remove(this.firstBtn, 'mousedown touchstart', this.repeatHandlerMouse);\n      EventHandler.remove(this.firstBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp);\n      EventHandler.remove(this.secondBtn, 'mousedown touchstart', this.repeatHandlerMouse);\n      EventHandler.remove(this.secondBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp);\n      EventHandler.remove(this.firstBtn, 'focusout', this.sliderFocusOut);\n      EventHandler.remove(this.secondBtn, 'focusout', this.sliderFocusOut);\n    }\n  };\n\n  Slider.prototype.rangeBarMousedown = function (event) {\n    var _a, _b;\n\n    event.preventDefault();\n    this.focusSliderElement();\n\n    if (this.type === 'Range' && this.drag && event.target === this.rangeBar) {\n      var xPostion = void 0;\n      var yPostion = void 0;\n\n      if (event.type === 'mousedown') {\n        _a = [event.clientX, event.clientY], xPostion = _a[0], yPostion = _a[1];\n      } else if (event.type === 'touchstart') {\n        _b = [event.changedTouches[0].clientX, event.changedTouches[0].clientY], xPostion = _b[0], yPostion = _b[1];\n      }\n\n      if (this.orientation === 'Horizontal') {\n        this.firstPartRemain = xPostion - this.rangeBar.getBoundingClientRect().left;\n        this.secondPartRemain = this.rangeBar.getBoundingClientRect().right - xPostion;\n      } else {\n        this.firstPartRemain = yPostion - this.rangeBar.getBoundingClientRect().top;\n        this.secondPartRemain = this.rangeBar.getBoundingClientRect().bottom - yPostion;\n      }\n\n      this.minDiff = this.handleVal2 - this.handleVal1;\n      this.tooltipToggle(this.rangeBar);\n      var focusedElement = this.element.querySelector('.' + classNames.sliderTabHandle);\n\n      if (focusedElement) {\n        focusedElement.classList.remove(classNames.sliderTabHandle);\n      }\n\n      EventHandler.add(document, 'mousemove touchmove', this.dragRangeBarMove, this);\n      EventHandler.add(document, 'mouseup touchend', this.dragRangeBarUp, this);\n    }\n  };\n\n  Slider.prototype.elementClick = function (event) {\n    if (this.isDragComplete) {\n      this.isDragComplete = false;\n      return;\n    }\n\n    event.preventDefault();\n    this.focusSliderElement();\n    this.sliderBarClick(event);\n    this.focusHandle();\n  };\n\n  Slider.prototype.wireEvents = function () {\n    this.onresize = this.reposition.bind(this);\n    window.addEventListener('resize', this.onresize);\n\n    if (this.enabled && !this.readonly) {\n      EventHandler.add(this.element, 'click', this.elementClick, this);\n\n      if (this.type === 'Range' && this.drag) {\n        EventHandler.add(this.rangeBar, 'mousedown touchstart', this.rangeBarMousedown, this);\n      }\n\n      EventHandler.add(this.sliderContainer, 'keydown', this.keyDown, this);\n      EventHandler.add(this.sliderContainer, 'keyup', this.keyUp, this);\n      EventHandler.add(this.element, 'focusout', this.sliderFocusOut, this);\n      EventHandler.add(this.sliderContainer, 'mouseover mouseout touchstart touchend', this.hover, this);\n      this.wireFirstHandleEvt(false);\n\n      if (this.type === 'Range') {\n        this.wireSecondHandleEvt(false);\n      }\n\n      if (this.showButtons) {\n        this.wireButtonEvt(false);\n      }\n\n      this.wireMaterialTooltipEvent(false);\n\n      if (this.isForm) {\n        EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n      }\n    }\n  };\n\n  Slider.prototype.unwireEvents = function () {\n    EventHandler.remove(this.element, 'click', this.elementClick);\n\n    if (this.type === 'Range' && this.drag) {\n      EventHandler.remove(this.rangeBar, 'mousedown touchstart', this.rangeBarMousedown);\n    }\n\n    EventHandler.remove(this.sliderContainer, 'keydown', this.keyDown);\n    EventHandler.remove(this.sliderContainer, 'keyup', this.keyUp);\n    EventHandler.remove(this.element, 'focusout', this.sliderFocusOut);\n    EventHandler.remove(this.sliderContainer, 'mouseover mouseout touchstart touchend', this.hover);\n    this.wireFirstHandleEvt(true);\n\n    if (this.type === 'Range') {\n      this.wireSecondHandleEvt(true);\n    }\n\n    if (this.showButtons) {\n      this.wireButtonEvt(true);\n    }\n\n    this.wireMaterialTooltipEvent(true);\n    EventHandler.remove(this.element, 'reset', this.formResetHandler);\n  };\n\n  Slider.prototype.formResetHandler = function () {\n    this.setProperties({\n      'value': this.formResetValue\n    }, true);\n    this.setValue();\n  };\n\n  Slider.prototype.keyUp = function (event) {\n    if (event.keyCode === 9 && event.target.classList.contains(classNames.sliderHandle)) {\n      this.focusSliderElement();\n\n      if (!event.target.classList.contains(classNames.sliderTabHandle)) {\n        if (this.element.querySelector('.' + classNames.sliderTabHandle)) {\n          this.element.querySelector('.' + classNames.sliderTabHandle).classList.remove(classNames.sliderTabHandle);\n        }\n\n        event.target.classList.add(classNames.sliderTabHandle);\n        var parentElement = event.target.parentElement;\n\n        if (parentElement === this.element) {\n          parentElement.querySelector('.' + classNames.sliderTrack).classList.add(classNames.sliderTabTrack);\n\n          if (this.type === 'Range' || this.type === 'MinRange') {\n            parentElement.querySelector('.' + classNames.rangeBar).classList.add(classNames.sliderTabRange);\n          }\n        }\n\n        if (this.type === 'Range') {\n          event.target.previousSibling.classList.contains(classNames.sliderHandle) ? this.activeHandle = 2 : this.activeHandle = 1;\n        }\n\n        this.getHandle().focus();\n        this.tooltipToggle(this.getHandle());\n      }\n    }\n\n    this.closeTooltip();\n    this.changeEvent('changed', event);\n  };\n\n  Slider.prototype.hover = function (event) {\n    if (!isNullOrUndefined(event)) {\n      if (event.type === 'mouseover' || event.type === 'touchmove' || event.type === 'mousemove' || event.type === 'pointermove' || event.type === 'touchstart') {\n        this.sliderContainer.classList.add(classNames.sliderHover);\n      } else {\n        this.sliderContainer.classList.remove(classNames.sliderHover);\n      }\n    }\n  };\n\n  Slider.prototype.sliderFocusOut = function (event) {\n    if (event.relatedTarget !== this.secondHandle && event.relatedTarget !== this.firstHandle && event.relatedTarget !== this.element && event.relatedTarget !== this.firstBtn && event.relatedTarget !== this.secondBtn) {\n      this.closeMaterialTooltip();\n      this.closeTooltip();\n\n      if (this.element.querySelector('.' + classNames.sliderTabHandle)) {\n        this.element.querySelector('.' + classNames.sliderTabHandle).classList.remove(classNames.sliderTabHandle);\n      }\n\n      if (this.element.querySelector('.' + classNames.sliderTabTrack)) {\n        this.element.querySelector('.' + classNames.sliderTabTrack).classList.remove(classNames.sliderTabTrack);\n\n        if ((this.type === 'Range' || this.type === 'MinRange') && this.element.querySelector('.' + classNames.sliderTabRange)) {\n          this.element.querySelector('.' + classNames.sliderTabRange).classList.remove(classNames.sliderTabRange);\n        }\n      }\n\n      this.hiddenInput.focus();\n      this.hiddenInput.blur();\n      this.isElementFocused = false;\n    }\n  };\n\n  Slider.prototype.removeElement = function (element) {\n    if (element.parentNode) {\n      element.parentNode.removeChild(element);\n    }\n  };\n\n  Slider.prototype.changeSliderType = function (type, args) {\n    if (this.isMaterialTooltip && this.materialHandle) {\n      this.sliderContainer.classList.remove(classNames.materialSlider);\n      this.removeElement(this.materialHandle);\n      this.materialHandle = undefined;\n    }\n\n    this.removeElement(this.firstHandle);\n    this.firstHandle = undefined;\n\n    if (type !== 'Default') {\n      if (type === 'Range') {\n        this.removeElement(this.secondHandle);\n        this.secondHandle = undefined;\n      }\n\n      this.removeElement(this.rangeBar);\n      this.rangeBar = undefined;\n    }\n\n    if (this.tooltip.isVisible && !isNullOrUndefined(this.tooltipObj)) {\n      this.tooltipObj.destroy();\n      this.tooltipElement = undefined;\n      this.tooltipCollidedPosition = undefined;\n    }\n\n    if (this.limits.enabled) {\n      if (type === 'MinRange' || type === 'Default') {\n        if (!isNullOrUndefined(this.limitBarFirst)) {\n          this.removeElement(this.limitBarFirst);\n          this.limitBarFirst = undefined;\n        }\n      } else {\n        if (!isNullOrUndefined(this.limitBarSecond)) {\n          this.removeElement(this.limitBarSecond);\n          this.limitBarSecond = undefined;\n        }\n      }\n    }\n\n    this.activeHandle = 1;\n    this.getThemeInitialization();\n\n    if (this.type === 'Range') {\n      this.rangeValueUpdate();\n    }\n\n    this.createRangeBar();\n\n    if (this.limits.enabled) {\n      this.createLimitBar();\n    }\n\n    this.setHandler();\n    this.setOrientClass();\n    this.wireFirstHandleEvt(false);\n\n    if (this.type === 'Range') {\n      this.wireSecondHandleEvt(false);\n    }\n\n    this.setValue();\n\n    if (this.tooltip.isVisible) {\n      this.renderTooltip();\n      this.wireMaterialTooltipEvent(false);\n    }\n\n    this.setBarColor();\n\n    if (args !== 'tooltip') {\n      this.updateConfig();\n    }\n  };\n\n  Slider.prototype.changeRtl = function () {\n    if (!this.enableRtl && this.type === 'Range') {\n      this.value = [this.handleVal2, this.handleVal1];\n    }\n\n    this.updateConfig();\n\n    if (this.tooltip.isVisible) {\n      this.tooltipObj.refresh(this.firstHandle);\n    }\n\n    if (this.showButtons) {\n      var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n      attributes(enabledRTL ? this.secondBtn : this.firstBtn, {\n        'aria-label': 'Decrease',\n        title: 'Decrease'\n      });\n      attributes(enabledRTL ? this.firstBtn : this.secondBtn, {\n        'aria-label': 'Increase',\n        title: 'Increase'\n      });\n    }\n  };\n\n  Slider.prototype.changeOrientation = function () {\n    this.changeSliderType(this.type, 'null');\n  };\n\n  Slider.prototype.updateConfig = function () {\n    this.setEnableRTL();\n    this.setValue();\n\n    if (this.tooltip.isVisible) {\n      this.refreshTooltip(this.tooltipTarget);\n    }\n\n    if (this.ticks.placement !== 'None') {\n      if (this.ul) {\n        this.removeElement(this.ul);\n        this.ul = undefined;\n        this.renderScale();\n      }\n    }\n\n    this.limitsPropertyChange();\n  };\n\n  Slider.prototype.limitsPropertyChange = function () {\n    if (this.limits.enabled) {\n      if (isNullOrUndefined(this.limitBarFirst) && this.type !== 'Range') {\n        this.createLimitBar();\n      }\n\n      if (isNullOrUndefined(this.limitBarFirst) && isNullOrUndefined(this.limitBarSecond) && this.type === 'Range') {\n        this.createLimitBar();\n      }\n\n      this.setLimitBar();\n      this.setValue();\n    } else {\n      if (!isNullOrUndefined(this.limitBarFirst)) {\n        detach(this.limitBarFirst);\n      }\n\n      if (!isNullOrUndefined(this.limitBarSecond)) {\n        detach(this.limitBarSecond);\n      }\n    }\n  };\n  /**\r\n   * Get the properties to be maintained in the persisted state.\r\n   * @private\r\n   */\n\n\n  Slider.prototype.getPersistData = function () {\n    var keyEntity = ['value'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\r\n   * Removes the component from the DOM and detaches all its related event handlers.\r\n   * Also it removes the attributes and classes.\r\n   * @method destroy\r\n   * @return {void}\r\n   */\n\n\n  Slider.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    this.unwireEvents();\n    window.removeEventListener('resize', this.onresize);\n    removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n    this.firstHandle.removeAttribute('aria-orientation');\n\n    if (this.type === 'Range') {\n      this.secondHandle.removeAttribute('aria-orientation');\n    }\n\n    this.sliderContainer.parentNode.insertBefore(this.element, this.sliderContainer);\n    detach(this.sliderContainer);\n\n    if (this.tooltip.isVisible) {\n      this.tooltipObj.destroy();\n    }\n\n    this.element.innerHTML = '';\n  };\n  /**\r\n   * Calls internally if any of the property value is changed.\r\n   * @private\r\n   */\n  // tslint:disable-next-line\n\n\n  Slider.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var _this = this;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'cssClass':\n          this.setCSSClass(oldProp.cssClass);\n          break;\n\n        case 'value':\n          if (newProp && oldProp) {\n            var value = isNullOrUndefined(newProp.value) ? this.type === 'Range' ? [this.min, this.max] : this.min : newProp.value;\n            this.setProperties({\n              'value': value\n            }, true);\n\n            if (!isNullOrUndefined(oldProp.value) && oldProp.value.toString() !== value.toString()) {\n              this.setValue();\n              this.refreshTooltip(this.tooltipTarget);\n\n              if (this.type === 'Range') {\n                if (isNullOrUndefined(newProp.value) || oldProp.value[1] === value[1]) {\n                  this.activeHandle = 1;\n                } else {\n                  this.activeHandle = 2;\n                }\n              }\n            }\n          }\n\n          break;\n\n        case 'min':\n        case 'step':\n        case 'max':\n          this.setMinMaxValue();\n          break;\n\n        case 'tooltip':\n          if (!isNullOrUndefined(newProp.tooltip) && !isNullOrUndefined(oldProp.tooltip)) {\n            this.setTooltip(prop);\n          }\n\n          break;\n\n        case 'type':\n          if (!isNullOrUndefined(oldProp) && Object.keys(oldProp).length && !isNullOrUndefined(oldProp.type)) {\n            this.changeSliderType(oldProp.type, prop);\n            this.setZindex();\n          }\n\n          break;\n\n        case 'enableRtl':\n          if (oldProp.enableRtl !== newProp.enableRtl && this.orientation !== 'Vertical') {\n            this.rtl = oldProp.enableRtl;\n            this.changeRtl();\n          }\n\n          break;\n\n        case 'limits':\n          this.limitsPropertyChange();\n          break;\n\n        case 'orientation':\n          this.changeOrientation();\n          break;\n\n        case 'ticks':\n          if (!isNullOrUndefined(this.sliderContainer.querySelector('.' + classNames.scale))) {\n            detach(this.ul);\n            Array.prototype.forEach.call(this.sliderContainer.classList, function (className) {\n              if (className.match(/e-scale-/)) {\n                _this.sliderContainer.classList.remove(className);\n              }\n            });\n          }\n\n          if (this.ticks.placement !== 'None') {\n            this.renderScale();\n            this.setZindex();\n          }\n\n          break;\n\n        case 'locale':\n          if (this.showButtons) {\n            this.buttonTitle();\n          }\n\n          break;\n\n        case 'showButtons':\n          if (newProp.showButtons) {\n            this.setButtons();\n            this.reposition();\n\n            if (this.enabled && !this.readonly) {\n              this.wireButtonEvt(false);\n            }\n          } else {\n            if (this.firstBtn && this.secondBtn) {\n              this.sliderContainer.removeChild(this.firstBtn);\n              this.sliderContainer.removeChild(this.secondBtn);\n              this.sliderContainer.classList.remove(classNames.sliderButtonClass);\n              this.firstBtn = undefined;\n              this.secondBtn = undefined;\n              this.reposition();\n            }\n          }\n\n          break;\n\n        case 'enabled':\n          this.setEnabled();\n          break;\n\n        case 'readonly':\n          this.setReadOnly();\n          break;\n\n        case 'customValues':\n          this.setValue();\n          this.reposition();\n          break;\n\n        case 'colorRange':\n          this.reposition();\n          break;\n\n        case 'width':\n          this.setElementWidth(newProp.width);\n          this.setMinMaxValue();\n\n          if (this.limits) {\n            this.limitsPropertyChange();\n          }\n\n          break;\n      }\n    }\n  };\n\n  Slider.prototype.setReadOnly = function () {\n    if (this.readonly) {\n      this.unwireEvents();\n      this.sliderContainer.classList.add(classNames.readonly);\n    } else {\n      this.wireEvents();\n      this.sliderContainer.classList.remove(classNames.readonly);\n    }\n  };\n\n  Slider.prototype.setMinMaxValue = function () {\n    var _this = this;\n\n    this.setValue();\n    this.refreshTooltip(this.tooltipTarget);\n\n    if (!isNullOrUndefined(this.sliderContainer.querySelector('.' + classNames.scale))) {\n      if (this.ul) {\n        detach(this.ul);\n        Array.prototype.forEach.call(this.sliderContainer.classList, function (className) {\n          if (className.match(/e-scale-/)) {\n            _this.sliderContainer.classList.remove(className);\n          }\n        });\n      }\n    }\n\n    if (this.ticks.placement !== 'None') {\n      this.renderScale();\n      this.setZindex();\n    }\n  };\n\n  Slider.prototype.setZindex = function () {\n    this.zIndex = 6;\n\n    if (!isNullOrUndefined(this.ticks) && this.ticks.placement !== 'None') {\n      this.ul.style.zIndex = this.zIndex + -7 + '';\n      this.element.style.zIndex = this.zIndex + 2 + '';\n    }\n\n    if (!this.isMaterial && !isNullOrUndefined(this.ticks) && this.ticks.placement === 'Both') {\n      this.element.style.zIndex = this.zIndex + 2 + '';\n    }\n\n    this.firstHandle.style.zIndex = this.zIndex + 3 + '';\n\n    if (this.type === 'Range') {\n      this.secondHandle.style.zIndex = this.zIndex + 4 + '';\n    }\n  };\n\n  Slider.prototype.setTooltip = function (args) {\n    this.changeSliderType(this.type, args);\n  };\n\n  Slider.prototype.setBarColor = function () {\n    var trackPosition;\n    var trackClassName;\n    var child = this.sliderTrack.lastElementChild;\n\n    while (child) {\n      this.sliderTrack.removeChild(child);\n      child = this.sliderTrack.lastElementChild;\n    }\n\n    for (var i = 0; i < this.colorRange.length; i++) {\n      if (!isNullOrUndefined(this.colorRange[i].start) && !isNullOrUndefined(this.colorRange[i].end)) {\n        if (this.colorRange[i].end > this.colorRange[i].start) {\n          if (this.colorRange[i].start < this.min) {\n            this.colorRange[i].start = this.min;\n          }\n\n          if (this.colorRange[i].end > this.max) {\n            this.colorRange[i].end = this.max;\n          }\n\n          var startingPosition = this.checkHandlePosition(this.colorRange[i].start);\n          var endPosition = this.checkHandlePosition(this.colorRange[i].end);\n          var trackContainer = this.createElement('div');\n          trackContainer.style.backgroundColor = this.colorRange[i].color;\n          trackContainer.style.border = '1px solid ' + this.colorRange[i].color;\n\n          if (this.orientation === 'Horizontal') {\n            trackClassName = classNames.sliderHorizantalColor;\n\n            if (this.enableRtl) {\n              if (isNullOrUndefined(this.customValues)) {\n                trackPosition = this.checkHandlePosition(this.max) - this.checkHandlePosition(this.colorRange[i].end);\n              } else {\n                trackPosition = this.checkHandlePosition(this.customValues.length - this.colorRange[i].end - 1);\n              }\n            } else {\n              trackPosition = this.checkHandlePosition(this.colorRange[i].start);\n            }\n\n            trackContainer.style.width = endPosition - startingPosition + 'px';\n            trackContainer.style.left = trackPosition + 'px';\n          } else {\n            trackClassName = classNames.sliderVerticalColor;\n            trackPosition = this.checkHandlePosition(this.colorRange[i].start);\n            trackContainer.style.height = endPosition - startingPosition + 'px';\n            trackContainer.style.bottom = trackPosition + 'px';\n          }\n\n          trackContainer.classList.add(trackClassName);\n          this.sliderTrack.appendChild(trackContainer);\n        }\n      }\n    }\n  };\n  /**\r\n   * Gets the component name\r\n   * @private\r\n   */\n\n\n  Slider.prototype.getModuleName = function () {\n    return 'slider';\n  };\n\n  __decorate([Property(null)], Slider.prototype, \"value\", void 0);\n\n  __decorate([Property(null)], Slider.prototype, \"customValues\", void 0);\n\n  __decorate([Property(1)], Slider.prototype, \"step\", void 0);\n\n  __decorate([Property(null)], Slider.prototype, \"width\", void 0);\n\n  __decorate([Property(0)], Slider.prototype, \"min\", void 0);\n\n  __decorate([Property(100)], Slider.prototype, \"max\", void 0);\n\n  __decorate([Property(false)], Slider.prototype, \"readonly\", void 0);\n\n  __decorate([Property('Default')], Slider.prototype, \"type\", void 0);\n\n  __decorate([Collection([{}], ColorRangeData)], Slider.prototype, \"colorRange\", void 0);\n\n  __decorate([Complex({}, TicksData)], Slider.prototype, \"ticks\", void 0);\n\n  __decorate([Complex({}, LimitData)], Slider.prototype, \"limits\", void 0);\n\n  __decorate([Property(true)], Slider.prototype, \"enabled\", void 0);\n\n  __decorate([Complex({}, TooltipData)], Slider.prototype, \"tooltip\", void 0);\n\n  __decorate([Property(false)], Slider.prototype, \"showButtons\", void 0);\n\n  __decorate([Property(true)], Slider.prototype, \"enableAnimation\", void 0);\n\n  __decorate([Property('Horizontal')], Slider.prototype, \"orientation\", void 0);\n\n  __decorate([Property('')], Slider.prototype, \"cssClass\", void 0);\n\n  __decorate([Property(false)], Slider.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate([Event()], Slider.prototype, \"created\", void 0);\n\n  __decorate([Event()], Slider.prototype, \"change\", void 0);\n\n  __decorate([Event()], Slider.prototype, \"changed\", void 0);\n\n  __decorate([Event()], Slider.prototype, \"renderingTicks\", void 0);\n\n  __decorate([Event()], Slider.prototype, \"renderedTicks\", void 0);\n\n  __decorate([Event()], Slider.prototype, \"tooltipChange\", void 0);\n\n  Slider = __decorate([NotifyPropertyChanges], Slider);\n  return Slider;\n}(Component);\n\nexport { Slider };","map":{"version":3,"sources":["D:/4_PROJECTS/RubyGYM/client/node_modules/@syncfusion/ej2-inputs/src/slider/slider.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","EventHandler","Property","Event","Complex","Collection","L10n","Internationalization","NotifyPropertyChanges","ChildProperty","attributes","addClass","removeClass","setStyleAttribute","detach","closest","isNullOrUndefined","formatUnit","Browser","SanitizeHtmlHelper","Tooltip","getZindexPartial","TicksData","_super","apply","ColorRangeData","LimitData","TooltipData","bootstrapTooltipOffset","bootstrap4TooltipOffset","classNames","root","rtl","sliderHiddenInput","controlWrapper","sliderHandle","rangeBar","sliderButton","firstButton","secondButton","scale","tick","large","tickValue","sliderTooltip","sliderHover","sliderFirstHandle","sliderSecondHandle","sliderDisabled","sliderContainer","horizontalTooltipBefore","horizontalTooltipAfter","verticalTooltipBefore","verticalTooltipAfter","materialTooltip","materialTooltipOpen","materialTooltipActive","materialSlider","sliderTrack","sliderHorizantalColor","sliderVerticalColor","sliderHandleFocused","verticalSlider","horizontalSlider","sliderHandleStart","sliderTooltipStart","sliderTabHandle","sliderButtonIcon","sliderSmallSize","sliderTickPosition","sliderFirstTick","sliderLastTick","sliderButtonClass","sliderTooltipWrapper","sliderTabTrack","sliderTabRange","sliderActiveHandle","sliderMaterialHandle","sliderMaterialRange","sliderMaterialDefault","materialTooltipShow","materialTooltipHide","readonly","limits","limitBarDefault","limitBarFirst","limitBarSecond","dragHorizontal","dragVertical","Slider","options","element","_this","call","horDir","verDir","transition","handle","transitionOnMaterialTooltip","scaleTransform","customAriaText","drag","isDragComplete","initialTooltip","preRender","localeText","incrementTitle","decrementTitle","l10n","locale","isElementFocused","tickElementCollection","tooltipFormatInfo","ticksFormatInfo","initCultureInfo","initCultureFunc","formChecker","formElement","isForm","formResetValue","setProperties","value","type","parseFloat","min","max","internationalization","format","tooltip","ticks","formatString","formatInfo","formatValue","formatNumber","numberOfDecimals","getNumberFormat","makeRoundNumber","elementVal","maximumFractionDigits","minimumFractionDigits","useGrouping","decimalPart","toString","split","precision","decimals","Number","toFixed","fractionalToInteger","noOfDecimals","tens","render","initialize","initRender","wireEvents","setZindex","renderComplete","tagName","getTheme","setTimeout","refresh","setCSSClass","setElementWidth","width","style","match","oldCSSClass","cssClass","setEnabled","enabled","isVisible","tooltipElement","showOn","classList","add","unwireEvents","remove","container","theme","window","getComputedStyle","getPropertyValue","replace","createElement","className","parentNode","insertBefore","appendChild","tabIndex","getThemeInitialization","setHandler","createRangeBar","createLimitBar","setOrientClass","hiddenInput","attrs","name","getAttribute","Math","random","class","showButtons","setButtons","setEnableRTL","rangeValueUpdate","previousVal","checkHandleValue","previousChanged","hasAttribute","removeAttribute","setValue","setLimitBar","placement","renderScale","renderTooltip","isMaterial","isBootstrap","isBootstrap4","isTailwind","isBootstrap5","isMaterialTooltip","orientation","firstElementClassName","firstHandle","setAttribute","secondHandle","setAriaAttributes","customValues","range","forEach","index","createSecondHandle","createFirstHandle","materialHandle","wireFirstHandleEvt","destroy","handleFocus","transitionEnd","handleOver","handleLeave","wireSecondHandleEvt","handleStart","handlePos1","e","propertyName","getHandle","tooltipToggle","closeTooltip","handleFocusOut","contains","focusSliderElement","sliderBarClick","currentTarget","document","sliderBarMove","sliderBarUp","enableRtl","preDir","currDir","setBarColor","tooltipValue","text","args","setTooltipContent","tooltipObj","content","trigger","observedArgs","addTooltipClass","setAriaAttrValue","setPreviousVal","formatContent","ariaContent","handle1","handleVal1","handle2","handleVal2","count","oldCss","newCss","transform","getTooltipTransformProperties","previousTooltipClass","rotate","tooltipPlacement","tooltipBeforeOpen","filter","css","firstElementChild","setTooltipTransform","tooltipCollision","position","tooltipOffsetValue","materialTooltipEventCallBack","event","wireMaterialTooltipEvent","tooltipPositionCalculation","transformProperties","clientHeight","clientWidth","translate","openMaterialTooltip","refreshTooltip","tooltipContentElement","cursor","innerText","closeMaterialTooltip","tooltipTarget","undefined","checkTooltipPosition","tooltipClass","collidedPosition","tooltipCollidedPosition","indexOf","showTipPointer","height","animation","open","effect","close","duration","opensOn","beforeOpen","bind","beforeCollision","beforeClose","tooltipBeforeClose","enableHtmlSanitizer","appendTo","initializeTooltipProps","tooltipShowOn","firstBtn","querySelector","secondBtn","buttonTitle","enabledRTL","setLocale","getConstant","title","buttonFocusOut","repeatButton","hVal","handleValueUpdate","parentElement","step","getLimitCorrectedValues","changeHandleValue","repeatHandlerMouse","preventDefault","buttonClick","repeatInterval","setInterval","materialChange","focusHandle","repeatHandlerUp","changeEvent","clearInterval","focus","customTickCounter","bigNum","tickCount","liElementPosition","orien","spanText","ul","toLowerCase","role","zIndex","isAndroid","smallStep","showSmallTicks","largeStep","steps","customStep","abs","li","start","left","islargeTick","tickWidth","Infinity","y","k","largestep","startValue","repeat","j","createTick","formatTicksValue","push","decimalPoints","ticksAlignment","triggerEvent","firstChild","lastChild","lastElementChild","eventArgs","ticksWrapper","tickElements","scaleAlignment","span","innerHTML","sanitize","spanElement","tickText","tickElement","tickValuePosition","smallTick","largeTick","half","getBoundingClientRect","children","first","otherChild","querySelectorAll","other","slice","top","right","ariaValueText","isTickFormatted","valuenow","activeHandle","getLimitValueAndPosition","minStart","minEnd","maxStart","maxEnd","keyCode","buttonUp","openTooltip","setRangeBar","handlePos2","bottom","checkValidValueAndPos","checkHandlePosition","setLimitBarPositions","fromMinPostion","fromMaxpostion","toMinPostion","toMaxpostion","fromPosition","toPosition","currentValue","minValue","maxValue","limitBar","preHandlePos1","values","setHandlePosition","validateRangeValue","setRangeValue","modifyZindex","pos","updateRangeValue","eventName","previous","changeEventArgs","previousValue","action","isInteracted","map","preHandlePos2","values_1","tempStartEnd","end","reposition","removeElement","startHandleFixed","endHandleFixed","xyToPosition","x","num","offsetWidth","val","top_1","offsetHeight","stepValueCalculation","percentStep","remain","a","addition","pow","round","positionToValue","diff","total","evt","clientX","clientY","changedTouches","handlepos","handleVal","focusedElement","checkRepeatedValue","handleValueAdjust","handleValue","assignValue","handleNumber","minDiff","dragRangeBarMove","_a","_b","rangeBarDragged","xPostion","yPostion","firstPartRemain","secondPartRemain","valueAndPostion","dragRangeBarUp","keyDown","wireButtonEvt","sliderFocusOut","rangeBarMousedown","elementClick","onresize","addEventListener","keyUp","hover","formResetHandler","previousSibling","relatedTarget","blur","removeChild","changeSliderType","updateConfig","changeRtl","changeOrientation","limitsPropertyChange","getPersistData","keyEntity","addOnPersist","removeEventListener","onPropertyChanged","newProp","oldProp","_i","keys","prop","setMinMaxValue","setTooltip","setReadOnly","trackPosition","trackClassName","child","colorRange","startingPosition","endPosition","trackContainer","backgroundColor","color","border","getModuleName"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { Component, EventHandler, Property, Event, Complex, Collection } from '@syncfusion/ej2-base';\r\nimport { L10n, Internationalization } from '@syncfusion/ej2-base';\r\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\r\nimport { attributes, addClass, removeClass, setStyleAttribute, detach, closest } from '@syncfusion/ej2-base';\r\nimport { isNullOrUndefined, formatUnit, Browser, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\r\nimport { Tooltip, getZindexPartial } from '@syncfusion/ej2-popups';\r\n/**\r\n * Configures the ticks data of the Slider.\r\n */\r\nvar TicksData = /** @class */ (function (_super) {\r\n    __extends(TicksData, _super);\r\n    function TicksData() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    __decorate([\r\n        Property('None')\r\n    ], TicksData.prototype, \"placement\", void 0);\r\n    __decorate([\r\n        Property(10)\r\n    ], TicksData.prototype, \"largeStep\", void 0);\r\n    __decorate([\r\n        Property(1)\r\n    ], TicksData.prototype, \"smallStep\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], TicksData.prototype, \"showSmallTicks\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], TicksData.prototype, \"format\", void 0);\r\n    return TicksData;\r\n}(ChildProperty));\r\nexport { TicksData };\r\n/**\r\n * It illustrates the color track data in slider.\r\n * {% codeBlock src='slider/colorrange/index.md' %}{% endcodeBlock %}\r\n */\r\nvar ColorRangeData = /** @class */ (function (_super) {\r\n    __extends(ColorRangeData, _super);\r\n    function ColorRangeData() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    __decorate([\r\n        Property(null)\r\n    ], ColorRangeData.prototype, \"color\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], ColorRangeData.prototype, \"start\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], ColorRangeData.prototype, \"end\", void 0);\r\n    return ColorRangeData;\r\n}(ChildProperty));\r\nexport { ColorRangeData };\r\n/**\r\n * It illustrates the limit data in slider.\r\n * {% codeBlock src='slider/limits/index.md' %}{% endcodeBlock %}\r\n */\r\nvar LimitData = /** @class */ (function (_super) {\r\n    __extends(LimitData, _super);\r\n    function LimitData() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    __decorate([\r\n        Property(false)\r\n    ], LimitData.prototype, \"enabled\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], LimitData.prototype, \"minStart\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], LimitData.prototype, \"minEnd\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], LimitData.prototype, \"maxStart\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], LimitData.prototype, \"maxEnd\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], LimitData.prototype, \"startHandleFixed\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], LimitData.prototype, \"endHandleFixed\", void 0);\r\n    return LimitData;\r\n}(ChildProperty));\r\nexport { LimitData };\r\n/**\r\n * It illustrates the tooltip data in slider.\r\n */\r\nvar TooltipData = /** @class */ (function (_super) {\r\n    __extends(TooltipData, _super);\r\n    function TooltipData() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    __decorate([\r\n        Property('')\r\n    ], TooltipData.prototype, \"cssClass\", void 0);\r\n    __decorate([\r\n        Property('Before')\r\n    ], TooltipData.prototype, \"placement\", void 0);\r\n    __decorate([\r\n        Property('Focus')\r\n    ], TooltipData.prototype, \"showOn\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], TooltipData.prototype, \"isVisible\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], TooltipData.prototype, \"format\", void 0);\r\n    return TooltipData;\r\n}(ChildProperty));\r\nexport { TooltipData };\r\nvar bootstrapTooltipOffset = 6;\r\nvar bootstrap4TooltipOffset = 3;\r\nvar classNames = {\r\n    root: 'e-slider',\r\n    rtl: 'e-rtl',\r\n    sliderHiddenInput: 'e-slider-input',\r\n    controlWrapper: 'e-control-wrapper',\r\n    sliderHandle: 'e-handle',\r\n    rangeBar: 'e-range',\r\n    sliderButton: 'e-slider-button',\r\n    firstButton: 'e-first-button',\r\n    secondButton: 'e-second-button',\r\n    scale: 'e-scale',\r\n    tick: 'e-tick',\r\n    large: 'e-large',\r\n    tickValue: 'e-tick-value',\r\n    sliderTooltip: 'e-slider-tooltip',\r\n    sliderHover: 'e-slider-hover',\r\n    sliderFirstHandle: 'e-handle-first',\r\n    sliderSecondHandle: 'e-handle-second',\r\n    sliderDisabled: 'e-disabled',\r\n    sliderContainer: 'e-slider-container',\r\n    horizontalTooltipBefore: 'e-slider-horizontal-before',\r\n    horizontalTooltipAfter: 'e-slider-horizontal-after',\r\n    verticalTooltipBefore: 'e-slider-vertical-before',\r\n    verticalTooltipAfter: 'e-slider-vertical-after',\r\n    materialTooltip: 'e-material-tooltip',\r\n    materialTooltipOpen: 'e-material-tooltip-open',\r\n    materialTooltipActive: 'e-tooltip-active',\r\n    materialSlider: 'e-material-slider',\r\n    sliderTrack: 'e-slider-track',\r\n    sliderHorizantalColor: 'e-slider-horizantal-color',\r\n    sliderVerticalColor: 'e-slider-vertical-color',\r\n    sliderHandleFocused: 'e-handle-focused',\r\n    verticalSlider: 'e-vertical',\r\n    horizontalSlider: 'e-horizontal',\r\n    sliderHandleStart: 'e-handle-start',\r\n    sliderTooltipStart: 'e-material-tooltip-start',\r\n    sliderTabHandle: 'e-tab-handle',\r\n    sliderButtonIcon: 'e-button-icon',\r\n    sliderSmallSize: 'e-small-size',\r\n    sliderTickPosition: 'e-tick-pos',\r\n    sliderFirstTick: 'e-first-tick',\r\n    sliderLastTick: 'e-last-tick',\r\n    sliderButtonClass: 'e-slider-btn',\r\n    sliderTooltipWrapper: 'e-tooltip-wrap',\r\n    sliderTabTrack: 'e-tab-track',\r\n    sliderTabRange: 'e-tab-range',\r\n    sliderActiveHandle: 'e-handle-active',\r\n    sliderMaterialHandle: 'e-material-handle',\r\n    sliderMaterialRange: 'e-material-range',\r\n    sliderMaterialDefault: 'e-material-default',\r\n    materialTooltipShow: 'e-material-tooltip-show',\r\n    materialTooltipHide: 'e-material-tooltip-hide',\r\n    readonly: 'e-read-only',\r\n    limits: 'e-limits',\r\n    limitBarDefault: 'e-limit-bar',\r\n    limitBarFirst: 'e-limit-first',\r\n    limitBarSecond: 'e-limit-second',\r\n    dragHorizontal: 'e-drag-horizontal',\r\n    dragVertical: 'e-drag-vertical'\r\n};\r\n/**\r\n * The Slider component allows the user to select a value or range\r\n * of values in-between a min and max range, by dragging the handle over the slider bar.\r\n * ```html\r\n * <div id='slider'></div>\r\n * ```\r\n * ```typescript\r\n * <script>\r\n *   var sliderObj = new Slider({ value: 10 });\r\n *   sliderObj.appendTo('#slider');\r\n * </script>\r\n * ```\r\n */\r\nvar Slider = /** @class */ (function (_super) {\r\n    __extends(Slider, _super);\r\n    function Slider(options, element) {\r\n        var _this = _super.call(this, options, element) || this;\r\n        _this.horDir = 'left';\r\n        _this.verDir = 'bottom';\r\n        _this.transition = {\r\n            handle: 'left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), ' +\r\n                'top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)',\r\n            rangeBar: 'all .4s cubic-bezier(.25, .8, .25, 1)'\r\n        };\r\n        _this.transitionOnMaterialTooltip = {\r\n            handle: 'left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, top 1ms ease-out',\r\n            rangeBar: 'left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out'\r\n        };\r\n        _this.scaleTransform = 'transform .4s cubic-bezier(.25, .8, .25, 1)';\r\n        _this.customAriaText = null;\r\n        _this.drag = true;\r\n        _this.isDragComplete = false;\r\n        _this.initialTooltip = true;\r\n        return _this;\r\n    }\r\n    Slider.prototype.preRender = function () {\r\n        // eslint-disable-next-line\r\n        var localeText = { incrementTitle: 'Increase', decrementTitle: 'Decrease' };\r\n        this.l10n = new L10n('slider', localeText, this.locale);\r\n        this.isElementFocused = false;\r\n        this.tickElementCollection = [];\r\n        this.tooltipFormatInfo = {};\r\n        this.ticksFormatInfo = {};\r\n        this.initCultureInfo();\r\n        this.initCultureFunc();\r\n        this.formChecker();\r\n    };\r\n    Slider.prototype.formChecker = function () {\r\n        var formElement = closest(this.element, 'form');\r\n        if (formElement) {\r\n            this.isForm = true;\r\n            // this condition needs to be checked, if the slider is going to be refreshed by `refresh()`\r\n            // then we need to revert the slider `value` back to `formResetValue` to preserve the initial value\r\n            if (!isNullOrUndefined(this.formResetValue)) {\r\n                this.setProperties({ 'value': this.formResetValue }, true);\r\n            }\r\n            this.formResetValue = this.value;\r\n            if (this.type === 'Range' &&\r\n                (isNullOrUndefined(this.formResetValue) || typeof (this.formResetValue) !== 'object')) {\r\n                this.formResetValue = [parseFloat(formatUnit(this.min)), parseFloat(formatUnit(this.max))];\r\n            }\r\n            else if (isNullOrUndefined(this.formResetValue)) {\r\n                this.formResetValue = parseFloat(formatUnit(this.min));\r\n            }\r\n            this.formElement = formElement;\r\n        }\r\n        else {\r\n            this.isForm = false;\r\n        }\r\n    };\r\n    Slider.prototype.initCultureFunc = function () {\r\n        this.internationalization = new Internationalization(this.locale);\r\n    };\r\n    Slider.prototype.initCultureInfo = function () {\r\n        this.tooltipFormatInfo.format = (!isNullOrUndefined(this.tooltip.format)) ? this.tooltip.format : null;\r\n        this.ticksFormatInfo.format = (!isNullOrUndefined(this.ticks.format)) ? this.ticks.format : null;\r\n    };\r\n    Slider.prototype.formatString = function (value, formatInfo) {\r\n        var formatValue = null;\r\n        var formatString = null;\r\n        if ((value || value === 0)) {\r\n            formatValue = this.formatNumber(value);\r\n            var numberOfDecimals = this.numberOfDecimals(value);\r\n            formatString = this.internationalization.getNumberFormat(formatInfo)(this.makeRoundNumber(value, numberOfDecimals));\r\n        }\r\n        return { elementVal: formatValue, formatString: formatString };\r\n    };\r\n    Slider.prototype.formatNumber = function (value) {\r\n        var numberOfDecimals = this.numberOfDecimals(value);\r\n        return this.internationalization.getNumberFormat({\r\n            maximumFractionDigits: numberOfDecimals,\r\n            minimumFractionDigits: numberOfDecimals, useGrouping: false\r\n        })(value);\r\n    };\r\n    Slider.prototype.numberOfDecimals = function (value) {\r\n        var decimalPart = value.toString().split('.')[1];\r\n        var numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\r\n        return numberOfDecimals;\r\n    };\r\n    Slider.prototype.makeRoundNumber = function (value, precision) {\r\n        var decimals = precision || 0;\r\n        return Number(value.toFixed(decimals));\r\n    };\r\n    Slider.prototype.fractionalToInteger = function (value) {\r\n        value = (this.numberOfDecimals(value) === 0) ? Number(value).toFixed(this.noOfDecimals) : value;\r\n        var tens = 1;\r\n        for (var i = 0; i < this.noOfDecimals; i++) {\r\n            tens *= 10;\r\n        }\r\n        value = Number((value * tens).toFixed(0));\r\n        return value;\r\n    };\r\n    /**\r\n     * To Initialize the control rendering\r\n     * @private\r\n     */\r\n    Slider.prototype.render = function () {\r\n        var _this = this;\r\n        this.initialize();\r\n        this.initRender();\r\n        this.wireEvents();\r\n        this.setZindex();\r\n        this.renderComplete();\r\n        if (this.element.tagName === 'EJS-SLIDER') {\r\n            if (this.getTheme(this.sliderContainer) == \"none\") {\r\n                setTimeout(function () {\r\n                    _this.refresh();\r\n                }, 0);\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.initialize = function () {\r\n        addClass([this.element], classNames.root);\r\n        this.setCSSClass();\r\n    };\r\n    Slider.prototype.setElementWidth = function (width) {\r\n        if (!isNullOrUndefined(width)) {\r\n            if (typeof width === 'number') {\r\n                this.sliderContainer.style.width = formatUnit(width);\r\n            }\r\n            else if (typeof width === 'string') {\r\n                this.sliderContainer.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.setCSSClass = function (oldCSSClass) {\r\n        if (oldCSSClass) {\r\n            removeClass([this.element], oldCSSClass.split(' '));\r\n        }\r\n        if (this.cssClass) {\r\n            addClass([this.element], this.cssClass.split(' '));\r\n        }\r\n    };\r\n    Slider.prototype.setEnabled = function () {\r\n        if (!this.enabled) {\r\n            addClass([this.sliderContainer], [classNames.sliderDisabled]);\r\n            if (this.tooltip.isVisible && this.tooltipElement && this.tooltip.showOn === 'Always') {\r\n                this.tooltipElement.classList.add(classNames.sliderDisabled);\r\n            }\r\n            this.unwireEvents();\r\n        }\r\n        else {\r\n            removeClass([this.sliderContainer], [classNames.sliderDisabled]);\r\n            if (this.tooltip.isVisible && this.tooltipElement && this.tooltip.showOn === 'Always') {\r\n                this.tooltipElement.classList.remove(classNames.sliderDisabled);\r\n            }\r\n            this.wireEvents();\r\n        }\r\n    };\r\n    Slider.prototype.getTheme = function (container) {\r\n        var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\r\n        return theme.replace(/['\"]+/g, '');\r\n    };\r\n    /**\r\n     * Initialize the rendering\r\n     * @private\r\n     */\r\n    Slider.prototype.initRender = function () {\r\n        this.sliderContainer = this.createElement('div', { className: classNames.sliderContainer + ' ' + classNames.controlWrapper });\r\n        this.element.parentNode.insertBefore(this.sliderContainer, this.element);\r\n        this.sliderContainer.appendChild(this.element);\r\n        this.sliderTrack = this.createElement('div', { className: classNames.sliderTrack });\r\n        this.element.appendChild(this.sliderTrack);\r\n        this.setElementWidth(this.width);\r\n        this.element.tabIndex = -1;\r\n        this.getThemeInitialization();\r\n        this.setHandler();\r\n        this.createRangeBar();\r\n        if (this.limits.enabled) {\r\n            this.createLimitBar();\r\n        }\r\n        this.setOrientClass();\r\n        this.hiddenInput = (this.createElement('input', {\r\n            attrs: {\r\n                type: 'hidden', value: (isNullOrUndefined(this.value) ? this.min.toString() : this.value.toString()),\r\n                name: this.element.getAttribute('name') || this.element.getAttribute('id') ||\r\n                    '_' + (Math.random() * 1000).toFixed(0) + 'slider', class: classNames.sliderHiddenInput\r\n            }\r\n        }));\r\n        this.hiddenInput.tabIndex = -1;\r\n        this.sliderContainer.appendChild(this.hiddenInput);\r\n        if (this.showButtons) {\r\n            this.setButtons();\r\n        }\r\n        this.setEnableRTL();\r\n        if (this.type === 'Range') {\r\n            this.rangeValueUpdate();\r\n        }\r\n        else {\r\n            this.value = isNullOrUndefined(this.value) ? parseFloat(formatUnit(this.min.toString())) : this.value;\r\n        }\r\n        this.previousVal = this.type !== 'Range' ? this.checkHandleValue(parseFloat(formatUnit(this.value.toString()))) :\r\n            [this.checkHandleValue(parseFloat(formatUnit(this.value[0].toString()))),\r\n                this.checkHandleValue(parseFloat(formatUnit(this.value[1].toString())))];\r\n        this.previousChanged = this.previousVal;\r\n        if (!isNullOrUndefined(this.element.hasAttribute('name'))) {\r\n            this.element.removeAttribute('name');\r\n        }\r\n        this.setValue();\r\n        if (this.limits.enabled) {\r\n            this.setLimitBar();\r\n        }\r\n        if (this.ticks.placement !== 'None') {\r\n            this.renderScale();\r\n        }\r\n        if (this.tooltip.isVisible) {\r\n            this.renderTooltip();\r\n        }\r\n        if (!this.enabled) {\r\n            addClass([this.sliderContainer], [classNames.sliderDisabled]);\r\n        }\r\n        else {\r\n            removeClass([this.sliderContainer], [classNames.sliderDisabled]);\r\n        }\r\n        if (this.readonly) {\r\n            addClass([this.sliderContainer], [classNames.readonly]);\r\n        }\r\n        else {\r\n            removeClass([this.sliderContainer], [classNames.readonly]);\r\n        }\r\n    };\r\n    Slider.prototype.getThemeInitialization = function () {\r\n        this.isMaterial = this.getTheme(this.sliderContainer) === 'material'\r\n            || this.getTheme(this.sliderContainer) === 'material-dark';\r\n        this.isBootstrap = this.getTheme(this.sliderContainer) === 'bootstrap'\r\n            || this.getTheme(this.sliderContainer) === 'bootstrap-dark';\r\n        this.isBootstrap4 = this.getTheme(this.sliderContainer) === 'bootstrap4';\r\n        this.isTailwind = this.getTheme(this.sliderContainer) === 'tailwind' || this.getTheme(this.sliderContainer) === 'tailwind-dark';\r\n        this.isBootstrap5 = this.getTheme(this.sliderContainer) === 'bootstrap5';\r\n        this.isMaterialTooltip = this.isMaterial && this.type !== 'Range' && this.tooltip.isVisible;\r\n    };\r\n    Slider.prototype.createRangeBar = function () {\r\n        if (this.type !== 'Default') {\r\n            this.rangeBar = (this.createElement('div', { attrs: { class: classNames.rangeBar } }));\r\n            this.element.appendChild(this.rangeBar);\r\n            if (this.drag && this.type === 'Range') {\r\n                if (this.orientation === 'Horizontal') {\r\n                    this.rangeBar.classList.add(classNames.dragHorizontal);\r\n                }\r\n                else {\r\n                    this.rangeBar.classList.add(classNames.dragVertical);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.createLimitBar = function () {\r\n        var firstElementClassName = this.type !== 'Range' ? classNames.limitBarDefault :\r\n            classNames.limitBarFirst;\r\n        firstElementClassName += ' ' + classNames.limits;\r\n        this.limitBarFirst = (this.createElement('div', {\r\n            attrs: { class: firstElementClassName }\r\n        }));\r\n        this.element.appendChild(this.limitBarFirst);\r\n        if (this.type === 'Range') {\r\n            this.limitBarSecond = (this.createElement('div', {\r\n                attrs: {\r\n                    class: classNames.limitBarSecond + ' ' + classNames.limits\r\n                }\r\n            }));\r\n            this.element.appendChild(this.limitBarSecond);\r\n        }\r\n    };\r\n    Slider.prototype.setOrientClass = function () {\r\n        if (this.orientation !== 'Vertical') {\r\n            this.sliderContainer.classList.remove(classNames.verticalSlider);\r\n            this.sliderContainer.classList.add(classNames.horizontalSlider);\r\n            this.firstHandle.setAttribute('aria-orientation', 'horizontal');\r\n            if (this.type === 'Range') {\r\n                this.secondHandle.setAttribute('aria-orientation', 'horizontal');\r\n            }\r\n        }\r\n        else {\r\n            this.sliderContainer.classList.remove(classNames.horizontalSlider);\r\n            this.sliderContainer.classList.add(classNames.verticalSlider);\r\n            this.firstHandle.setAttribute('aria-orientation', 'vertical');\r\n            if (this.type === 'Range') {\r\n                this.secondHandle.setAttribute('aria-orientation', 'vertical');\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.setAriaAttributes = function (element) {\r\n        var _this = this;\r\n        var min = this.min;\r\n        var max = this.max;\r\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\r\n            min = this.customValues[0];\r\n            max = this.customValues[this.customValues.length - 1];\r\n        }\r\n        if (this.type !== 'Range') {\r\n            attributes(element, {\r\n                'aria-valuemin': min.toString(), 'aria-valuemax': max.toString()\r\n            });\r\n        }\r\n        else {\r\n            var range = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\r\n                [[min.toString(), (this.customValues[this.value[1]]).toString()],\r\n                    [(this.customValues[this.value[0]]).toString(), max.toString()]] :\r\n                [[min.toString(), this.value[1].toString()], [this.value[0].toString(), max.toString()]];\r\n            range.forEach(function (range, index) {\r\n                var element = index === 0 ? _this.firstHandle : _this.secondHandle;\r\n                if (element) {\r\n                    attributes(element, {\r\n                        'aria-valuemin': range[0], 'aria-valuemax': range[1]\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Slider.prototype.createSecondHandle = function () {\r\n        this.secondHandle = this.createElement('div', {\r\n            attrs: {\r\n                class: classNames.sliderHandle, 'role': 'slider', tabIndex: '0'\r\n            }\r\n        });\r\n        this.secondHandle.classList.add(classNames.sliderSecondHandle);\r\n        this.element.appendChild(this.secondHandle);\r\n    };\r\n    Slider.prototype.createFirstHandle = function () {\r\n        this.firstHandle = this.createElement('div', {\r\n            attrs: {\r\n                class: classNames.sliderHandle, 'role': 'slider', tabIndex: '0'\r\n            }\r\n        });\r\n        this.firstHandle.classList.add(classNames.sliderFirstHandle);\r\n        this.element.appendChild(this.firstHandle);\r\n        if (this.isMaterialTooltip) {\r\n            this.materialHandle = this.createElement('div', {\r\n                attrs: {\r\n                    class: classNames.sliderHandle + ' ' +\r\n                        classNames.sliderMaterialHandle\r\n                }\r\n            });\r\n            this.element.appendChild(this.materialHandle);\r\n        }\r\n    };\r\n    Slider.prototype.wireFirstHandleEvt = function (destroy) {\r\n        if (!destroy) {\r\n            EventHandler.add(this.firstHandle, 'mousedown touchstart', this.handleFocus, this);\r\n            EventHandler.add(this.firstHandle, 'transitionend', this.transitionEnd, this);\r\n            EventHandler.add(this.firstHandle, 'mouseenter touchenter', this.handleOver, this);\r\n            EventHandler.add(this.firstHandle, 'mouseleave touchend', this.handleLeave, this);\r\n        }\r\n        else {\r\n            EventHandler.remove(this.firstHandle, 'mousedown touchstart', this.handleFocus);\r\n            EventHandler.remove(this.firstHandle, 'transitionend', this.transitionEnd);\r\n            EventHandler.remove(this.firstHandle, 'mouseenter touchenter', this.handleOver);\r\n            EventHandler.remove(this.firstHandle, 'mouseleave touchend', this.handleLeave);\r\n        }\r\n    };\r\n    Slider.prototype.wireSecondHandleEvt = function (destroy) {\r\n        if (!destroy) {\r\n            EventHandler.add(this.secondHandle, 'mousedown touchstart', this.handleFocus, this);\r\n            EventHandler.add(this.secondHandle, 'transitionend', this.transitionEnd, this);\r\n            EventHandler.add(this.secondHandle, 'mouseenter touchenter', this.handleOver, this);\r\n            EventHandler.add(this.secondHandle, 'mouseleave touchend', this.handleLeave, this);\r\n        }\r\n        else {\r\n            EventHandler.remove(this.secondHandle, 'mousedown touchstart', this.handleFocus);\r\n            EventHandler.remove(this.secondHandle, 'transitionend', this.transitionEnd);\r\n            EventHandler.remove(this.secondHandle, 'mouseenter touchenter', this.handleOver);\r\n            EventHandler.remove(this.secondHandle, 'mouseleave touchend', this.handleLeave);\r\n        }\r\n    };\r\n    Slider.prototype.handleStart = function () {\r\n        if (this.type !== 'Range') {\r\n            this.firstHandle.classList[this.handlePos1 === 0 ? 'add' : 'remove'](classNames.sliderHandleStart);\r\n            if (this.isMaterialTooltip) {\r\n                this.materialHandle.classList[this.handlePos1 === 0 ? 'add' : 'remove'](classNames.sliderHandleStart);\r\n                if (this.tooltipElement) {\r\n                    this.tooltipElement.classList[this.handlePos1 === 0 ? 'add' : 'remove'](classNames.sliderTooltipStart);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.transitionEnd = function (e) {\r\n        if (e.propertyName !== 'transform') {\r\n            this.handleStart();\r\n            this.getHandle().style.transition = 'none';\r\n            if (this.type !== 'Default') {\r\n                this.rangeBar.style.transition = 'none';\r\n            }\r\n            if (this.isMaterial && this.tooltip.isVisible && this.type === 'Default') {\r\n                this.tooltipElement.style.transition = this.transition.handle;\r\n            }\r\n            this.tooltipToggle(this.getHandle());\r\n            this.closeTooltip();\r\n        }\r\n    };\r\n    Slider.prototype.handleFocusOut = function () {\r\n        if (this.firstHandle.classList.contains(classNames.sliderHandleFocused)) {\r\n            this.firstHandle.classList.remove(classNames.sliderHandleFocused);\r\n        }\r\n        if (this.type === 'Range') {\r\n            if (this.secondHandle.classList.contains(classNames.sliderHandleFocused)) {\r\n                this.secondHandle.classList.remove(classNames.sliderHandleFocused);\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.handleFocus = function (e) {\r\n        this.focusSliderElement();\r\n        this.sliderBarClick(e);\r\n        if (e.currentTarget === this.firstHandle) {\r\n            this.firstHandle.classList.add(classNames.sliderHandleFocused);\r\n            this.firstHandle.classList.add(classNames.sliderTabHandle);\r\n        }\r\n        else {\r\n            this.secondHandle.classList.add(classNames.sliderHandleFocused);\r\n            this.secondHandle.classList.add(classNames.sliderTabHandle);\r\n        }\r\n        EventHandler.add(document, 'mousemove touchmove', this.sliderBarMove, this);\r\n        EventHandler.add(document, 'mouseup touchend', this.sliderBarUp, this);\r\n    };\r\n    Slider.prototype.handleOver = function (e) {\r\n        if (this.tooltip.isVisible && this.tooltip.showOn === 'Hover') {\r\n            this.tooltipToggle(e.currentTarget);\r\n        }\r\n        if (this.type === 'Default') {\r\n            this.tooltipToggle(this.getHandle());\r\n        }\r\n    };\r\n    Slider.prototype.handleLeave = function (e) {\r\n        if (this.tooltip.isVisible && this.tooltip.showOn === 'Hover' &&\r\n            !e.currentTarget.classList.contains(classNames.sliderHandleFocused) &&\r\n            !e.currentTarget.classList.contains(classNames.sliderTabHandle)) {\r\n            this.closeTooltip();\r\n        }\r\n    };\r\n    Slider.prototype.setHandler = function () {\r\n        if (this.min > this.max) {\r\n            this.min = this.max;\r\n        }\r\n        this.createFirstHandle();\r\n        if (this.type === 'Range') {\r\n            this.createSecondHandle();\r\n        }\r\n    };\r\n    Slider.prototype.setEnableRTL = function () {\r\n        this.enableRtl && this.orientation !== 'Vertical' ? addClass([this.sliderContainer], classNames.rtl) :\r\n            removeClass([this.sliderContainer], classNames.rtl);\r\n        var preDir = (this.orientation !== 'Vertical') ? this.horDir : this.verDir;\r\n        if (this.enableRtl) {\r\n            this.horDir = 'right';\r\n            this.verDir = 'bottom';\r\n        }\r\n        else {\r\n            this.horDir = 'left';\r\n            this.verDir = 'bottom';\r\n        }\r\n        var currDir = (this.orientation !== 'Vertical') ? this.horDir : this.verDir;\r\n        if (preDir !== currDir) {\r\n            if (this.orientation === 'Horizontal') {\r\n                setStyleAttribute(this.firstHandle, { 'right': '', 'left': 'auto' });\r\n                if (this.type === 'Range') {\r\n                    setStyleAttribute(this.secondHandle, { 'top': '', 'left': 'auto' });\r\n                }\r\n            }\r\n        }\r\n        this.setBarColor();\r\n    };\r\n    Slider.prototype.tooltipValue = function () {\r\n        var _this = this;\r\n        var text;\r\n        var args = {\r\n            value: this.value,\r\n            text: ''\r\n        };\r\n        if (this.initialTooltip) {\r\n            this.initialTooltip = false;\r\n            this.setTooltipContent();\r\n            args.text = text = this.tooltipObj.content;\r\n            this.trigger('tooltipChange', args, function (observedArgs) {\r\n                _this.addTooltipClass(observedArgs.text);\r\n                if (text !== observedArgs.text) {\r\n                    _this.customAriaText = observedArgs.text;\r\n                    _this.tooltipObj.content = observedArgs.text;\r\n                    _this.setAriaAttrValue(_this.firstHandle);\r\n                    if (_this.type === 'Range') {\r\n                        _this.setAriaAttrValue(_this.secondHandle);\r\n                    }\r\n                }\r\n            });\r\n            if (this.isMaterialTooltip) {\r\n                this.setPreviousVal('change', this.value);\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.setTooltipContent = function () {\r\n        var content;\r\n        content = this.formatContent(this.tooltipFormatInfo, false);\r\n        this.tooltipObj.content = content;\r\n    };\r\n    Slider.prototype.formatContent = function (formatInfo, ariaContent) {\r\n        var content = '';\r\n        var handle1 = this.handleVal1;\r\n        var handle2 = this.handleVal2;\r\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\r\n            handle1 = this.customValues[this.handleVal1];\r\n            handle2 = this.customValues[this.handleVal2];\r\n        }\r\n        if (!ariaContent) {\r\n            if (this.type === 'Range') {\r\n                if (this.enableRtl && this.orientation !== 'Vertical') {\r\n                    content = (!isNullOrUndefined(formatInfo.format)) ? (this.formatString(handle2, formatInfo)\r\n                        .formatString + ' - ' + this.formatString(handle1, formatInfo).formatString) :\r\n                        (handle2.toString() + ' - ' + handle1.toString());\r\n                }\r\n                else {\r\n                    content = (!isNullOrUndefined(formatInfo.format)) ? (this.formatString(handle1, formatInfo)\r\n                        .formatString + ' - ' + this.formatString(handle2, formatInfo).formatString) :\r\n                        (handle1.toString() + ' - ' + handle2.toString());\r\n                }\r\n            }\r\n            else {\r\n                if (!isNullOrUndefined(handle1)) {\r\n                    content = (!isNullOrUndefined(formatInfo.format)) ?\r\n                        this.formatString(handle1, formatInfo).formatString : handle1.toString();\r\n                }\r\n            }\r\n            return content;\r\n        }\r\n        else {\r\n            if (this.type === 'Range') {\r\n                if (this.enableRtl && this.orientation !== 'Vertical') {\r\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\r\n                        (this.formatString(handle2, formatInfo).elementVal + ' - ' +\r\n                            this.formatString(handle1, formatInfo).elementVal) :\r\n                        (handle2.toString() + ' - ' + handle1.toString());\r\n                }\r\n                else {\r\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\r\n                        (this.formatString(handle1, formatInfo).elementVal + ' - ' +\r\n                            this.formatString(handle2, formatInfo).elementVal) :\r\n                        (handle1.toString() + ' - ' + handle2.toString());\r\n                }\r\n            }\r\n            else {\r\n                if (!isNullOrUndefined(handle1)) {\r\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\r\n                        this.formatString(handle1, formatInfo).elementVal : handle1.toString();\r\n                }\r\n            }\r\n            return content;\r\n        }\r\n    };\r\n    Slider.prototype.addTooltipClass = function (content) {\r\n        if (this.isMaterialTooltip) {\r\n            var count = content.toString().length;\r\n            if (!this.tooltipElement) {\r\n                var cssClass = count > 4 ? classNames.sliderMaterialRange : classNames.sliderMaterialDefault;\r\n                this.tooltipObj.cssClass = classNames.sliderTooltip + ' ' + cssClass;\r\n            }\r\n            else {\r\n                var cssClass = count > 4 ?\r\n                    { oldCss: classNames.sliderMaterialDefault, newCss: classNames.sliderMaterialRange } :\r\n                    { oldCss: classNames.sliderMaterialRange, newCss: classNames.sliderMaterialDefault };\r\n                this.tooltipElement.classList.remove(cssClass.oldCss);\r\n                if (!this.tooltipElement.classList.contains(cssClass.newCss)) {\r\n                    this.tooltipElement.classList.add(cssClass.newCss);\r\n                    this.tooltipElement.style.transform = count > 4 ? 'scale(1)' :\r\n                        this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.tooltipPlacement = function () {\r\n        return this.orientation === 'Horizontal' ? (this.tooltip.placement === 'Before' ? 'TopCenter' : 'BottomCenter') :\r\n            (this.tooltip.placement === 'Before' ? 'LeftCenter' : 'RightCenter');\r\n    };\r\n    Slider.prototype.tooltipBeforeOpen = function (args) {\r\n        this.tooltipElement = args.element;\r\n        if (this.tooltip.cssClass) {\r\n            addClass([this.tooltipElement], this.tooltip.cssClass.split(' ').filter(function (css) { return css; }));\r\n        }\r\n        args.target.removeAttribute('aria-describedby');\r\n        if (this.isMaterialTooltip) {\r\n            this.tooltipElement.firstElementChild.classList.add(classNames.materialTooltipHide);\r\n            this.handleStart();\r\n            this.setTooltipTransform();\r\n        }\r\n    };\r\n    Slider.prototype.tooltipCollision = function (position) {\r\n        if (this.isBootstrap || this.isBootstrap4 || (this.isMaterial && !this.isMaterialTooltip)) {\r\n            var tooltipOffsetValue = this.isBootstrap4 ? bootstrap4TooltipOffset : bootstrapTooltipOffset;\r\n            switch (position) {\r\n                case 'TopCenter':\r\n                    this.tooltipObj.setProperties({ 'offsetY': -(tooltipOffsetValue) }, false);\r\n                    break;\r\n                case 'BottomCenter':\r\n                    this.tooltipObj.setProperties({ 'offsetY': tooltipOffsetValue }, false);\r\n                    break;\r\n                case 'LeftCenter':\r\n                    this.tooltipObj.setProperties({ 'offsetX': -(tooltipOffsetValue) }, false);\r\n                    break;\r\n                case 'RightCenter':\r\n                    this.tooltipObj.setProperties({ 'offsetX': tooltipOffsetValue }, false);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.materialTooltipEventCallBack = function (event) {\r\n        this.sliderBarClick(event);\r\n        EventHandler.add(document, 'mousemove touchmove', this.sliderBarMove, this);\r\n        EventHandler.add(document, 'mouseup touchend', this.sliderBarUp, this);\r\n    };\r\n    Slider.prototype.wireMaterialTooltipEvent = function (destroy) {\r\n        if (this.isMaterialTooltip) {\r\n            if (!destroy) {\r\n                EventHandler.add(this.tooltipElement, 'mousedown touchstart', this.materialTooltipEventCallBack, this);\r\n            }\r\n            else {\r\n                EventHandler.remove(this.tooltipElement, 'mousedown touchstart', this.materialTooltipEventCallBack);\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.tooltipPositionCalculation = function (position) {\r\n        var cssClass;\r\n        switch (position) {\r\n            case 'TopCenter':\r\n                cssClass = classNames.horizontalTooltipBefore;\r\n                break;\r\n            case 'BottomCenter':\r\n                cssClass = classNames.horizontalTooltipAfter;\r\n                break;\r\n            case 'LeftCenter':\r\n                cssClass = classNames.verticalTooltipBefore;\r\n                break;\r\n            case 'RightCenter':\r\n                cssClass = classNames.verticalTooltipAfter;\r\n                break;\r\n        }\r\n        return cssClass;\r\n    };\r\n    Slider.prototype.getTooltipTransformProperties = function (className) {\r\n        var transformProperties;\r\n        if (this.tooltipElement) {\r\n            var position = this.orientation === 'Horizontal' ?\r\n                ((this.tooltipElement.clientHeight + 14) - (this.tooltipElement.clientHeight / 2)) :\r\n                ((this.tooltipElement.clientWidth + 14) - (this.tooltipElement.clientWidth / 2));\r\n            transformProperties = this.orientation === 'Horizontal' ?\r\n                (className === classNames.horizontalTooltipBefore ? { rotate: 'rotate(45deg)', translate: \"translateY(\" + position + \"px)\" } :\r\n                    { rotate: 'rotate(225deg)', translate: \"translateY(\" + -(position) + \"px)\" }) :\r\n                (className === classNames.verticalTooltipBefore ? { rotate: 'rotate(-45deg)', translate: \"translateX(\" + position + \"px)\" } :\r\n                    { rotate: 'rotate(-225deg)', translate: \"translateX(\" + (-position) + \"px)\" });\r\n        }\r\n        return transformProperties;\r\n    };\r\n    Slider.prototype.openMaterialTooltip = function () {\r\n        var _this = this;\r\n        if (this.isMaterialTooltip) {\r\n            this.refreshTooltip(this.firstHandle);\r\n            var tooltipContentElement = this.tooltipElement.firstElementChild;\r\n            tooltipContentElement.classList.remove(classNames.materialTooltipHide);\r\n            tooltipContentElement.classList.add(classNames.materialTooltipShow);\r\n            this.firstHandle.style.cursor = 'default';\r\n            this.tooltipElement.style.transition = this.scaleTransform;\r\n            this.tooltipElement.classList.add(classNames.materialTooltipOpen);\r\n            this.materialHandle.style.transform = 'scale(0)';\r\n            if (tooltipContentElement.innerText.length > 4) {\r\n                this.tooltipElement.style.transform = 'scale(1)';\r\n            }\r\n            else {\r\n                this.tooltipElement.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\r\n            }\r\n            if (this.type === 'Default') {\r\n                setTimeout(function () { _this.tooltipElement.style.transition = _this.transition.handle; }, 2500);\r\n            }\r\n            else {\r\n                setTimeout(function () { _this.tooltipElement.style.transition = 'none'; }, 2500);\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.closeMaterialTooltip = function () {\r\n        var _this = this;\r\n        if (this.isMaterialTooltip) {\r\n            var tooltipContentElement = this.tooltipElement.firstElementChild;\r\n            this.tooltipElement.style.transition = this.scaleTransform;\r\n            tooltipContentElement.classList.remove(classNames.materialTooltipShow);\r\n            tooltipContentElement.classList.add(classNames.materialTooltipHide);\r\n            this.firstHandle.style.cursor = '-webkit-grab';\r\n            this.firstHandle.style.cursor = 'grab';\r\n            if (this.materialHandle) {\r\n                this.materialHandle.style.transform = 'scale(1)';\r\n            }\r\n            this.tooltipElement.classList.remove(classNames.materialTooltipOpen);\r\n            this.setTooltipTransform();\r\n            this.tooltipTarget = undefined;\r\n            setTimeout(function () { _this.tooltipElement.style.transition = 'none'; }, 2500);\r\n        }\r\n    };\r\n    Slider.prototype.checkTooltipPosition = function (args) {\r\n        var tooltipClass = this.tooltipPositionCalculation(args.collidedPosition);\r\n        if (this.tooltipCollidedPosition === undefined ||\r\n            this.tooltipCollidedPosition !== args.collidedPosition || !args.element.classList.contains(tooltipClass)) {\r\n            if (this.isMaterialTooltip) {\r\n                if (tooltipClass !== undefined) {\r\n                    args.element.classList.remove(this.previousTooltipClass);\r\n                    args.element.classList.add(tooltipClass);\r\n                    this.previousTooltipClass = tooltipClass;\r\n                }\r\n                if (args.element.style.transform && args.element.classList.contains(classNames.materialTooltipOpen) &&\r\n                    args.element.firstElementChild.innerText.length <= 4) {\r\n                    args.element.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\r\n                }\r\n            }\r\n            this.tooltipCollidedPosition = args.collidedPosition;\r\n        }\r\n        if (this.isMaterialTooltip && this.tooltipElement && this.tooltipElement.style.transform.indexOf('translate') !== -1) {\r\n            this.setTooltipTransform();\r\n        }\r\n    };\r\n    Slider.prototype.setTooltipTransform = function () {\r\n        var transformProperties = this.getTooltipTransformProperties(this.previousTooltipClass);\r\n        if (this.tooltipElement.firstElementChild.innerText.length > 4) {\r\n            this.tooltipElement.style.transform = transformProperties.translate + \" scale(0.01)\";\r\n        }\r\n        else {\r\n            this.tooltipElement.style.transform = transformProperties.translate + \" \" + transformProperties.rotate + \" scale(0.01)\";\r\n        }\r\n    };\r\n    Slider.prototype.renderTooltip = function () {\r\n        this.tooltipObj = new Tooltip({\r\n            showTipPointer: this.isBootstrap || this.isMaterial || this.isBootstrap4 || this.isTailwind || this.isBootstrap5,\r\n            cssClass: classNames.sliderTooltip,\r\n            height: this.isMaterial ? 30 : 'auto',\r\n            animation: { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } },\r\n            opensOn: 'Custom',\r\n            beforeOpen: this.tooltipBeforeOpen.bind(this),\r\n            beforeCollision: this.checkTooltipPosition.bind(this),\r\n            beforeClose: this.tooltipBeforeClose.bind(this),\r\n            enableHtmlSanitizer: this.enableHtmlSanitizer\r\n        });\r\n        this.tooltipObj.appendTo(this.firstHandle);\r\n        this.initializeTooltipProps();\r\n    };\r\n    Slider.prototype.initializeTooltipProps = function () {\r\n        var tooltipShowOn = this.isMaterialTooltip ? 'Always' : (this.tooltip.showOn === 'Auto' ? 'Hover' : this.tooltip.showOn);\r\n        this.setProperties({ tooltip: { showOn: tooltipShowOn } }, true);\r\n        this.tooltipObj.position = this.tooltipPlacement();\r\n        this.tooltipCollision(this.tooltipObj.position);\r\n        [this.firstHandle, this.rangeBar, this.secondHandle].forEach(function (handle) {\r\n            if (!isNullOrUndefined(handle)) {\r\n                handle.style.transition = 'none';\r\n            }\r\n        });\r\n        if (this.isMaterialTooltip) {\r\n            this.sliderContainer.classList.add(classNames.materialSlider);\r\n            this.tooltipValue();\r\n            this.tooltipObj.animation.close.effect = 'None';\r\n            this.tooltipObj.open(this.firstHandle);\r\n        }\r\n    };\r\n    Slider.prototype.tooltipBeforeClose = function () {\r\n        this.tooltipElement = undefined;\r\n        this.tooltipCollidedPosition = undefined;\r\n    };\r\n    Slider.prototype.setButtons = function () {\r\n        this.firstBtn = this.createElement('div', { className: classNames.sliderButton + ' ' + classNames.firstButton });\r\n        this.firstBtn.appendChild(this.createElement('span', { className: classNames.sliderButtonIcon }));\r\n        if (this.isTailwind) {\r\n            this.firstBtn.querySelector('span').classList.add('e-icons');\r\n        }\r\n        this.firstBtn.tabIndex = -1;\r\n        this.secondBtn = this.createElement('div', { className: classNames.sliderButton + ' ' + classNames.secondButton });\r\n        this.secondBtn.appendChild(this.createElement('span', { className: classNames.sliderButtonIcon }));\r\n        if (this.isTailwind) {\r\n            this.secondBtn.querySelector('span').classList.add('e-icons');\r\n        }\r\n        this.secondBtn.tabIndex = -1;\r\n        this.sliderContainer.classList.add(classNames.sliderButtonClass);\r\n        this.sliderContainer.appendChild(this.firstBtn);\r\n        this.sliderContainer.appendChild(this.secondBtn);\r\n        this.sliderContainer.appendChild(this.element);\r\n        this.buttonTitle();\r\n    };\r\n    Slider.prototype.buttonTitle = function () {\r\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\r\n        this.l10n.setLocale(this.locale);\r\n        var decrementTitle = this.l10n.getConstant('decrementTitle');\r\n        var incrementTitle = this.l10n.getConstant('incrementTitle');\r\n        attributes(enabledRTL ? this.secondBtn : this.firstBtn, { 'aria-label': decrementTitle, title: decrementTitle });\r\n        attributes(enabledRTL ? this.firstBtn : this.secondBtn, { 'aria-label': incrementTitle, title: incrementTitle });\r\n    };\r\n    Slider.prototype.buttonFocusOut = function () {\r\n        if (this.isMaterial) {\r\n            this.getHandle().classList.remove('e-large-thumb-size');\r\n        }\r\n    };\r\n    Slider.prototype.repeatButton = function (args) {\r\n        var hVal = this.handleValueUpdate();\r\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\r\n        var value;\r\n        if (args.target.parentElement.classList.contains(classNames.firstButton)\r\n            || args.target.classList.contains(classNames.firstButton)) {\r\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), true)) :\r\n                (value = this.add(hVal, parseFloat(this.step.toString()), false));\r\n        }\r\n        else if (args.target.parentElement.classList.contains(classNames.secondButton)\r\n            || (args.target.classList.contains(classNames.secondButton))) {\r\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), false)) :\r\n                (value = this.add(hVal, parseFloat(this.step.toString()), true));\r\n        }\r\n        if (this.limits.enabled) {\r\n            value = this.getLimitCorrectedValues(value);\r\n        }\r\n        if (value >= this.min && value <= this.max) {\r\n            this.changeHandleValue(value);\r\n            this.tooltipToggle(this.getHandle());\r\n        }\r\n    };\r\n    Slider.prototype.repeatHandlerMouse = function (args) {\r\n        args.preventDefault();\r\n        if (args.type === ('mousedown') || args.type === ('touchstart')) {\r\n            this.buttonClick(args);\r\n            this.repeatInterval = setInterval(this.repeatButton.bind(this), 180, args);\r\n        }\r\n    };\r\n    Slider.prototype.materialChange = function () {\r\n        if (!this.getHandle().classList.contains('e-large-thumb-size')) {\r\n            this.getHandle().classList.add('e-large-thumb-size');\r\n        }\r\n    };\r\n    Slider.prototype.focusHandle = function () {\r\n        if (!this.getHandle().classList.contains(classNames.sliderTabHandle)) {\r\n            this.getHandle().classList.add(classNames.sliderTabHandle);\r\n        }\r\n    };\r\n    Slider.prototype.repeatHandlerUp = function (e) {\r\n        this.changeEvent('changed', e);\r\n        this.closeTooltip();\r\n        clearInterval(this.repeatInterval);\r\n        this.getHandle().focus();\r\n    };\r\n    Slider.prototype.customTickCounter = function (bigNum) {\r\n        var tickCount = 4;\r\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\r\n            if (bigNum > 4) {\r\n                tickCount = 3;\r\n            }\r\n            if (bigNum > 7) {\r\n                tickCount = 2;\r\n            }\r\n            if (bigNum > 14) {\r\n                tickCount = 1;\r\n            }\r\n            if (bigNum > 28) {\r\n                tickCount = 0;\r\n            }\r\n        }\r\n        return tickCount;\r\n    };\r\n    // tslint:disable-next-line:max-func-body-length\r\n    Slider.prototype.renderScale = function () {\r\n        var liElementPosition = 0;\r\n        var orien = this.orientation === 'Vertical' ? 'v' : 'h';\r\n        var spanText;\r\n        this.noOfDecimals = this.numberOfDecimals(this.step);\r\n        this.ul = this.createElement('ul', {\r\n            className: classNames.scale + ' ' + 'e-' + orien + '-scale ' + classNames.tick + '-' + this.ticks.placement.toLowerCase(),\r\n            attrs: { role: 'presentation', tabIndex: '-1', 'aria-hidden': 'true' }\r\n        });\r\n        this.ul.style.zIndex = '-1';\r\n        if (Browser.isAndroid && orien === 'h') {\r\n            this.ul.classList.add(classNames.sliderTickPosition);\r\n        }\r\n        var smallStep = this.ticks.smallStep;\r\n        if (!this.ticks.showSmallTicks) {\r\n            this.ticks.largeStep > 0 ? (smallStep = this.ticks.largeStep) :\r\n                (smallStep = (parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min))));\r\n        }\r\n        else if (smallStep <= 0) {\r\n            smallStep = parseFloat(formatUnit(this.step));\r\n        }\r\n        var min = this.fractionalToInteger(this.min);\r\n        var max = this.fractionalToInteger(this.max);\r\n        var steps = this.fractionalToInteger(smallStep);\r\n        var bigNum = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 && this.customValues.length - 1;\r\n        var customStep = this.customTickCounter(bigNum);\r\n        var count = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\r\n            (bigNum * customStep) + bigNum : Math.abs((max - min) / steps);\r\n        this.element.appendChild(this.ul);\r\n        var li;\r\n        var start = parseFloat(this.min.toString());\r\n        if (orien === 'v') {\r\n            start = parseFloat(this.max.toString());\r\n        }\r\n        var left = 0;\r\n        var islargeTick;\r\n        var tickWidth = 100 / count;\r\n        if (tickWidth === Infinity) {\r\n            tickWidth = 5;\r\n        }\r\n        for (var i = 0, y = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\r\n            this.customValues.length - 1 : 0, k = 0; i <= count; i++) {\r\n            li = (this.createElement('li', {\r\n                attrs: {\r\n                    class: classNames.tick, role: 'presentation', tabIndex: '-1',\r\n                    'aria-hidden': 'true'\r\n                }\r\n            }));\r\n            if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\r\n                islargeTick = i % (customStep + 1) === 0;\r\n                if (islargeTick) {\r\n                    if (orien === 'h') {\r\n                        start = this.customValues[k];\r\n                        k++;\r\n                    }\r\n                    else {\r\n                        start = this.customValues[y];\r\n                        y--;\r\n                    }\r\n                    li.setAttribute('title', start.toString());\r\n                }\r\n            }\r\n            else {\r\n                li.setAttribute('title', start.toString());\r\n                if (this.numberOfDecimals(this.max) === 0 && this.numberOfDecimals(this.min) === 0 &&\r\n                    this.numberOfDecimals(this.step) === 0) {\r\n                    if (orien === 'h') {\r\n                        islargeTick = ((start - parseFloat(this.min.toString())) % this.ticks.largeStep === 0) ? true : false;\r\n                    }\r\n                    else {\r\n                        islargeTick = (Math.abs(start - parseFloat(this.max.toString())) % this.ticks.largeStep === 0) ? true : false;\r\n                    }\r\n                }\r\n                else {\r\n                    var largestep = this.fractionalToInteger(this.ticks.largeStep);\r\n                    var startValue = this.fractionalToInteger(start);\r\n                    if (orien === 'h') {\r\n                        islargeTick = ((startValue - min) % largestep === 0) ? true : false;\r\n                    }\r\n                    else {\r\n                        islargeTick = (Math.abs(startValue - parseFloat(max.toString())) % largestep === 0) ? true : false;\r\n                    }\r\n                }\r\n            }\r\n            if (islargeTick) {\r\n                li.classList.add(classNames.large);\r\n            }\r\n            (orien === 'h') ? (li.style.width = tickWidth + '%') : (li.style.height = tickWidth + '%');\r\n            var repeat = islargeTick ? (this.ticks.placement === 'Both' ? 2 : 1) : 0;\r\n            if (islargeTick) {\r\n                for (var j = 0; j < repeat; j++) {\r\n                    this.createTick(li, start, tickWidth);\r\n                }\r\n            }\r\n            else if (isNullOrUndefined(this.customValues)) {\r\n                this.formatTicksValue(li, start);\r\n            }\r\n            this.ul.appendChild(li);\r\n            this.tickElementCollection.push(li);\r\n            var decimalPoints = void 0;\r\n            if (isNullOrUndefined(this.customValues)) {\r\n                if (this.numberOfDecimals(smallStep) > this.numberOfDecimals(start)) {\r\n                    decimalPoints = this.numberOfDecimals(smallStep);\r\n                }\r\n                else {\r\n                    decimalPoints = this.numberOfDecimals(start);\r\n                }\r\n                if (orien === 'h') {\r\n                    start = this.makeRoundNumber(start + smallStep, decimalPoints);\r\n                }\r\n                else {\r\n                    start = this.makeRoundNumber(start - smallStep, decimalPoints);\r\n                }\r\n                left = this.makeRoundNumber(left + smallStep, decimalPoints);\r\n            }\r\n        }\r\n        this.ticksAlignment(orien, tickWidth);\r\n    };\r\n    Slider.prototype.ticksAlignment = function (orien, tickWidth, triggerEvent) {\r\n        if (triggerEvent === void 0) { triggerEvent = true; }\r\n        this.firstChild = this.ul.firstElementChild;\r\n        this.lastChild = this.ul.lastElementChild;\r\n        this.firstChild.classList.add(classNames.sliderFirstTick);\r\n        this.lastChild.classList.add(classNames.sliderLastTick);\r\n        this.sliderContainer.classList.add(classNames.scale + '-' + this.ticks.placement.toLowerCase());\r\n        if (orien === 'h') {\r\n            this.firstChild.style.width = tickWidth / 2 + '%';\r\n            this.lastChild.style.width = tickWidth / 2 + '%';\r\n        }\r\n        else {\r\n            this.firstChild.style.height = tickWidth / 2 + '%';\r\n            this.lastChild.style.height = tickWidth / 2 + '%';\r\n        }\r\n        var eventArgs = { ticksWrapper: this.ul, tickElements: this.tickElementCollection };\r\n        if (triggerEvent) {\r\n            this.trigger('renderedTicks', eventArgs);\r\n        }\r\n        this.scaleAlignment();\r\n    };\r\n    Slider.prototype.createTick = function (li, start, tickWidth) {\r\n        var span = this.createElement('span', {\r\n            className: classNames.tickValue + ' ' + classNames.tick + '-' + this.ticks.placement.toLowerCase(),\r\n            attrs: { role: 'presentation', tabIndex: '-1', 'aria-hidden': 'true' }\r\n        });\r\n        li.appendChild(span);\r\n        if (isNullOrUndefined(this.customValues)) {\r\n            this.formatTicksValue(li, start, span, tickWidth);\r\n        }\r\n        else {\r\n            if (this.enableHtmlSanitizer) {\r\n                span.innerHTML = SanitizeHtmlHelper.sanitize(start.toString());\r\n            }\r\n            else {\r\n                span.innerHTML = start.toString();\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.formatTicksValue = function (li, start, spanElement, tickWidth) {\r\n        var _this = this;\r\n        var tickText = this.formatNumber(start);\r\n        var text = !isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format) ?\r\n            this.formatString(start, this.ticksFormatInfo).formatString : tickText;\r\n        var eventArgs = { value: start, text: text, tickElement: li };\r\n        this.trigger('renderingTicks', eventArgs, function (observedArgs) {\r\n            li.setAttribute('title', observedArgs.text.toString());\r\n            if (spanElement) {\r\n                if (_this.enableHtmlSanitizer) {\r\n                    spanElement.innerHTML = SanitizeHtmlHelper.sanitize(observedArgs.text.toString());\r\n                }\r\n                else {\r\n                    spanElement.innerHTML = observedArgs.text.toString();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    Slider.prototype.scaleAlignment = function () {\r\n        this.tickValuePosition();\r\n        var smallTick = 12;\r\n        var largeTick = 20;\r\n        var half = largeTick / 2;\r\n        var orien = this.orientation === 'Vertical' ? 'v' : 'h';\r\n        if (this.orientation === 'Vertical') {\r\n            (this.element.getBoundingClientRect().width <= 15) ?\r\n                this.sliderContainer.classList.add(classNames.sliderSmallSize) :\r\n                this.sliderContainer.classList.remove(classNames.sliderSmallSize);\r\n        }\r\n        else {\r\n            (this.element.getBoundingClientRect().height <= 15) ?\r\n                this.sliderContainer.classList.add(classNames.sliderSmallSize) :\r\n                this.sliderContainer.classList.remove(classNames.sliderSmallSize);\r\n        }\r\n    };\r\n    Slider.prototype.tickValuePosition = function () {\r\n        this.firstChild = this.element.querySelector('ul').children[0];\r\n        var first = this.firstChild.getBoundingClientRect();\r\n        var firstChild;\r\n        var otherChild;\r\n        var smallStep = this.ticks.smallStep;\r\n        var count = Math.abs((parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min)))) / smallStep;\r\n        if (this.firstChild.children.length > 0) {\r\n            firstChild = this.firstChild.children[0].getBoundingClientRect();\r\n        }\r\n        var tickElements = [this.sliderContainer.querySelectorAll('.' + classNames.tick + '.' +\r\n                classNames.large + ' .' + classNames.tickValue)];\r\n        var other;\r\n        if (this.ticks.placement === 'Both') {\r\n            other = [].slice.call(tickElements[0], 2);\r\n        }\r\n        else {\r\n            other = [].slice.call(tickElements[0], 1);\r\n        }\r\n        var tickWidth = this.orientation === 'Vertical' ?\r\n            (first.height * 2) : (first.width * 2);\r\n        for (var i = 0; i < this.firstChild.children.length; i++) {\r\n            if (this.orientation === 'Vertical') {\r\n                this.firstChild.children[i].style.top = -(firstChild.height / 2) + 'px';\r\n            }\r\n            else {\r\n                if (!this.enableRtl) {\r\n                    this.firstChild.children[i].style.left = -(firstChild.width / 2) + 'px';\r\n                }\r\n                else {\r\n                    this.firstChild.children[i].style.left = (tickWidth -\r\n                        this.firstChild.children[i].getBoundingClientRect().width) / 2 + 'px';\r\n                }\r\n            }\r\n        }\r\n        for (var i = 0; i < other.length; i++) {\r\n            otherChild = other[i].getBoundingClientRect();\r\n            if (this.orientation === 'Vertical') {\r\n                setStyleAttribute(other[i], { top: (tickWidth - otherChild.height) / 2 + 'px' });\r\n            }\r\n            else {\r\n                setStyleAttribute(other[i], { left: (tickWidth - otherChild.width) / 2 + 'px' });\r\n            }\r\n        }\r\n        if (this.enableRtl && this.lastChild.children.length && count !== 0) {\r\n            this.lastChild.children[0].style.left = -(this.lastChild.getBoundingClientRect().width / 2) + 'px';\r\n            if (this.ticks.placement === 'Both') {\r\n                this.lastChild.children[1].style.left = -(this.lastChild.getBoundingClientRect().width / 2) + 'px';\r\n            }\r\n        }\r\n        if (count === 0) {\r\n            if (this.orientation === 'Horizontal') {\r\n                if (!this.enableRtl) {\r\n                    this.firstChild.classList.remove(classNames.sliderLastTick);\r\n                    this.firstChild.style.left = this.firstHandle.style.left;\r\n                }\r\n                else {\r\n                    this.firstChild.classList.remove(classNames.sliderLastTick);\r\n                    this.firstChild.style.right = this.firstHandle.style.right;\r\n                    this.firstChild.children[0].style.left =\r\n                        (this.firstChild.getBoundingClientRect().width / 2) + 2 + 'px';\r\n                    if (this.ticks.placement === 'Both') {\r\n                        this.firstChild.children[1].style.left =\r\n                            (this.firstChild.getBoundingClientRect().width / 2) + 2 + 'px';\r\n                    }\r\n                }\r\n            }\r\n            if (this.orientation === 'Vertical') {\r\n                this.firstChild.classList.remove(classNames.sliderLastTick);\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.setAriaAttrValue = function (element) {\r\n        var ariaValueText;\r\n        var isTickFormatted = ((!isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format))) ? true : false;\r\n        var text = !isTickFormatted ?\r\n            this.formatContent(this.ticksFormatInfo, false) : this.formatContent(this.tooltipFormatInfo, false);\r\n        var valuenow = isTickFormatted ? this.formatContent(this.ticksFormatInfo, true) :\r\n            this.formatContent(this.tooltipFormatInfo, true);\r\n        text = (!this.customAriaText) ? (text) : (this.customAriaText);\r\n        if (text.split(' - ').length === 2) {\r\n            ariaValueText = text.split(' - ');\r\n        }\r\n        else {\r\n            ariaValueText = [text, text];\r\n        }\r\n        this.setAriaAttributes(element);\r\n        if (this.type !== 'Range') {\r\n            attributes(element, { 'aria-valuenow': valuenow, 'aria-valuetext': text });\r\n        }\r\n        else {\r\n            // eslint-disable-next-line\r\n            (!this.enableRtl) ? ((element === this.firstHandle) ?\r\n                attributes(element, { 'aria-valuenow': valuenow.split(' - ')[0], 'aria-valuetext': ariaValueText[0] }) :\r\n                attributes(element, { 'aria-valuenow': valuenow.split(' - ')[1], 'aria-valuetext': ariaValueText[1] })) :\r\n                ((element === this.firstHandle) ?\r\n                    attributes(element, { 'aria-valuenow': valuenow.split(' - ')[1], 'aria-valuetext': ariaValueText[1] }) :\r\n                    attributes(element, { 'aria-valuenow': valuenow.split(' - ')[0], 'aria-valuetext': ariaValueText[0] }));\r\n        }\r\n    };\r\n    Slider.prototype.handleValueUpdate = function () {\r\n        var hVal;\r\n        if (this.type === 'Range') {\r\n            if (this.activeHandle === 1) {\r\n                hVal = this.handleVal1;\r\n            }\r\n            else {\r\n                hVal = this.handleVal2;\r\n            }\r\n        }\r\n        else {\r\n            hVal = this.handleVal1;\r\n        }\r\n        return hVal;\r\n    };\r\n    Slider.prototype.getLimitCorrectedValues = function (value) {\r\n        if (this.type === 'MinRange' || this.type === 'Default') {\r\n            value = (this.getLimitValueAndPosition(value, this.limits.minStart, this.limits.minEnd))[0];\r\n        }\r\n        else {\r\n            if (this.activeHandle === 1) {\r\n                value = (this.getLimitValueAndPosition(value, this.limits.minStart, this.limits.minEnd))[0];\r\n            }\r\n            else {\r\n                value = (this.getLimitValueAndPosition(value, this.limits.maxStart, this.limits.maxEnd))[0];\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    Slider.prototype.focusSliderElement = function () {\r\n        if (!this.isElementFocused) {\r\n            this.element.focus();\r\n            this.isElementFocused = true;\r\n        }\r\n    };\r\n    Slider.prototype.buttonClick = function (args) {\r\n        this.focusSliderElement();\r\n        var value;\r\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\r\n        var hVal = this.handleValueUpdate();\r\n        if ((args.keyCode === 40) || (args.keyCode === 37)\r\n            || args.currentTarget.classList.contains(classNames.firstButton)) {\r\n            // eslint-disable-next-line\r\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), true)) :\r\n                (value = this.add(hVal, parseFloat(this.step.toString()), false));\r\n        }\r\n        else if ((args.keyCode === 38) || (args.keyCode === 39) ||\r\n            args.currentTarget.classList.contains(classNames.secondButton)) {\r\n            // eslint-disable-next-line\r\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), false)) :\r\n                (value = this.add(hVal, parseFloat(this.step.toString()), true));\r\n        }\r\n        else if ((args.keyCode === 33\r\n            || args.currentTarget.classList.contains(classNames.firstButton))) {\r\n            // eslint-disable-next-line\r\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), false)) :\r\n                (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), true));\r\n        }\r\n        else if ((args.keyCode === 34) ||\r\n            args.currentTarget.classList.contains(classNames.secondButton)) {\r\n            // eslint-disable-next-line\r\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), true)) :\r\n                (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), false));\r\n        }\r\n        else if ((args.keyCode === 36)) {\r\n            value = parseFloat(this.min.toString());\r\n        }\r\n        else if ((args.keyCode === 35)) {\r\n            value = parseFloat(this.max.toString());\r\n        }\r\n        if (this.limits.enabled) {\r\n            value = this.getLimitCorrectedValues(value);\r\n        }\r\n        this.changeHandleValue(value);\r\n        if (this.isMaterial && !this.tooltip.isVisible &&\r\n            !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\r\n            this.materialChange();\r\n        }\r\n        this.tooltipToggle(this.getHandle());\r\n        this.getHandle().focus();\r\n        this.focusHandle();\r\n        if (args.currentTarget.classList.contains(classNames.firstButton)) {\r\n            EventHandler.add(this.firstBtn, 'mouseup touchend', this.buttonUp, this);\r\n        }\r\n        if (args.currentTarget.classList.contains(classNames.secondButton)) {\r\n            EventHandler.add(this.secondBtn, 'mouseup touchend', this.buttonUp, this);\r\n        }\r\n    };\r\n    Slider.prototype.tooltipToggle = function (target) {\r\n        if (this.isMaterialTooltip) {\r\n            // eslint-disable-next-line\r\n            !this.tooltipElement.classList.contains(classNames.materialTooltipOpen) ?\r\n                this.openMaterialTooltip() : this.refreshTooltip(this.firstHandle);\r\n        }\r\n        else {\r\n            // eslint-disable-next-line\r\n            !this.tooltipElement ? this.openTooltip(target) : this.refreshTooltip(target);\r\n        }\r\n    };\r\n    Slider.prototype.buttonUp = function (args) {\r\n        if (args.currentTarget.classList.contains(classNames.firstButton)) {\r\n            EventHandler.remove(this.firstBtn, 'mouseup touchend', this.buttonUp);\r\n        }\r\n        if (args.currentTarget.classList.contains(classNames.secondButton)) {\r\n            EventHandler.remove(this.secondBtn, 'mouseup touchend', this.buttonUp);\r\n        }\r\n    };\r\n    Slider.prototype.setRangeBar = function () {\r\n        if (this.orientation === 'Horizontal') {\r\n            if (this.type === 'MinRange') {\r\n                // eslint-disable-next-line\r\n                this.enableRtl ? (this.rangeBar.style.right = '0px') : (this.rangeBar.style.left = '0px');\r\n                setStyleAttribute(this.rangeBar, { 'width': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\r\n            }\r\n            else {\r\n                // eslint-disable-next-line\r\n                this.enableRtl ? (this.rangeBar.style.right =\r\n                    this.handlePos1 + 'px') : (this.rangeBar.style.left = this.handlePos1 + 'px');\r\n                setStyleAttribute(this.rangeBar, { 'width': this.handlePos2 - this.handlePos1 + 'px' });\r\n            }\r\n        }\r\n        else {\r\n            if (this.type === 'MinRange') {\r\n                this.rangeBar.style.bottom = '0px';\r\n                setStyleAttribute(this.rangeBar, { 'height': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\r\n            }\r\n            else {\r\n                this.rangeBar.style.bottom = this.handlePos1 + 'px';\r\n                setStyleAttribute(this.rangeBar, { 'height': this.handlePos2 - this.handlePos1 + 'px' });\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.checkValidValueAndPos = function (value) {\r\n        value = this.checkHandleValue(value);\r\n        value = this.checkHandlePosition(value);\r\n        return value;\r\n    };\r\n    Slider.prototype.setLimitBarPositions = function (fromMinPostion, fromMaxpostion, toMinPostion, toMaxpostion) {\r\n        if (this.orientation === 'Horizontal') {\r\n            if (!this.enableRtl) {\r\n                this.limitBarFirst.style.left = fromMinPostion + 'px';\r\n                this.limitBarFirst.style.width = (fromMaxpostion - fromMinPostion) + 'px';\r\n            }\r\n            else {\r\n                this.limitBarFirst.style.right = fromMinPostion + 'px';\r\n                this.limitBarFirst.style.width = (fromMaxpostion - fromMinPostion) + 'px';\r\n            }\r\n        }\r\n        else {\r\n            this.limitBarFirst.style.bottom = fromMinPostion + 'px';\r\n            this.limitBarFirst.style.height = (fromMaxpostion - fromMinPostion) + 'px';\r\n        }\r\n        if (this.type === 'Range') {\r\n            if (this.orientation === 'Horizontal') {\r\n                if (!this.enableRtl) {\r\n                    this.limitBarSecond.style.left = toMinPostion + 'px';\r\n                    this.limitBarSecond.style.width = (toMaxpostion - toMinPostion) + 'px';\r\n                }\r\n                else {\r\n                    this.limitBarSecond.style.right = toMinPostion + 'px';\r\n                    this.limitBarSecond.style.width = (toMaxpostion - toMinPostion) + 'px';\r\n                }\r\n            }\r\n            else {\r\n                this.limitBarSecond.style.bottom = toMinPostion + 'px';\r\n                this.limitBarSecond.style.height = (toMaxpostion - toMinPostion) + 'px';\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.setLimitBar = function () {\r\n        if (this.type === 'Default' || this.type === 'MinRange') {\r\n            var fromPosition = (this.getLimitValueAndPosition(this.limits.minStart, this.limits.minStart, this.limits.minEnd, true))[0];\r\n            fromPosition = this.checkValidValueAndPos(fromPosition);\r\n            var toPosition = (this.getLimitValueAndPosition(this.limits.minEnd, this.limits.minStart, this.limits.minEnd, true))[0];\r\n            toPosition = this.checkValidValueAndPos(toPosition);\r\n            this.setLimitBarPositions(fromPosition, toPosition);\r\n        }\r\n        else if (this.type === 'Range') {\r\n            var fromMinPostion = (this.getLimitValueAndPosition(this.limits.minStart, this.limits.minStart, this.limits.minEnd, true))[0];\r\n            fromMinPostion = this.checkValidValueAndPos(fromMinPostion);\r\n            var fromMaxpostion = (this.getLimitValueAndPosition(this.limits.minEnd, this.limits.minStart, this.limits.minEnd, true))[0];\r\n            fromMaxpostion = this.checkValidValueAndPos(fromMaxpostion);\r\n            var toMinPostion = (this.getLimitValueAndPosition(this.limits.maxStart, this.limits.maxStart, this.limits.maxEnd, true))[0];\r\n            toMinPostion = this.checkValidValueAndPos(toMinPostion);\r\n            var toMaxpostion = (this.getLimitValueAndPosition(this.limits.maxEnd, this.limits.maxStart, this.limits.maxEnd, true))[0];\r\n            toMaxpostion = this.checkValidValueAndPos(toMaxpostion);\r\n            this.setLimitBarPositions(fromMinPostion, fromMaxpostion, toMinPostion, toMaxpostion);\r\n        }\r\n    };\r\n    Slider.prototype.getLimitValueAndPosition = function (currentValue, minValue, maxValue, limitBar) {\r\n        if (isNullOrUndefined(minValue)) {\r\n            minValue = this.min;\r\n            if (isNullOrUndefined(currentValue) && limitBar) {\r\n                currentValue = minValue;\r\n            }\r\n        }\r\n        if (isNullOrUndefined(maxValue)) {\r\n            maxValue = this.max;\r\n            if (isNullOrUndefined(currentValue) && limitBar) {\r\n                currentValue = maxValue;\r\n            }\r\n        }\r\n        if (currentValue < minValue) {\r\n            currentValue = minValue;\r\n        }\r\n        if (currentValue > maxValue) {\r\n            currentValue = maxValue;\r\n        }\r\n        return [currentValue, this.checkHandlePosition(currentValue)];\r\n    };\r\n    Slider.prototype.setValue = function () {\r\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\r\n            this.min = 0;\r\n            this.max = this.customValues.length - 1;\r\n            this.setBarColor();\r\n        }\r\n        this.setAriaAttributes(this.firstHandle);\r\n        this.handleVal1 = isNullOrUndefined(this.value) ? this.checkHandleValue(parseFloat(this.min.toString())) :\r\n            this.checkHandleValue(parseFloat(this.value.toString()));\r\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\r\n        this.preHandlePos1 = this.handlePos1;\r\n        // eslint-disable-next-line\r\n        isNullOrUndefined(this.activeHandle) ? (this.type === 'Range' ? this.activeHandle = 2 : this.activeHandle = 1) :\r\n            // eslint-disable-next-line no-self-assign\r\n            this.activeHandle = this.activeHandle;\r\n        if (this.type === 'Default' || this.type === 'MinRange') {\r\n            if (this.limits.enabled) {\r\n                var values = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\r\n                this.handleVal1 = values[0];\r\n                this.handlePos1 = values[1];\r\n                this.preHandlePos1 = this.handlePos1;\r\n            }\r\n            this.setHandlePosition(null);\r\n            this.handleStart();\r\n            this.value = this.handleVal1;\r\n            this.setAriaAttrValue(this.firstHandle);\r\n            this.changeEvent('changed', null);\r\n        }\r\n        else {\r\n            this.validateRangeValue();\r\n        }\r\n        if (this.type !== 'Default') {\r\n            this.setRangeBar();\r\n        }\r\n        if (this.limits.enabled) {\r\n            this.setLimitBar();\r\n        }\r\n    };\r\n    Slider.prototype.rangeValueUpdate = function () {\r\n        if (this.value === null || typeof (this.value) !== 'object') {\r\n            this.value = [parseFloat(formatUnit(this.min)), parseFloat(formatUnit(this.max))];\r\n        }\r\n    };\r\n    Slider.prototype.validateRangeValue = function () {\r\n        this.rangeValueUpdate();\r\n        this.setRangeValue();\r\n    };\r\n    Slider.prototype.modifyZindex = function () {\r\n        if (this.type === 'Range') {\r\n            if (this.activeHandle === 1) {\r\n                this.firstHandle.style.zIndex = (this.zIndex + 4) + '';\r\n                this.secondHandle.style.zIndex = (this.zIndex + 3) + '';\r\n            }\r\n            else {\r\n                this.firstHandle.style.zIndex = (this.zIndex + 3) + '';\r\n                this.secondHandle.style.zIndex = (this.zIndex + 4) + '';\r\n            }\r\n        }\r\n        else if (this.isMaterialTooltip && this.tooltipElement) {\r\n            this.tooltipElement.style.zIndex = getZindexPartial(this.element) + '';\r\n        }\r\n    };\r\n    Slider.prototype.setHandlePosition = function (event) {\r\n        var _this = this;\r\n        var handle;\r\n        var pos = (this.activeHandle === 1) ? this.handlePos1 : this.handlePos2;\r\n        if (this.isMaterialTooltip) {\r\n            handle = [this.firstHandle, this.materialHandle];\r\n        }\r\n        else {\r\n            handle = [this.getHandle()];\r\n        }\r\n        this.handleStart();\r\n        handle.forEach(function (handle) {\r\n            if (_this.orientation === 'Horizontal') {\r\n                // eslint-disable-next-line\r\n                _this.enableRtl ? (handle.style.right =\r\n                    pos + \"px\") : (handle.style.left = pos + \"px\");\r\n            }\r\n            else {\r\n                handle.style.bottom = pos + \"px\";\r\n            }\r\n        });\r\n        this.changeEvent('change', event);\r\n    };\r\n    Slider.prototype.getHandle = function () {\r\n        return (this.activeHandle === 1) ? this.firstHandle : this.secondHandle;\r\n    };\r\n    Slider.prototype.setRangeValue = function () {\r\n        this.updateRangeValue();\r\n        this.activeHandle = 1;\r\n        this.setHandlePosition(null);\r\n        this.activeHandle = 2;\r\n        this.setHandlePosition(null);\r\n        this.activeHandle = 1;\r\n    };\r\n    Slider.prototype.changeEvent = function (eventName, e) {\r\n        var previous = eventName === 'change' ? this.previousVal : this.previousChanged;\r\n        if (this.type !== 'Range') {\r\n            this.setProperties({ 'value': this.handleVal1 }, true);\r\n            if (previous !== this.value && (!this.isMaterialTooltip || !this.initialTooltip)) {\r\n                this.trigger(eventName, this.changeEventArgs(eventName, e));\r\n                this.initialTooltip = true;\r\n                this.setPreviousVal(eventName, this.value);\r\n            }\r\n            this.setAriaAttrValue(this.firstHandle);\r\n        }\r\n        else {\r\n            var value = this.value = [this.handleVal1, this.handleVal2];\r\n            this.setProperties({ 'value': value }, true);\r\n            if (previous.length === this.value.length\r\n                && this.value[0] !== previous[0] || this.value[1] !== previous[1]) {\r\n                this.initialTooltip = false;\r\n                this.trigger(eventName, this.changeEventArgs(eventName, e));\r\n                this.initialTooltip = true;\r\n                this.setPreviousVal(eventName, this.value);\r\n            }\r\n            this.setAriaAttrValue(this.getHandle());\r\n        }\r\n        this.hiddenInput.value = this.value.toString();\r\n    };\r\n    Slider.prototype.changeEventArgs = function (eventName, e) {\r\n        var eventArgs;\r\n        if (this.tooltip.isVisible && this.tooltipObj && this.initialTooltip) {\r\n            this.tooltipValue();\r\n            eventArgs = {\r\n                value: this.value,\r\n                previousValue: eventName === 'change' ? this.previousVal : this.previousChanged,\r\n                action: eventName, text: this.tooltipObj.content, isInteracted: isNullOrUndefined(e) ? false : true\r\n            };\r\n        }\r\n        else {\r\n            eventArgs = {\r\n                value: this.value,\r\n                previousValue: eventName === 'change' ? this.previousVal : this.previousChanged,\r\n                action: eventName, text: isNullOrUndefined(this.ticksFormatInfo.format) ? this.value.toString() :\r\n                    (this.type !== 'Range' ? this.formatString(this.value, this.ticksFormatInfo).formatString :\r\n                        (this.formatString(this.value[0], this.ticksFormatInfo).formatString + ' - ' +\r\n                            this.formatString(this.value[1], this.ticksFormatInfo).formatString)),\r\n                isInteracted: isNullOrUndefined(e) ? false : true\r\n            };\r\n        }\r\n        return eventArgs;\r\n    };\r\n    Slider.prototype.setPreviousVal = function (eventName, value) {\r\n        if (eventName === 'change') {\r\n            this.previousVal = value;\r\n        }\r\n        else {\r\n            this.previousChanged = value;\r\n        }\r\n    };\r\n    Slider.prototype.updateRangeValue = function () {\r\n        var values = this.value.toString().split(',').map(Number);\r\n        if ((this.enableRtl && this.orientation !== 'Vertical') || this.rtl) {\r\n            this.value = [values[1], values[0]];\r\n        }\r\n        else {\r\n            this.value = [values[0], values[1]];\r\n        }\r\n        if (this.enableRtl && this.orientation !== 'Vertical') {\r\n            this.handleVal1 = this.checkHandleValue(this.value[1]);\r\n            this.handleVal2 = this.checkHandleValue(this.value[0]);\r\n        }\r\n        else {\r\n            this.handleVal1 = this.checkHandleValue(this.value[0]);\r\n            this.handleVal2 = this.checkHandleValue(this.value[1]);\r\n        }\r\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\r\n        this.handlePos2 = this.checkHandlePosition(this.handleVal2);\r\n        if (this.handlePos1 > this.handlePos2) {\r\n            this.handlePos1 = this.handlePos2;\r\n            this.handleVal1 = this.handleVal2;\r\n        }\r\n        this.preHandlePos1 = this.handlePos1;\r\n        this.preHandlePos2 = this.handlePos2;\r\n        if (this.limits.enabled) {\r\n            this.activeHandle = 1;\r\n            var values_1 = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\r\n            this.handleVal1 = values_1[0];\r\n            this.handlePos1 = values_1[1];\r\n            this.preHandlePos1 = this.handlePos1;\r\n            this.activeHandle = 2;\r\n            values_1 = this.getLimitValueAndPosition(this.handleVal2, this.limits.maxStart, this.limits.maxEnd);\r\n            this.handleVal2 = values_1[0];\r\n            this.handlePos2 = values_1[1];\r\n            this.preHandlePos2 = this.handlePos2;\r\n        }\r\n    };\r\n    Slider.prototype.checkHandlePosition = function (value) {\r\n        var pos;\r\n        value = (100 *\r\n            (value - (parseFloat(formatUnit(this.min))))) / ((parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min))));\r\n        if (this.orientation === 'Horizontal') {\r\n            pos = this.element.getBoundingClientRect().width * (value / 100);\r\n        }\r\n        else {\r\n            pos = this.element.getBoundingClientRect().height * (value / 100);\r\n        }\r\n        if (((parseFloat(formatUnit(this.max))) === (parseFloat(formatUnit(this.min))))) {\r\n            if (this.orientation === 'Horizontal') {\r\n                pos = this.element.getBoundingClientRect().width;\r\n            }\r\n            else {\r\n                pos = this.element.getBoundingClientRect().height;\r\n            }\r\n        }\r\n        return pos;\r\n    };\r\n    Slider.prototype.checkHandleValue = function (value) {\r\n        if (this.min > this.max) {\r\n            this.min = this.max;\r\n        }\r\n        if (this.min === this.max) {\r\n            return (parseFloat(formatUnit(this.max)));\r\n        }\r\n        var handle = this.tempStartEnd();\r\n        if (value < handle.start) {\r\n            value = handle.start;\r\n        }\r\n        else if (value > handle.end) {\r\n            value = handle.end;\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * It is used to reposition slider.\r\n     * @returns void\r\n     */\r\n    Slider.prototype.reposition = function () {\r\n        var _this = this;\r\n        this.firstHandle.style.transition = 'none';\r\n        if (this.type !== 'Default') {\r\n            this.rangeBar.style.transition = 'none';\r\n        }\r\n        if (this.type === 'Range') {\r\n            this.secondHandle.style.transition = 'none';\r\n        }\r\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\r\n        if (this.handleVal2) {\r\n            this.handlePos2 = this.checkHandlePosition(this.handleVal2);\r\n        }\r\n        if (this.orientation === 'Horizontal') {\r\n            // eslint-disable-next-line\r\n            this.enableRtl ? this.firstHandle.style.right =\r\n                this.handlePos1 + \"px\" : this.firstHandle.style.left = this.handlePos1 + \"px\";\r\n            if (this.isMaterialTooltip) {\r\n                // eslint-disable-next-line\r\n                this.enableRtl ? this.materialHandle.style.right =\r\n                    this.handlePos1 + \"px\" : this.materialHandle.style.left = this.handlePos1 + \"px\";\r\n            }\r\n            if (this.type === 'MinRange') {\r\n                // eslint-disable-next-line\r\n                this.enableRtl ? (this.rangeBar.style.right = '0px') : (this.rangeBar.style.left = '0px');\r\n                setStyleAttribute(this.rangeBar, { 'width': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\r\n            }\r\n            else if (this.type === 'Range') {\r\n                // eslint-disable-next-line\r\n                this.enableRtl ? this.secondHandle.style.right =\r\n                    this.handlePos2 + \"px\" : this.secondHandle.style.left = this.handlePos2 + \"px\";\r\n                // eslint-disable-next-line\r\n                this.enableRtl ? (this.rangeBar.style.right =\r\n                    this.handlePos1 + 'px') : (this.rangeBar.style.left = this.handlePos1 + 'px');\r\n                setStyleAttribute(this.rangeBar, { 'width': this.handlePos2 - this.handlePos1 + 'px' });\r\n            }\r\n        }\r\n        else {\r\n            this.firstHandle.style.bottom = this.handlePos1 + \"px\";\r\n            if (this.isMaterialTooltip) {\r\n                this.materialHandle.style.bottom = this.handlePos1 + \"px\";\r\n            }\r\n            if (this.type === 'MinRange') {\r\n                this.rangeBar.style.bottom = '0px';\r\n                setStyleAttribute(this.rangeBar, { 'height': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\r\n            }\r\n            else if (this.type === 'Range') {\r\n                this.secondHandle.style.bottom = this.handlePos2 + \"px\";\r\n                this.rangeBar.style.bottom = this.handlePos1 + 'px';\r\n                setStyleAttribute(this.rangeBar, { 'height': this.handlePos2 - this.handlePos1 + 'px' });\r\n            }\r\n        }\r\n        if (this.limits.enabled) {\r\n            this.setLimitBar();\r\n        }\r\n        if (this.ticks.placement !== 'None' && this.ul) {\r\n            this.removeElement(this.ul);\r\n            this.ul = undefined;\r\n            this.renderScale();\r\n        }\r\n        this.handleStart();\r\n        if (!this.tooltip.isVisible) {\r\n            setTimeout(function () {\r\n                _this.firstHandle.style.transition = _this.scaleTransform;\r\n                if (_this.type === 'Range') {\r\n                    _this.secondHandle.style.transition = _this.scaleTransform;\r\n                }\r\n            });\r\n        }\r\n        this.refreshTooltip(this.tooltipTarget);\r\n        this.setBarColor();\r\n    };\r\n    Slider.prototype.changeHandleValue = function (value) {\r\n        var position = null;\r\n        if (this.activeHandle === 1) {\r\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\r\n                this.handleVal1 = this.checkHandleValue(value);\r\n                this.handlePos1 = this.checkHandlePosition(this.handleVal1);\r\n                if (this.type === 'Range' && this.handlePos1 > this.handlePos2) {\r\n                    this.handlePos1 = this.handlePos2;\r\n                    this.handleVal1 = this.handleVal2;\r\n                }\r\n                if (this.handlePos1 !== this.preHandlePos1) {\r\n                    position = this.preHandlePos1 = this.handlePos1;\r\n                }\r\n            }\r\n            this.modifyZindex();\r\n        }\r\n        else {\r\n            if (!(this.limits.enabled && this.limits.endHandleFixed)) {\r\n                this.handleVal2 = this.checkHandleValue(value);\r\n                this.handlePos2 = this.checkHandlePosition(this.handleVal2);\r\n                if (this.type === 'Range' && this.handlePos2 < this.handlePos1) {\r\n                    this.handlePos2 = this.handlePos1;\r\n                    this.handleVal2 = this.handleVal1;\r\n                }\r\n                if (this.handlePos2 !== this.preHandlePos2) {\r\n                    position = this.preHandlePos2 = this.handlePos2;\r\n                }\r\n            }\r\n            this.modifyZindex();\r\n        }\r\n        if (position !== null) {\r\n            if (this.type !== 'Default') {\r\n                this.setRangeBar();\r\n            }\r\n            this.setHandlePosition(null);\r\n        }\r\n    };\r\n    // eslint-disable-next-line\r\n    Slider.prototype.tempStartEnd = function () {\r\n        if (this.min > this.max) {\r\n            return {\r\n                start: this.max,\r\n                end: this.min\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                start: this.min,\r\n                end: this.max\r\n            };\r\n        }\r\n    };\r\n    // eslint-disable-next-line\r\n    Slider.prototype.xyToPosition = function (position) {\r\n        var pos;\r\n        if (this.min === this.max) {\r\n            return 100;\r\n        }\r\n        if (this.orientation === 'Horizontal') {\r\n            var left = position.x - this.element.getBoundingClientRect().left;\r\n            var num = this.element.offsetWidth / 100;\r\n            this.val = (left / num);\r\n        }\r\n        else {\r\n            var top_1 = position.y - this.element.getBoundingClientRect().top;\r\n            var num = this.element.offsetHeight / 100;\r\n            this.val = 100 - (top_1 / num);\r\n        }\r\n        var val = this.stepValueCalculation(this.val);\r\n        if (val < 0) {\r\n            val = 0;\r\n        }\r\n        else if (val > 100) {\r\n            val = 100;\r\n        }\r\n        if (this.enableRtl && this.orientation !== 'Vertical') {\r\n            val = 100 - val;\r\n        }\r\n        if (this.orientation === 'Horizontal') {\r\n            pos = this.element.getBoundingClientRect().width * (val / 100);\r\n        }\r\n        else {\r\n            pos = this.element.getBoundingClientRect().height * (val / 100);\r\n        }\r\n        return pos;\r\n    };\r\n    Slider.prototype.stepValueCalculation = function (value) {\r\n        if (this.step === 0) {\r\n            this.step = 1;\r\n        }\r\n        var percentStep = (parseFloat(formatUnit(this.step))) / ((parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min))) / 100);\r\n        var remain = value % Math.abs(percentStep);\r\n        if (remain !== 0) {\r\n            if ((percentStep / 2) > remain) {\r\n                value -= remain;\r\n            }\r\n            else {\r\n                value += Math.abs(percentStep) - remain;\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    Slider.prototype.add = function (a, b, addition) {\r\n        var precision;\r\n        var x = Math.pow(10, precision || 3);\r\n        var val;\r\n        if (addition) {\r\n            val = (Math.round(a * x) + Math.round(b * x)) / x;\r\n        }\r\n        else {\r\n            val = (Math.round(a * x) - Math.round(b * x)) / x;\r\n        }\r\n        return val;\r\n    };\r\n    Slider.prototype.positionToValue = function (pos) {\r\n        var val;\r\n        var diff = parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min));\r\n        if (this.orientation === 'Horizontal') {\r\n            val = (pos / this.element.getBoundingClientRect().width) * diff;\r\n        }\r\n        else {\r\n            val = (pos / this.element.getBoundingClientRect().height) * diff;\r\n        }\r\n        var total = this.add(val, parseFloat(this.min.toString()), true);\r\n        return (total);\r\n    };\r\n    Slider.prototype.sliderBarClick = function (evt) {\r\n        evt.preventDefault();\r\n        // eslint-disable-next-line\r\n        var pos;\r\n        if (evt.type === 'mousedown' || evt.type === 'mouseup' || evt.type === 'click') {\r\n            pos = { x: evt.clientX, y: evt.clientY };\r\n        }\r\n        else if (evt.type === 'touchend' || evt.type === 'touchstart') {\r\n            pos = { x: evt.changedTouches[0].clientX, y: evt.changedTouches[0].clientY };\r\n        }\r\n        var handlepos = this.xyToPosition(pos);\r\n        var handleVal = this.positionToValue(handlepos);\r\n        if (this.type === 'Range' && (this.handlePos2 - handlepos) < (handlepos - this.handlePos1)) {\r\n            this.activeHandle = 2;\r\n            if (!(this.limits.enabled && this.limits.endHandleFixed)) {\r\n                if (this.limits.enabled) {\r\n                    var value = this.getLimitValueAndPosition(handleVal, this.limits.maxStart, this.limits.maxEnd);\r\n                    handleVal = value[0];\r\n                    handlepos = value[1];\r\n                }\r\n                this.secondHandle.classList.add(classNames.sliderActiveHandle);\r\n                this.handlePos2 = this.preHandlePos2 = handlepos;\r\n                this.handleVal2 = handleVal;\r\n            }\r\n            this.modifyZindex();\r\n            this.secondHandle.focus();\r\n        }\r\n        else {\r\n            this.activeHandle = 1;\r\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\r\n                if (this.limits.enabled) {\r\n                    var value = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\r\n                    handleVal = value[0];\r\n                    handlepos = value[1];\r\n                }\r\n                this.firstHandle.classList.add(classNames.sliderActiveHandle);\r\n                this.handlePos1 = this.preHandlePos1 = handlepos;\r\n                this.handleVal1 = handleVal;\r\n            }\r\n            this.modifyZindex();\r\n            this.firstHandle.focus();\r\n        }\r\n        if (this.isMaterialTooltip) {\r\n            this.tooltipElement.classList.add(classNames.materialTooltipActive);\r\n        }\r\n        var focusedElement = this.element.querySelector('.' + classNames.sliderTabHandle);\r\n        if (focusedElement && this.getHandle() !== focusedElement) {\r\n            focusedElement.classList.remove(classNames.sliderTabHandle);\r\n        }\r\n        var handle = this.activeHandle === 1 ? this.firstHandle : this.secondHandle;\r\n        if (evt.target === handle) {\r\n            if (this.isMaterial && !this.tooltip.isVisible &&\r\n                !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\r\n                this.materialChange();\r\n            }\r\n            this.sliderBarUp(evt);\r\n            this.tooltipToggle(this.getHandle());\r\n            return;\r\n        }\r\n        if (!this.checkRepeatedValue(handleVal)) {\r\n            return;\r\n        }\r\n        var transition = this.isMaterial && this.tooltip.isVisible ?\r\n            this.transitionOnMaterialTooltip : this.transition;\r\n        this.getHandle().style.transition = transition.handle;\r\n        if (this.type !== 'Default') {\r\n            this.rangeBar.style.transition = transition.rangeBar;\r\n        }\r\n        this.setHandlePosition(evt);\r\n        if (this.isMaterialTooltip) {\r\n            this.initialTooltip = false;\r\n        }\r\n        this.changeEvent('changed', evt);\r\n        if (this.type !== 'Default') {\r\n            this.setRangeBar();\r\n        }\r\n    };\r\n    Slider.prototype.handleValueAdjust = function (handleValue, assignValue, handleNumber) {\r\n        if (handleNumber === 1) {\r\n            this.handleVal1 = assignValue;\r\n            this.handleVal2 = this.handleVal1 + this.minDiff;\r\n        }\r\n        else if (handleNumber === 2) {\r\n            this.handleVal2 = assignValue;\r\n            this.handleVal1 = this.handleVal2 - this.minDiff;\r\n        }\r\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\r\n        this.handlePos2 = this.checkHandlePosition(this.handleVal2);\r\n    };\r\n    Slider.prototype.dragRangeBarMove = function (event) {\r\n        var _a, _b;\r\n        if (event.type !== 'touchmove') {\r\n            event.preventDefault();\r\n        }\r\n        this.rangeBarDragged = true;\r\n        var pos;\r\n        this.rangeBar.style.transition = 'none';\r\n        this.firstHandle.style.transition = 'none';\r\n        this.secondHandle.style.transition = 'none';\r\n        var xPostion;\r\n        var yPostion;\r\n        if (event.type === 'mousemove') {\r\n            _a = [event.clientX, event.clientY], xPostion = _a[0], yPostion = _a[1];\r\n        }\r\n        else {\r\n            _b = [event.changedTouches[0].clientX, event.changedTouches[0].clientY], xPostion = _b[0], yPostion = _b[1];\r\n        }\r\n        if (!(this.limits.enabled && this.limits.startHandleFixed) && !(this.limits.enabled && this.limits.endHandleFixed)) {\r\n            if (!this.enableRtl) {\r\n                pos = { x: xPostion - this.firstPartRemain, y: yPostion + this.secondPartRemain };\r\n            }\r\n            else {\r\n                pos = { x: xPostion + this.secondPartRemain, y: yPostion + this.secondPartRemain };\r\n            }\r\n            this.handlePos1 = this.xyToPosition(pos);\r\n            this.handleVal1 = this.positionToValue(this.handlePos1);\r\n            if (!this.enableRtl) {\r\n                pos = { x: xPostion + this.secondPartRemain, y: yPostion - this.firstPartRemain };\r\n            }\r\n            else {\r\n                pos = { x: xPostion - this.firstPartRemain, y: yPostion - this.firstPartRemain };\r\n            }\r\n            this.handlePos2 = this.xyToPosition(pos);\r\n            this.handleVal2 = this.positionToValue(this.handlePos2);\r\n            if (this.limits.enabled) {\r\n                var value = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\r\n                this.handleVal1 = value[0];\r\n                this.handlePos1 = value[1];\r\n                if (this.handleVal1 === this.limits.minEnd) {\r\n                    this.handleValueAdjust(this.handleVal1, this.limits.minEnd, 1);\r\n                }\r\n                if (this.handleVal1 === this.limits.minStart) {\r\n                    this.handleValueAdjust(this.handleVal1, this.limits.minStart, 1);\r\n                }\r\n                value = this.getLimitValueAndPosition(this.handleVal2, this.limits.maxStart, this.limits.maxEnd);\r\n                this.handleVal2 = value[0];\r\n                this.handlePos2 = value[1];\r\n                if (this.handleVal2 === this.limits.maxStart) {\r\n                    this.handleValueAdjust(this.handleVal2, this.limits.maxStart, 2);\r\n                }\r\n                if (this.handleVal2 === this.limits.maxEnd) {\r\n                    this.handleValueAdjust(this.handleVal2, this.limits.maxEnd, 2);\r\n                }\r\n            }\r\n            if (this.handleVal2 === this.max) {\r\n                this.handleValueAdjust(this.handleVal2, this.max, 2);\r\n            }\r\n            if (this.handleVal1 === this.min) {\r\n                this.handleValueAdjust(this.handleVal1, this.min, 1);\r\n            }\r\n        }\r\n        this.activeHandle = 1;\r\n        this.setHandlePosition(event);\r\n        this.activeHandle = 2;\r\n        this.setHandlePosition(event);\r\n        this.tooltipToggle(this.rangeBar);\r\n        this.setRangeBar();\r\n    };\r\n    Slider.prototype.sliderBarUp = function (event) {\r\n        this.changeEvent('changed', event);\r\n        this.handleFocusOut();\r\n        this.firstHandle.classList.remove(classNames.sliderActiveHandle);\r\n        if (this.type === 'Range') {\r\n            this.initialTooltip = false;\r\n            this.secondHandle.classList.remove(classNames.sliderActiveHandle);\r\n        }\r\n        this.closeTooltip();\r\n        if (this.isMaterial) {\r\n            this.getHandle().classList.remove('e-large-thumb-size');\r\n            if (this.isMaterialTooltip) {\r\n                this.tooltipElement.classList.remove(classNames.materialTooltipActive);\r\n            }\r\n        }\r\n        EventHandler.remove(document, 'mousemove touchmove', this.sliderBarMove);\r\n        EventHandler.remove(document, 'mouseup touchend', this.sliderBarUp);\r\n    };\r\n    Slider.prototype.sliderBarMove = function (evt) {\r\n        if (evt.type !== 'touchmove') {\r\n            evt.preventDefault();\r\n        }\r\n        var pos;\r\n        if (evt.type === 'mousemove') {\r\n            pos = { x: evt.clientX, y: evt.clientY };\r\n        }\r\n        else {\r\n            pos = { x: evt.changedTouches[0].clientX, y: evt.changedTouches[0].clientY };\r\n        }\r\n        var handlepos = this.xyToPosition(pos);\r\n        var handleVal = this.positionToValue(handlepos);\r\n        handlepos = Math.round(handlepos);\r\n        if (this.type !== 'Range' && this.activeHandle === 1) {\r\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\r\n                if (this.limits.enabled) {\r\n                    var valueAndPostion = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\r\n                    handlepos = valueAndPostion[1];\r\n                    handleVal = valueAndPostion[0];\r\n                }\r\n                this.handlePos1 = handlepos;\r\n                this.handleVal1 = handleVal;\r\n            }\r\n            this.firstHandle.classList.add(classNames.sliderActiveHandle);\r\n        }\r\n        if (this.type === 'Range') {\r\n            if (this.activeHandle === 1) {\r\n                this.firstHandle.classList.add(classNames.sliderActiveHandle);\r\n                if (!(this.limits.enabled && this.limits.startHandleFixed)) {\r\n                    if (handlepos > this.handlePos2) {\r\n                        handlepos = this.handlePos2;\r\n                        handleVal = this.handleVal2;\r\n                    }\r\n                    if (handlepos !== this.preHandlePos1) {\r\n                        if (this.limits.enabled) {\r\n                            var value = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\r\n                            handleVal = value[0];\r\n                            handlepos = value[1];\r\n                        }\r\n                        this.handlePos1 = this.preHandlePos1 = handlepos;\r\n                        this.handleVal1 = handleVal;\r\n                        this.activeHandle = 1;\r\n                    }\r\n                }\r\n            }\r\n            else if (this.activeHandle === 2) {\r\n                this.secondHandle.classList.add(classNames.sliderActiveHandle);\r\n                if (!(this.limits.enabled && this.limits.endHandleFixed)) {\r\n                    if (handlepos < this.handlePos1) {\r\n                        handlepos = this.handlePos1;\r\n                        handleVal = this.handleVal1;\r\n                    }\r\n                    if (handlepos !== this.preHandlePos2) {\r\n                        if (this.limits.enabled) {\r\n                            var value = this.getLimitValueAndPosition(handleVal, this.limits.maxStart, this.limits.maxEnd);\r\n                            handleVal = value[0];\r\n                            handlepos = value[1];\r\n                        }\r\n                        this.handlePos2 = this.preHandlePos2 = handlepos;\r\n                        this.handleVal2 = handleVal;\r\n                        this.activeHandle = 2;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (!this.checkRepeatedValue(handleVal)) {\r\n            return;\r\n        }\r\n        this.getHandle().style.transition = this.scaleTransform;\r\n        if (this.type !== 'Default') {\r\n            this.rangeBar.style.transition = 'none';\r\n        }\r\n        this.setHandlePosition(evt);\r\n        if (this.isMaterial && !this.tooltip.isVisible &&\r\n            !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\r\n            this.materialChange();\r\n        }\r\n        this.tooltipToggle(this.getHandle());\r\n        if (this.type !== 'Default') {\r\n            this.setRangeBar();\r\n        }\r\n    };\r\n    Slider.prototype.dragRangeBarUp = function (event) {\r\n        if (!this.rangeBarDragged) {\r\n            this.focusSliderElement();\r\n            this.sliderBarClick(event);\r\n        }\r\n        else {\r\n            this.isDragComplete = true;\r\n        }\r\n        this.changeEvent('changed', event);\r\n        this.closeTooltip();\r\n        EventHandler.remove(document, 'mousemove touchmove', this.dragRangeBarMove);\r\n        EventHandler.remove(document, 'mouseup touchend', this.dragRangeBarUp);\r\n        this.rangeBarDragged = false;\r\n    };\r\n    Slider.prototype.checkRepeatedValue = function (currentValue) {\r\n        if (this.type === 'Range') {\r\n            var previousVal = this.enableRtl && this.orientation !== 'Vertical' ? (this.activeHandle === 1 ?\r\n                this.previousVal[1] : this.previousVal[0]) :\r\n                (this.activeHandle === 1 ? this.previousVal[0] : this.previousVal[1]);\r\n            if (currentValue === previousVal) {\r\n                return 0;\r\n            }\r\n        }\r\n        else {\r\n            if (currentValue === this.previousVal) {\r\n                return 0;\r\n            }\r\n        }\r\n        return 1;\r\n    };\r\n    Slider.prototype.refreshTooltip = function (target) {\r\n        if (this.tooltip.isVisible && this.tooltipObj) {\r\n            this.tooltipValue();\r\n            if (target) {\r\n                this.tooltipObj.refresh(target);\r\n                this.tooltipTarget = target;\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.openTooltip = function (target) {\r\n        if (this.tooltip.isVisible && this.tooltipObj && !this.isMaterialTooltip) {\r\n            this.tooltipValue();\r\n            this.tooltipObj.open(target);\r\n            this.tooltipTarget = target;\r\n        }\r\n    };\r\n    Slider.prototype.closeTooltip = function () {\r\n        if (this.tooltip.isVisible && this.tooltipObj && this.tooltip.showOn !== 'Always' && !this.isMaterialTooltip) {\r\n            this.tooltipValue();\r\n            this.tooltipObj.close();\r\n            this.tooltipTarget = undefined;\r\n        }\r\n    };\r\n    Slider.prototype.keyDown = function (event) {\r\n        switch (event.keyCode) {\r\n            case 37:\r\n            case 38:\r\n            case 39:\r\n            case 40:\r\n            case 33:\r\n            case 34:\r\n            case 36:\r\n            case 35:\r\n                event.preventDefault();\r\n                this.buttonClick(event);\r\n                break;\r\n        }\r\n    };\r\n    Slider.prototype.wireButtonEvt = function (destroy) {\r\n        if (!destroy) {\r\n            EventHandler.add(this.firstBtn, 'mouseleave touchleave', this.buttonFocusOut, this);\r\n            EventHandler.add(this.secondBtn, 'mouseleave touchleave', this.buttonFocusOut, this);\r\n            EventHandler.add(this.firstBtn, 'mousedown touchstart', this.repeatHandlerMouse, this);\r\n            EventHandler.add(this.firstBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp, this);\r\n            EventHandler.add(this.secondBtn, 'mousedown touchstart', this.repeatHandlerMouse, this);\r\n            EventHandler.add(this.secondBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp, this);\r\n            EventHandler.add(this.firstBtn, 'focusout', this.sliderFocusOut, this);\r\n            EventHandler.add(this.secondBtn, 'focusout', this.sliderFocusOut, this);\r\n        }\r\n        else {\r\n            EventHandler.remove(this.firstBtn, 'mouseleave touchleave', this.buttonFocusOut);\r\n            EventHandler.remove(this.secondBtn, 'mouseleave touchleave', this.buttonFocusOut);\r\n            EventHandler.remove(this.firstBtn, 'mousedown touchstart', this.repeatHandlerMouse);\r\n            EventHandler.remove(this.firstBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp);\r\n            EventHandler.remove(this.secondBtn, 'mousedown touchstart', this.repeatHandlerMouse);\r\n            EventHandler.remove(this.secondBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp);\r\n            EventHandler.remove(this.firstBtn, 'focusout', this.sliderFocusOut);\r\n            EventHandler.remove(this.secondBtn, 'focusout', this.sliderFocusOut);\r\n        }\r\n    };\r\n    Slider.prototype.rangeBarMousedown = function (event) {\r\n        var _a, _b;\r\n        event.preventDefault();\r\n        this.focusSliderElement();\r\n        if (this.type === 'Range' && this.drag && event.target === this.rangeBar) {\r\n            var xPostion = void 0;\r\n            var yPostion = void 0;\r\n            if (event.type === 'mousedown') {\r\n                _a = [event.clientX, event.clientY], xPostion = _a[0], yPostion = _a[1];\r\n            }\r\n            else if (event.type === 'touchstart') {\r\n                _b = [event.changedTouches[0].clientX, event.changedTouches[0].clientY], xPostion = _b[0], yPostion = _b[1];\r\n            }\r\n            if (this.orientation === 'Horizontal') {\r\n                this.firstPartRemain = xPostion - this.rangeBar.getBoundingClientRect().left;\r\n                this.secondPartRemain = this.rangeBar.getBoundingClientRect().right - xPostion;\r\n            }\r\n            else {\r\n                this.firstPartRemain = yPostion - this.rangeBar.getBoundingClientRect().top;\r\n                this.secondPartRemain = this.rangeBar.getBoundingClientRect().bottom - yPostion;\r\n            }\r\n            this.minDiff = this.handleVal2 - this.handleVal1;\r\n            this.tooltipToggle(this.rangeBar);\r\n            var focusedElement = this.element.querySelector('.' + classNames.sliderTabHandle);\r\n            if (focusedElement) {\r\n                focusedElement.classList.remove(classNames.sliderTabHandle);\r\n            }\r\n            EventHandler.add(document, 'mousemove touchmove', this.dragRangeBarMove, this);\r\n            EventHandler.add(document, 'mouseup touchend', this.dragRangeBarUp, this);\r\n        }\r\n    };\r\n    Slider.prototype.elementClick = function (event) {\r\n        if (this.isDragComplete) {\r\n            this.isDragComplete = false;\r\n            return;\r\n        }\r\n        event.preventDefault();\r\n        this.focusSliderElement();\r\n        this.sliderBarClick(event);\r\n        this.focusHandle();\r\n    };\r\n    Slider.prototype.wireEvents = function () {\r\n        this.onresize = this.reposition.bind(this);\r\n        window.addEventListener('resize', this.onresize);\r\n        if (this.enabled && !this.readonly) {\r\n            EventHandler.add(this.element, 'click', this.elementClick, this);\r\n            if (this.type === 'Range' && this.drag) {\r\n                EventHandler.add(this.rangeBar, 'mousedown touchstart', this.rangeBarMousedown, this);\r\n            }\r\n            EventHandler.add(this.sliderContainer, 'keydown', this.keyDown, this);\r\n            EventHandler.add(this.sliderContainer, 'keyup', this.keyUp, this);\r\n            EventHandler.add(this.element, 'focusout', this.sliderFocusOut, this);\r\n            EventHandler.add(this.sliderContainer, 'mouseover mouseout touchstart touchend', this.hover, this);\r\n            this.wireFirstHandleEvt(false);\r\n            if (this.type === 'Range') {\r\n                this.wireSecondHandleEvt(false);\r\n            }\r\n            if (this.showButtons) {\r\n                this.wireButtonEvt(false);\r\n            }\r\n            this.wireMaterialTooltipEvent(false);\r\n            if (this.isForm) {\r\n                EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.unwireEvents = function () {\r\n        EventHandler.remove(this.element, 'click', this.elementClick);\r\n        if (this.type === 'Range' && this.drag) {\r\n            EventHandler.remove(this.rangeBar, 'mousedown touchstart', this.rangeBarMousedown);\r\n        }\r\n        EventHandler.remove(this.sliderContainer, 'keydown', this.keyDown);\r\n        EventHandler.remove(this.sliderContainer, 'keyup', this.keyUp);\r\n        EventHandler.remove(this.element, 'focusout', this.sliderFocusOut);\r\n        EventHandler.remove(this.sliderContainer, 'mouseover mouseout touchstart touchend', this.hover);\r\n        this.wireFirstHandleEvt(true);\r\n        if (this.type === 'Range') {\r\n            this.wireSecondHandleEvt(true);\r\n        }\r\n        if (this.showButtons) {\r\n            this.wireButtonEvt(true);\r\n        }\r\n        this.wireMaterialTooltipEvent(true);\r\n        EventHandler.remove(this.element, 'reset', this.formResetHandler);\r\n    };\r\n    Slider.prototype.formResetHandler = function () {\r\n        this.setProperties({ 'value': this.formResetValue }, true);\r\n        this.setValue();\r\n    };\r\n    Slider.prototype.keyUp = function (event) {\r\n        if (event.keyCode === 9 && event.target.classList.contains(classNames.sliderHandle)) {\r\n            this.focusSliderElement();\r\n            if (!event.target.classList.contains(classNames.sliderTabHandle)) {\r\n                if (this.element.querySelector('.' + classNames.sliderTabHandle)) {\r\n                    this.element.querySelector('.' + classNames.sliderTabHandle).classList.remove(classNames.sliderTabHandle);\r\n                }\r\n                event.target.classList.add(classNames.sliderTabHandle);\r\n                var parentElement = event.target.parentElement;\r\n                if (parentElement === this.element) {\r\n                    parentElement.querySelector('.' + classNames.sliderTrack).classList.add(classNames.sliderTabTrack);\r\n                    if (this.type === 'Range' || this.type === 'MinRange') {\r\n                        parentElement.querySelector('.' + classNames.rangeBar).classList.add(classNames.sliderTabRange);\r\n                    }\r\n                }\r\n                if (this.type === 'Range') {\r\n                    (event.target.previousSibling).classList.contains(classNames.sliderHandle) ?\r\n                        this.activeHandle = 2 : this.activeHandle = 1;\r\n                }\r\n                this.getHandle().focus();\r\n                this.tooltipToggle(this.getHandle());\r\n            }\r\n        }\r\n        this.closeTooltip();\r\n        this.changeEvent('changed', event);\r\n    };\r\n    Slider.prototype.hover = function (event) {\r\n        if (!isNullOrUndefined(event)) {\r\n            if (event.type === 'mouseover' || event.type === 'touchmove' || event.type === 'mousemove' ||\r\n                event.type === 'pointermove' || event.type === 'touchstart') {\r\n                this.sliderContainer.classList.add(classNames.sliderHover);\r\n            }\r\n            else {\r\n                this.sliderContainer.classList.remove(classNames.sliderHover);\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.sliderFocusOut = function (event) {\r\n        if (event.relatedTarget !== this.secondHandle && event.relatedTarget !== this.firstHandle &&\r\n            event.relatedTarget !== this.element && event.relatedTarget !== this.firstBtn && event.relatedTarget !== this.secondBtn) {\r\n            this.closeMaterialTooltip();\r\n            this.closeTooltip();\r\n            if (this.element.querySelector('.' + classNames.sliderTabHandle)) {\r\n                this.element.querySelector('.' + classNames.sliderTabHandle).classList.remove(classNames.sliderTabHandle);\r\n            }\r\n            if (this.element.querySelector('.' + classNames.sliderTabTrack)) {\r\n                this.element.querySelector('.' + classNames.sliderTabTrack).classList.remove(classNames.sliderTabTrack);\r\n                if ((this.type === 'Range' || this.type === 'MinRange') &&\r\n                    this.element.querySelector('.' + classNames.sliderTabRange)) {\r\n                    this.element.querySelector('.' + classNames.sliderTabRange).classList.remove(classNames.sliderTabRange);\r\n                }\r\n            }\r\n            this.hiddenInput.focus();\r\n            this.hiddenInput.blur();\r\n            this.isElementFocused = false;\r\n        }\r\n    };\r\n    Slider.prototype.removeElement = function (element) {\r\n        if (element.parentNode) {\r\n            element.parentNode.removeChild(element);\r\n        }\r\n    };\r\n    Slider.prototype.changeSliderType = function (type, args) {\r\n        if (this.isMaterialTooltip && this.materialHandle) {\r\n            this.sliderContainer.classList.remove(classNames.materialSlider);\r\n            this.removeElement(this.materialHandle);\r\n            this.materialHandle = undefined;\r\n        }\r\n        this.removeElement(this.firstHandle);\r\n        this.firstHandle = undefined;\r\n        if (type !== 'Default') {\r\n            if (type === 'Range') {\r\n                this.removeElement(this.secondHandle);\r\n                this.secondHandle = undefined;\r\n            }\r\n            this.removeElement(this.rangeBar);\r\n            this.rangeBar = undefined;\r\n        }\r\n        if (this.tooltip.isVisible && !isNullOrUndefined(this.tooltipObj)) {\r\n            this.tooltipObj.destroy();\r\n            this.tooltipElement = undefined;\r\n            this.tooltipCollidedPosition = undefined;\r\n        }\r\n        if (this.limits.enabled) {\r\n            if (type === 'MinRange' || type === 'Default') {\r\n                if (!isNullOrUndefined(this.limitBarFirst)) {\r\n                    this.removeElement(this.limitBarFirst);\r\n                    this.limitBarFirst = undefined;\r\n                }\r\n            }\r\n            else {\r\n                if (!isNullOrUndefined(this.limitBarSecond)) {\r\n                    this.removeElement(this.limitBarSecond);\r\n                    this.limitBarSecond = undefined;\r\n                }\r\n            }\r\n        }\r\n        this.activeHandle = 1;\r\n        this.getThemeInitialization();\r\n        if (this.type === 'Range') {\r\n            this.rangeValueUpdate();\r\n        }\r\n        this.createRangeBar();\r\n        if (this.limits.enabled) {\r\n            this.createLimitBar();\r\n        }\r\n        this.setHandler();\r\n        this.setOrientClass();\r\n        this.wireFirstHandleEvt(false);\r\n        if (this.type === 'Range') {\r\n            this.wireSecondHandleEvt(false);\r\n        }\r\n        this.setValue();\r\n        if (this.tooltip.isVisible) {\r\n            this.renderTooltip();\r\n            this.wireMaterialTooltipEvent(false);\r\n        }\r\n        this.setBarColor();\r\n        if (args !== 'tooltip') {\r\n            this.updateConfig();\r\n        }\r\n    };\r\n    Slider.prototype.changeRtl = function () {\r\n        if (!this.enableRtl && this.type === 'Range') {\r\n            this.value = [this.handleVal2, this.handleVal1];\r\n        }\r\n        this.updateConfig();\r\n        if (this.tooltip.isVisible) {\r\n            this.tooltipObj.refresh(this.firstHandle);\r\n        }\r\n        if (this.showButtons) {\r\n            var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\r\n            attributes(enabledRTL ? this.secondBtn : this.firstBtn, { 'aria-label': 'Decrease', title: 'Decrease' });\r\n            attributes(enabledRTL ? this.firstBtn : this.secondBtn, { 'aria-label': 'Increase', title: 'Increase' });\r\n        }\r\n    };\r\n    Slider.prototype.changeOrientation = function () {\r\n        this.changeSliderType(this.type, 'null');\r\n    };\r\n    Slider.prototype.updateConfig = function () {\r\n        this.setEnableRTL();\r\n        this.setValue();\r\n        if (this.tooltip.isVisible) {\r\n            this.refreshTooltip(this.tooltipTarget);\r\n        }\r\n        if (this.ticks.placement !== 'None') {\r\n            if (this.ul) {\r\n                this.removeElement(this.ul);\r\n                this.ul = undefined;\r\n                this.renderScale();\r\n            }\r\n        }\r\n        this.limitsPropertyChange();\r\n    };\r\n    Slider.prototype.limitsPropertyChange = function () {\r\n        if (this.limits.enabled) {\r\n            if (isNullOrUndefined(this.limitBarFirst) && this.type !== 'Range') {\r\n                this.createLimitBar();\r\n            }\r\n            if (isNullOrUndefined(this.limitBarFirst) && isNullOrUndefined(this.limitBarSecond) && this.type === 'Range') {\r\n                this.createLimitBar();\r\n            }\r\n            this.setLimitBar();\r\n            this.setValue();\r\n        }\r\n        else {\r\n            if (!isNullOrUndefined(this.limitBarFirst)) {\r\n                detach(this.limitBarFirst);\r\n            }\r\n            if (!isNullOrUndefined(this.limitBarSecond)) {\r\n                detach(this.limitBarSecond);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Get the properties to be maintained in the persisted state.\r\n     * @private\r\n     */\r\n    Slider.prototype.getPersistData = function () {\r\n        var keyEntity = ['value'];\r\n        return this.addOnPersist(keyEntity);\r\n    };\r\n    /**\r\n     * Removes the component from the DOM and detaches all its related event handlers.\r\n     * Also it removes the attributes and classes.\r\n     * @method destroy\r\n     * @return {void}\r\n     */\r\n    Slider.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.unwireEvents();\r\n        window.removeEventListener('resize', this.onresize);\r\n        removeClass([this.sliderContainer], [classNames.sliderDisabled]);\r\n        this.firstHandle.removeAttribute('aria-orientation');\r\n        if (this.type === 'Range') {\r\n            this.secondHandle.removeAttribute('aria-orientation');\r\n        }\r\n        this.sliderContainer.parentNode.insertBefore(this.element, this.sliderContainer);\r\n        detach(this.sliderContainer);\r\n        if (this.tooltip.isVisible) {\r\n            this.tooltipObj.destroy();\r\n        }\r\n        this.element.innerHTML = '';\r\n    };\r\n    /**\r\n     * Calls internally if any of the property value is changed.\r\n     * @private\r\n     */\r\n    // tslint:disable-next-line\r\n    Slider.prototype.onPropertyChanged = function (newProp, oldProp) {\r\n        var _this = this;\r\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\r\n            var prop = _a[_i];\r\n            switch (prop) {\r\n                case 'cssClass':\r\n                    this.setCSSClass(oldProp.cssClass);\r\n                    break;\r\n                case 'value':\r\n                    if (newProp && oldProp) {\r\n                        var value = isNullOrUndefined(newProp.value) ?\r\n                            (this.type === 'Range' ? [this.min, this.max] : this.min) : newProp.value;\r\n                        this.setProperties({ 'value': value }, true);\r\n                        if (!isNullOrUndefined(oldProp.value) && oldProp.value.toString() !== value.toString()) {\r\n                            this.setValue();\r\n                            this.refreshTooltip(this.tooltipTarget);\r\n                            if (this.type === 'Range') {\r\n                                if (isNullOrUndefined(newProp.value) || oldProp.value[1] === value[1]) {\r\n                                    this.activeHandle = 1;\r\n                                }\r\n                                else {\r\n                                    this.activeHandle = 2;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'min':\r\n                case 'step':\r\n                case 'max':\r\n                    this.setMinMaxValue();\r\n                    break;\r\n                case 'tooltip':\r\n                    if (!isNullOrUndefined(newProp.tooltip) && !isNullOrUndefined(oldProp.tooltip)) {\r\n                        this.setTooltip(prop);\r\n                    }\r\n                    break;\r\n                case 'type':\r\n                    if (!isNullOrUndefined(oldProp) && Object.keys(oldProp).length\r\n                        && !isNullOrUndefined(oldProp.type)) {\r\n                        this.changeSliderType(oldProp.type, prop);\r\n                        this.setZindex();\r\n                    }\r\n                    break;\r\n                case 'enableRtl':\r\n                    if (oldProp.enableRtl !== newProp.enableRtl && this.orientation !== 'Vertical') {\r\n                        this.rtl = oldProp.enableRtl;\r\n                        this.changeRtl();\r\n                    }\r\n                    break;\r\n                case 'limits':\r\n                    this.limitsPropertyChange();\r\n                    break;\r\n                case 'orientation':\r\n                    this.changeOrientation();\r\n                    break;\r\n                case 'ticks':\r\n                    if (!isNullOrUndefined(this.sliderContainer.querySelector('.' + classNames.scale))) {\r\n                        detach(this.ul);\r\n                        Array.prototype.forEach.call(this.sliderContainer.classList, function (className) {\r\n                            if (className.match(/e-scale-/)) {\r\n                                _this.sliderContainer.classList.remove(className);\r\n                            }\r\n                        });\r\n                    }\r\n                    if (this.ticks.placement !== 'None') {\r\n                        this.renderScale();\r\n                        this.setZindex();\r\n                    }\r\n                    break;\r\n                case 'locale':\r\n                    if (this.showButtons) {\r\n                        this.buttonTitle();\r\n                    }\r\n                    break;\r\n                case 'showButtons':\r\n                    if (newProp.showButtons) {\r\n                        this.setButtons();\r\n                        this.reposition();\r\n                        if (this.enabled && !this.readonly) {\r\n                            this.wireButtonEvt(false);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (this.firstBtn && this.secondBtn) {\r\n                            this.sliderContainer.removeChild(this.firstBtn);\r\n                            this.sliderContainer.removeChild(this.secondBtn);\r\n                            this.sliderContainer.classList.remove(classNames.sliderButtonClass);\r\n                            this.firstBtn = undefined;\r\n                            this.secondBtn = undefined;\r\n                            this.reposition();\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'enabled':\r\n                    this.setEnabled();\r\n                    break;\r\n                case 'readonly':\r\n                    this.setReadOnly();\r\n                    break;\r\n                case 'customValues':\r\n                    this.setValue();\r\n                    this.reposition();\r\n                    break;\r\n                case 'colorRange':\r\n                    this.reposition();\r\n                    break;\r\n                case 'width':\r\n                    this.setElementWidth(newProp.width);\r\n                    this.setMinMaxValue();\r\n                    if (this.limits) {\r\n                        this.limitsPropertyChange();\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    Slider.prototype.setReadOnly = function () {\r\n        if (this.readonly) {\r\n            this.unwireEvents();\r\n            this.sliderContainer.classList.add(classNames.readonly);\r\n        }\r\n        else {\r\n            this.wireEvents();\r\n            this.sliderContainer.classList.remove(classNames.readonly);\r\n        }\r\n    };\r\n    Slider.prototype.setMinMaxValue = function () {\r\n        var _this = this;\r\n        this.setValue();\r\n        this.refreshTooltip(this.tooltipTarget);\r\n        if (!isNullOrUndefined(this.sliderContainer.querySelector('.' + classNames.scale))) {\r\n            if (this.ul) {\r\n                detach(this.ul);\r\n                Array.prototype.forEach.call(this.sliderContainer.classList, function (className) {\r\n                    if (className.match(/e-scale-/)) {\r\n                        _this.sliderContainer.classList.remove(className);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        if (this.ticks.placement !== 'None') {\r\n            this.renderScale();\r\n            this.setZindex();\r\n        }\r\n    };\r\n    Slider.prototype.setZindex = function () {\r\n        this.zIndex = 6;\r\n        if (!isNullOrUndefined(this.ticks) && this.ticks.placement !== 'None') {\r\n            this.ul.style.zIndex = (this.zIndex + -7) + '';\r\n            this.element.style.zIndex = (this.zIndex + 2) + '';\r\n        }\r\n        if (!this.isMaterial && !isNullOrUndefined(this.ticks) && this.ticks.placement === 'Both') {\r\n            this.element.style.zIndex = (this.zIndex + 2) + '';\r\n        }\r\n        this.firstHandle.style.zIndex = (this.zIndex + 3) + '';\r\n        if (this.type === 'Range') {\r\n            this.secondHandle.style.zIndex = (this.zIndex + 4) + '';\r\n        }\r\n    };\r\n    Slider.prototype.setTooltip = function (args) {\r\n        this.changeSliderType(this.type, args);\r\n    };\r\n    Slider.prototype.setBarColor = function () {\r\n        var trackPosition;\r\n        var trackClassName;\r\n        var child = this.sliderTrack.lastElementChild;\r\n        while (child) {\r\n            this.sliderTrack.removeChild(child);\r\n            child = this.sliderTrack.lastElementChild;\r\n        }\r\n        for (var i = 0; i < this.colorRange.length; i++) {\r\n            if (!isNullOrUndefined(this.colorRange[i].start) && !isNullOrUndefined(this.colorRange[i].end)) {\r\n                if (this.colorRange[i].end > this.colorRange[i].start) {\r\n                    if (this.colorRange[i].start < this.min) {\r\n                        this.colorRange[i].start = this.min;\r\n                    }\r\n                    if (this.colorRange[i].end > this.max) {\r\n                        this.colorRange[i].end = this.max;\r\n                    }\r\n                    var startingPosition = this.checkHandlePosition(this.colorRange[i].start);\r\n                    var endPosition = this.checkHandlePosition(this.colorRange[i].end);\r\n                    var trackContainer = this.createElement('div');\r\n                    trackContainer.style.backgroundColor = this.colorRange[i].color;\r\n                    trackContainer.style.border = '1px solid ' + this.colorRange[i].color;\r\n                    if (this.orientation === 'Horizontal') {\r\n                        trackClassName = classNames.sliderHorizantalColor;\r\n                        if (this.enableRtl) {\r\n                            if (isNullOrUndefined(this.customValues)) {\r\n                                trackPosition = this.checkHandlePosition(this.max) - this.checkHandlePosition(this.colorRange[i].end);\r\n                            }\r\n                            else {\r\n                                trackPosition = this.checkHandlePosition(this.customValues.length - this.colorRange[i].end - 1);\r\n                            }\r\n                        }\r\n                        else {\r\n                            trackPosition = this.checkHandlePosition(this.colorRange[i].start);\r\n                        }\r\n                        trackContainer.style.width = endPosition - startingPosition + 'px';\r\n                        trackContainer.style.left = trackPosition + 'px';\r\n                    }\r\n                    else {\r\n                        trackClassName = classNames.sliderVerticalColor;\r\n                        trackPosition = this.checkHandlePosition(this.colorRange[i].start);\r\n                        trackContainer.style.height = endPosition - startingPosition + 'px';\r\n                        trackContainer.style.bottom = trackPosition + 'px';\r\n                    }\r\n                    trackContainer.classList.add(trackClassName);\r\n                    this.sliderTrack.appendChild(trackContainer);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Gets the component name\r\n     * @private\r\n     */\r\n    Slider.prototype.getModuleName = function () {\r\n        return 'slider';\r\n    };\r\n    __decorate([\r\n        Property(null)\r\n    ], Slider.prototype, \"value\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], Slider.prototype, \"customValues\", void 0);\r\n    __decorate([\r\n        Property(1)\r\n    ], Slider.prototype, \"step\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], Slider.prototype, \"width\", void 0);\r\n    __decorate([\r\n        Property(0)\r\n    ], Slider.prototype, \"min\", void 0);\r\n    __decorate([\r\n        Property(100)\r\n    ], Slider.prototype, \"max\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], Slider.prototype, \"readonly\", void 0);\r\n    __decorate([\r\n        Property('Default')\r\n    ], Slider.prototype, \"type\", void 0);\r\n    __decorate([\r\n        Collection([{}], ColorRangeData)\r\n    ], Slider.prototype, \"colorRange\", void 0);\r\n    __decorate([\r\n        Complex({}, TicksData)\r\n    ], Slider.prototype, \"ticks\", void 0);\r\n    __decorate([\r\n        Complex({}, LimitData)\r\n    ], Slider.prototype, \"limits\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], Slider.prototype, \"enabled\", void 0);\r\n    __decorate([\r\n        Complex({}, TooltipData)\r\n    ], Slider.prototype, \"tooltip\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], Slider.prototype, \"showButtons\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], Slider.prototype, \"enableAnimation\", void 0);\r\n    __decorate([\r\n        Property('Horizontal')\r\n    ], Slider.prototype, \"orientation\", void 0);\r\n    __decorate([\r\n        Property('')\r\n    ], Slider.prototype, \"cssClass\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], Slider.prototype, \"enableHtmlSanitizer\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Slider.prototype, \"created\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Slider.prototype, \"change\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Slider.prototype, \"changed\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Slider.prototype, \"renderingTicks\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Slider.prototype, \"renderedTicks\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Slider.prototype, \"tooltipChange\", void 0);\r\n    Slider = __decorate([\r\n        NotifyPropertyChanges\r\n    ], Slider);\r\n    return Slider;\r\n}(Component));\r\nexport { Slider };\r\n"]},"metadata":{},"sourceType":"module"}