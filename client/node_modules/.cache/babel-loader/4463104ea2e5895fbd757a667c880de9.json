{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nimport { Component, Property, Event, Animation, Collection, append } from '@syncfusion/ej2-base';\nimport { EventHandler, Browser, Internationalization, getDefaultDateObject, cldrData, L10n } from '@syncfusion/ej2-base';\nimport { getValue, compile, extend, isNullOrUndefined, NotifyPropertyChanges, Complex } from '@syncfusion/ej2-base';\nimport { getElement, removeClass, addClass, classList, remove } from '@syncfusion/ej2-base';\nimport { createSpinner, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport { HeaderRenderer } from '../renderer/header-renderer';\nimport { Scroll } from '../actions/scroll';\nimport { ScheduleTouch } from '../actions/touch';\nimport { KeyboardInteraction } from '../actions/keyboard';\nimport { Data } from '../actions/data';\nimport { EventBase } from '../event-renderer/event-base';\nimport { InlineEdit } from '../event-renderer/inline-edit';\nimport { QuickPopups } from '../popups/quick-popups';\nimport { EventTooltip } from '../popups/event-tooltip';\nimport { EventWindow } from '../popups/event-window';\nimport { Render } from '../renderer/renderer';\nimport { WorkHours } from '../models/work-hours';\nimport { TimeScale } from '../models/time-scale';\nimport { QuickInfoTemplates } from '../models/quick-info-templates';\nimport { HeaderRows } from '../models/header-rows';\nimport { Crud } from '../actions/crud';\nimport { WorkCellInteraction } from '../actions/work-cells';\nimport { EventSettings } from '../models/event-settings';\nimport { Group } from '../models/group';\nimport { Resources } from '../models/resources';\nimport { Gregorian, Islamic } from '../../common/calendar-util';\nimport { ResourceBase } from '../base/resource';\nimport { Timezone, timezoneData } from '../timezone/timezone';\nimport * as events from '../base/constant';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\n/**\r\n * Represents the Schedule component that displays a list of events scheduled against specific date and timings,\r\n * thus helping us to plan and manage it properly.\r\n * ```html\r\n * <div id=\"schedule\"></div>\r\n * ```\r\n * ```typescript\r\n * <script>\r\n *   var scheduleObj = new Schedule();\r\n *   scheduleObj.appendTo(\"#schedule\");\r\n * </script>\r\n * ```\r\n */\n\nvar Schedule =\n/** @class */\nfunction (_super) {\n  __extends(Schedule, _super);\n  /**\r\n   * Constructor for creating the Schedule widget\r\n   *\r\n   * @param {ScheduleModel} options Accepts the schedule model properties to initiate the rendering\r\n   * @param {string | HTMLElement} element Accepts the DOM element reference\r\n   */\n\n\n  function Schedule(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\r\n   * Core method that initializes the control rendering.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.render = function () {\n    var addClasses = [];\n    var removeClasses = [];\n    addClasses.push(cls.ROOT);\n\n    if (this.enableRtl) {\n      addClasses.push(cls.RTL);\n    } else {\n      removeClasses.push(cls.RTL);\n    }\n\n    if (this.isAdaptive) {\n      addClasses.push(cls.DEVICE_CLASS);\n    } else {\n      removeClasses.push(cls.DEVICE_CLASS);\n    }\n\n    if (this.allowMultiDrag) {\n      addClasses.push(cls.MULTI_DRAG);\n    } else {\n      removeClasses.push(cls.MULTI_DRAG);\n    }\n\n    if (this.cssClass) {\n      var cssClass = this.cssClass.split(' ');\n\n      for (var _i = 0, cssClass_1 = cssClass; _i < cssClass_1.length; _i++) {\n        var cls_1 = cssClass_1[_i];\n        addClasses.push(cls_1);\n      }\n    }\n\n    classList(this.element, addClasses, removeClasses);\n    this.validateDate();\n    createSpinner({\n      target: this.element\n    });\n    this.scrollModule = new Scroll(this);\n    this.scrollModule.setWidth();\n    this.scrollModule.setHeight();\n    this.renderModule = new Render(this);\n    this.eventBase = new EventBase(this);\n    this.workCellAction = new WorkCellInteraction(this);\n\n    if (this.allowKeyboardInteraction) {\n      this.keyboardInteractionModule = new KeyboardInteraction(this);\n    }\n\n    this.inlineModule = new InlineEdit(this);\n    this.initializeDataModule();\n    this.renderTableContainer();\n    this.activeViewOptions = this.getActiveViewOptions();\n    this.initializeResources();\n    this.wireEvents();\n  };\n\n  Schedule.prototype.renderTableContainer = function () {\n    if (!this.element.querySelector('.' + cls.TABLE_CONTAINER_CLASS)) {\n      this.element.appendChild(this.createElement('div', {\n        className: cls.TABLE_CONTAINER_CLASS\n      }));\n    }\n  };\n  /**\r\n   * Method to render react templates\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.renderTemplates = function () {\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  /**\r\n   * Method to reset react templates\r\n   *\r\n   * @param {string[]} templates Accepts the template ID\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.resetTemplates = function (templates) {\n    if (this.isAngular || this.isReact) {\n      this.clearTemplate(templates);\n    }\n  };\n\n  Schedule.prototype.initializeResources = function (isSetModel) {\n    if (isSetModel === void 0) {\n      isSetModel = false;\n    }\n\n    if (this.resources.length > 0) {\n      this.resourceBase = new ResourceBase(this);\n      this.resourceBase.bindResourcesData(isSetModel);\n    } else {\n      this.resourceBase = null;\n      this.resourceCollection = [];\n      this.renderElements(isSetModel);\n    }\n  };\n  /**\r\n   * Method to render the layout elements\r\n   *\r\n   * @param {boolean} isLayoutOnly Accepts the boolean value to render layout or not\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.renderElements = function (isLayoutOnly) {\n    if (isLayoutOnly) {\n      this.initializeView(this.currentView);\n      this.eventWindow.refresh();\n      return;\n    }\n\n    this.destroyHeaderModule();\n\n    if (this.showHeaderBar) {\n      this.headerModule = new HeaderRenderer(this);\n    }\n\n    this.renderTableContainer();\n\n    if (Browser.isDevice || Browser.isTouch) {\n      this.scheduleTouchModule = new ScheduleTouch(this);\n    }\n\n    this.initializeView(this.currentView);\n    this.destroyPopups();\n\n    if (!this.isPrinting) {\n      this.initializePopups();\n    }\n  };\n\n  Schedule.prototype.validateDate = function (selectedDate) {\n    if (selectedDate === void 0) {\n      selectedDate = this.selectedDate;\n    } // persist the selected date value\n\n\n    var date = selectedDate instanceof Date ? new Date(selectedDate.getTime()) : new Date(selectedDate);\n    var minDate = this.minDate instanceof Date ? new Date(this.minDate.getTime()) : new Date(this.minDate);\n    var maxDate = this.maxDate instanceof Date ? new Date(this.maxDate.getTime()) : new Date(this.maxDate);\n\n    if (minDate <= maxDate) {\n      if (date < minDate) {\n        date = minDate;\n      }\n\n      if (date > maxDate) {\n        date = maxDate;\n      }\n\n      this.setProperties({\n        selectedDate: new Date('' + date),\n        minDate: new Date('' + minDate),\n        maxDate: new Date('' + maxDate)\n      }, true);\n\n      if (this.eventWindow) {\n        this.eventWindow.updateMinMaxDateToEditor();\n      }\n    } else {\n      throw Error('minDate should be equal or less than maxDate');\n    }\n  };\n\n  Schedule.prototype.getViewIndex = function (viewName) {\n    for (var item = 0; item < this.viewCollections.length; item++) {\n      var checkIndex = this.viewCollections[item].option;\n\n      if (checkIndex === viewName) {\n        return item;\n      }\n    }\n\n    return -1;\n  };\n\n  Schedule.prototype.setViewOptions = function (isModuleLoad) {\n    if (isModuleLoad === void 0) {\n      isModuleLoad = false;\n    }\n\n    this.viewOptions = {};\n    this.viewCollections = [];\n    var viewName;\n    var selectedView;\n    var prevIndex = this.viewIndex;\n    var count = 0;\n    this.viewIndex = -1;\n\n    for (var _i = 0, _a = this.views; _i < _a.length; _i++) {\n      var view = _a[_i];\n      var isOptions = typeof view === 'string' ? false : true;\n\n      if (typeof view === 'string') {\n        viewName = view;\n\n        if (this.currentView === viewName) {\n          selectedView = viewName;\n          this.viewIndex = count;\n        }\n      } else {\n        viewName = view.option;\n\n        if (view.isSelected) {\n          selectedView = viewName;\n          this.viewIndex = count;\n        }\n      }\n\n      var obj = extend({\n        option: viewName\n      }, isOptions ? view : {});\n      var fieldViewName = viewName.charAt(0).toLowerCase() + viewName.slice(1);\n      obj.cellHeaderTemplateName = obj.cellHeaderTemplate ? obj.option : '';\n      obj.dateHeaderTemplateName = obj.dateHeaderTemplate ? obj.option : '';\n      obj.cellTemplateName = obj.cellTemplate ? obj.option : '';\n      obj.dayHeaderTemplateName = obj.dayHeaderTemplate ? obj.option : '';\n      obj.monthHeaderTemplateName = obj.monthHeaderTemplate ? obj.option : '';\n      obj.resourceHeaderTemplateName = obj.resourceHeaderTemplate ? obj.option : '';\n      obj.headerIndentTemplateName = obj.headerIndentTemplate ? obj.option : '';\n      obj.eventTemplateName = obj.eventTemplate ? obj.option : '';\n\n      if (!isNullOrUndefined(obj.firstDayOfWeek) && obj.firstDayOfWeek === 0) {\n        delete obj.firstDayOfWeek;\n      }\n\n      if (!isNullOrUndefined(obj.interval) && obj.interval === 1) {\n        delete obj.interval;\n      }\n\n      this.viewCollections.push(obj);\n\n      if (isNullOrUndefined(this.viewOptions[fieldViewName])) {\n        this.viewOptions[fieldViewName] = [obj];\n      } else {\n        this.viewOptions[fieldViewName].push(obj);\n      }\n\n      count++;\n    }\n\n    if (!isModuleLoad && selectedView) {\n      this.setProperties({\n        currentView: selectedView\n      }, true);\n    }\n\n    if (this.viewIndex === -1) {\n      var currentIndex = this.getViewIndex(this.currentView);\n      this.viewIndex = typeof this.views[0] !== 'string' && !isNullOrUndefined(prevIndex) && prevIndex !== -1 ? prevIndex : currentIndex === -1 ? 0 : currentIndex;\n    }\n  };\n\n  Schedule.prototype.getActiveViewOptions = function () {\n    var timeScale = {\n      enable: this.timeScale.enable,\n      interval: this.timeScale.interval,\n      slotCount: this.timeScale.slotCount,\n      majorSlotTemplate: this.timeScale.majorSlotTemplate,\n      minorSlotTemplate: this.timeScale.minorSlotTemplate\n    };\n    var isYearView = this.viewCollections[this.viewIndex].option.indexOf('Year') > -1;\n    var group = {\n      byDate: isYearView ? false : this.group.byDate,\n      byGroupID: this.group.byGroupID,\n      allowGroupEdit: this.group.allowGroupEdit,\n      resources: this.group.resources,\n      headerTooltipTemplate: this.group.headerTooltipTemplate,\n      enableCompactView: this.group.enableCompactView\n    };\n    var workDays = this.viewCollections[this.viewIndex].workDays ? [] : this.workDays;\n    var scheduleOptions = {\n      dateFormat: this.dateFormat,\n      endHour: this.endHour,\n      isSelected: false,\n      option: null,\n      readonly: this.readonly,\n      startHour: this.startHour,\n      allowVirtualScrolling: false,\n      cellHeaderTemplate: this.cellHeaderTemplate,\n      dayHeaderTemplate: this.dayHeaderTemplate,\n      monthHeaderTemplate: this.monthHeaderTemplate,\n      cellTemplate: this.cellTemplate,\n      eventTemplate: this.eventSettings.template,\n      dateHeaderTemplate: this.dateHeaderTemplate,\n      resourceHeaderTemplate: this.resourceHeaderTemplate,\n      headerIndentTemplate: this.headerIndentTemplate,\n      firstMonthOfYear: this.firstMonthOfYear,\n      firstDayOfWeek: this.firstDayOfWeek,\n      workDays: workDays,\n      monthsCount: this.monthsCount,\n      showWeekend: this.showWeekend,\n      showWeekNumber: this.showWeekNumber,\n      displayName: null,\n      interval: 1,\n      timeScale: timeScale,\n      timeFormat: this.internalTimeFormat,\n      group: group,\n      headerRows: this.headerRows,\n      orientation: 'Horizontal',\n      numberOfWeeks: 0,\n      displayDate: null\n    };\n    var viewOptions = this.viewCollections[this.viewIndex];\n    var viewsData = extend(scheduleOptions, viewOptions, undefined, true);\n\n    if (this.firstDayOfWeek !== 0 && viewOptions.firstDayOfWeek && this.firstDayOfWeek !== viewOptions.firstDayOfWeek) {\n      viewsData.firstDayOfWeek = this.firstDayOfWeek;\n    }\n\n    if (viewsData.displayDate) {\n      viewsData.displayDate = viewsData.displayDate instanceof Date ? new Date(viewsData.displayDate.getTime()) : new Date(viewsData.displayDate);\n    }\n\n    return viewsData;\n  };\n\n  Schedule.prototype.initializeDataModule = function () {\n    this.eventFields = {\n      id: this.eventSettings.fields.id,\n      isBlock: this.eventSettings.fields.isBlock,\n      subject: this.eventSettings.fields.subject.name,\n      startTime: this.eventSettings.fields.startTime.name,\n      endTime: this.eventSettings.fields.endTime.name,\n      startTimezone: this.eventSettings.fields.startTimezone.name,\n      endTimezone: this.eventSettings.fields.endTimezone.name,\n      location: this.eventSettings.fields.location.name,\n      description: this.eventSettings.fields.description.name,\n      isAllDay: this.eventSettings.fields.isAllDay.name,\n      recurrenceID: this.eventSettings.fields.recurrenceID.name,\n      recurrenceRule: this.eventSettings.fields.recurrenceRule.name,\n      recurrenceException: this.eventSettings.fields.recurrenceException.name,\n      isReadonly: this.eventSettings.fields.isReadonly,\n      followingID: this.eventSettings.fields.followingID\n    };\n    this.setEditorTitles();\n    this.dataModule = new Data(this.eventSettings.dataSource, this.eventSettings.query);\n    this.crudModule = new Crud(this);\n  };\n\n  Schedule.prototype.setEditorTitles = function () {\n    this.editorTitles = {\n      subject: this.eventSettings.fields.subject.title || this.localeObj.getConstant('title'),\n      startTime: this.eventSettings.fields.startTime.title || this.localeObj.getConstant('start'),\n      endTime: this.eventSettings.fields.endTime.title || this.localeObj.getConstant('end'),\n      isAllDay: this.eventSettings.fields.isAllDay.title || this.localeObj.getConstant('allDay'),\n      startTimezone: this.eventSettings.fields.startTimezone.title || this.localeObj.getConstant('startTimezone'),\n      endTimezone: this.eventSettings.fields.endTimezone.title || this.localeObj.getConstant('endTimezone'),\n      location: this.eventSettings.fields.location.title || this.localeObj.getConstant('location'),\n      description: this.eventSettings.fields.description.title || this.localeObj.getConstant('description'),\n      recurrenceRule: this.eventSettings.fields.recurrenceRule.title || this.localeObj.getConstant('repeat')\n    };\n  };\n\n  Schedule.prototype.initializeView = function (viewName) {\n    this.showSpinner();\n    this.activeViewOptions = this.getActiveViewOptions();\n\n    if (this.resourceBase) {\n      this.resourceBase.setResourceCollection();\n    }\n\n    this.initializeTemplates();\n    this.renderModule.render(viewName);\n  };\n\n  Schedule.prototype.initializeTemplates = function () {\n    this.cellHeaderTemplateFn = this.templateParser(this.activeViewOptions.cellHeaderTemplate);\n    this.dayHeaderTemplateFn = this.templateParser(this.activeViewOptions.dayHeaderTemplate);\n    this.monthHeaderTemplateFn = this.templateParser(this.activeViewOptions.monthHeaderTemplate);\n    this.cellTemplateFn = this.templateParser(this.activeViewOptions.cellTemplate);\n    this.dateHeaderTemplateFn = this.templateParser(this.activeViewOptions.dateHeaderTemplate);\n    this.majorSlotTemplateFn = this.templateParser(this.activeViewOptions.timeScale.majorSlotTemplate);\n    this.minorSlotTemplateFn = this.templateParser(this.activeViewOptions.timeScale.minorSlotTemplate);\n    this.appointmentTemplateFn = this.templateParser(this.activeViewOptions.eventTemplate);\n    this.resourceHeaderTemplateFn = this.templateParser(this.activeViewOptions.resourceHeaderTemplate);\n    this.headerIndentTemplateFn = this.templateParser(this.activeViewOptions.headerIndentTemplate);\n    this.headerTooltipTemplateFn = this.templateParser(this.activeViewOptions.group.headerTooltipTemplate);\n    this.eventTooltipTemplateFn = this.templateParser(this.eventSettings.tooltipTemplate);\n    this.editorTemplateFn = this.templateParser(this.editorTemplate);\n    this.quickInfoTemplatesHeaderFn = this.templateParser(this.quickInfoTemplates.header);\n    this.quickInfoTemplatesContentFn = this.templateParser(this.quickInfoTemplates.content);\n    this.quickInfoTemplatesFooterFn = this.templateParser(this.quickInfoTemplates.footer);\n  };\n\n  Schedule.prototype.initializePopups = function () {\n    this.eventWindow = new EventWindow(this);\n    this.quickPopup = new QuickPopups(this);\n  };\n  /**\r\n   * Method to get day names\r\n   *\r\n   * @param {string} type Accepts the day name\r\n   * @returns {string[]} Returns the collection of day names\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getDayNames = function (type) {\n    var culShortNames = [];\n    var cldrObj;\n    var nameSpace = '';\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      nameSpace = 'days.stand-alone.';\n      cldrObj = getValue(nameSpace + type, getDefaultDateObject(this.getCalendarMode()));\n    } else {\n      nameSpace = 'main.' + '' + this.locale + '.dates.calendars.' + this.getCalendarMode() + '.days.format.' + type;\n      cldrObj = getValue(nameSpace, cldrData);\n    }\n\n    for (var _i = 0, _a = Object.keys(cldrObj); _i < _a.length; _i++) {\n      var obj = _a[_i];\n      culShortNames.push(getValue(obj, cldrObj));\n    }\n\n    return culShortNames;\n  };\n\n  Schedule.prototype.setCldrTimeFormat = function () {\n    if (!isNullOrUndefined(this.timeFormat)) {\n      this.internalTimeFormat = this.timeFormat;\n      return;\n    }\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      this.internalTimeFormat = getValue('timeFormats.short', getDefaultDateObject(this.getCalendarMode()));\n    } else {\n      this.internalTimeFormat = getValue('main.' + '' + this.locale + '.dates.calendars.' + this.getCalendarMode() + '.timeFormats.short', cldrData);\n    }\n  };\n  /**\r\n   * Method to get calendar mode\r\n   *\r\n   * @returns {string} Returns the calendar mode\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getCalendarMode = function () {\n    return this.calendarMode.toLowerCase();\n  };\n  /**\r\n   * Method to get time in string\r\n   *\r\n   * @param {Date} date Accepts the date object\r\n   * @returns {string} Returns the time in string\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getTimeString = function (date) {\n    var time = this.globalize.formatDate(date, {\n      format: this.activeViewOptions.timeFormat,\n      type: 'time',\n      calendar: this.getCalendarMode()\n    });\n    return time.toLocaleUpperCase();\n  };\n  /**\r\n   * Method to get  date object\r\n   *\r\n   * @param {Date} date Accepts the date object\r\n   * @returns {Date} Returns the date object\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getDateTime = function (date) {\n    return date instanceof Date ? new Date(date.getTime()) : new Date(date);\n  };\n\n  Schedule.prototype.setCalendarMode = function () {\n    if (this.calendarMode === 'Islamic') {\n      this.calendarUtil = new Islamic();\n    } else {\n      this.calendarUtil = new Gregorian();\n    }\n  };\n  /**\r\n   * Method to change the current view\r\n   *\r\n   * @param {View} view Accepts the view name\r\n   * @param {Event} event Accepts the event object\r\n   * @param {boolean} muteOnChange Accepts the value to enable or disable mute on change\r\n   * @param {number} index Accepts the index value\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.changeView = function (view, event, muteOnChange, index) {\n    var _this = this;\n\n    if (isNullOrUndefined(index)) {\n      index = this.getViewIndex(view);\n    }\n\n    if (!muteOnChange && index === this.viewIndex && this.currentView === view || index < 0) {\n      return;\n    }\n\n    this.viewIndex = index;\n    var args = {\n      requestType: 'viewNavigate',\n      cancel: false,\n      event: event\n    };\n    this.trigger(events.actionBegin, args, function (actionArgs) {\n      if (!actionArgs.cancel) {\n        var navArgs = {\n          action: 'view',\n          cancel: false,\n          currentDate: _this.selectedDate,\n          previousView: _this.currentView,\n          currentView: view,\n          viewIndex: _this.viewIndex\n        };\n\n        _this.trigger(events.navigating, navArgs, function (navigationArgs) {\n          if (!navigationArgs.cancel) {\n            _this.viewIndex = navigationArgs.viewIndex;\n\n            _this.setProperties({\n              currentView: view\n            }, true);\n\n            if (_this.headerModule) {\n              _this.headerModule.updateActiveView();\n\n              _this.headerModule.setCalendarDate(_this.selectedDate);\n\n              _this.headerModule.setCalendarView();\n            }\n\n            _this.initializeView(_this.currentView);\n\n            _this.animateLayout();\n\n            args = {\n              requestType: 'viewNavigate',\n              cancel: false,\n              event: event\n            };\n\n            _this.trigger(events.actionComplete, args);\n          }\n        });\n      }\n    });\n  };\n  /**\r\n   * Method to change the view date\r\n   *\r\n   * @param {Date} selectedDate Accepts the selected date\r\n   * @param {Event} event Accepts the event object\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.changeDate = function (selectedDate, event) {\n    var _this = this;\n\n    var args = {\n      requestType: 'dateNavigate',\n      cancel: false,\n      event: event\n    };\n    this.trigger(events.actionBegin, args, function (actionArgs) {\n      if (!actionArgs.cancel) {\n        var navArgs = {\n          action: 'date',\n          cancel: false,\n          previousDate: _this.selectedDate,\n          currentDate: selectedDate\n        };\n\n        _this.trigger(events.navigating, navArgs, function (navigationArgs) {\n          if (!navigationArgs.cancel) {\n            _this.uiStateValues.isInitial = _this.activeView.isTimelineView() ? true : _this.uiStateValues.isInitial;\n\n            _this.validateDate(navigationArgs.currentDate);\n\n            if (_this.headerModule) {\n              _this.headerModule.setCalendarDate(navigationArgs.currentDate);\n            }\n\n            _this.initializeView(_this.currentView);\n\n            _this.animateLayout();\n\n            args = {\n              requestType: 'dateNavigate',\n              cancel: false,\n              event: event\n            };\n\n            _this.trigger(events.actionComplete, args);\n          }\n        });\n      }\n    });\n  };\n  /**\r\n   * Method to validate min and max date\r\n   *\r\n   * @param {Date} date Accepts the date object\r\n   * @returns {boolean} Returns the boolean result to validate the min and max date\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.isMinMaxDate = function (date) {\n    if (date === void 0) {\n      date = this.selectedDate;\n    }\n\n    return date.getTime() >= this.minDate.getTime() && date.getTime() <= this.maxDate.getTime();\n  };\n  /**\r\n   * Method to validate the selected date\r\n   *\r\n   * @param {Date} date Accepts the date object\r\n   * @returns {boolean} Returns the boolean value for given date is selected date or not\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.isSelectedDate = function (date) {\n    return date.setHours(0, 0, 0, 0) === new Date('' + this.selectedDate).setHours(0, 0, 0, 0);\n  };\n  /**\r\n   * Method to get the current time\r\n   *\r\n   * @param {Date} date Accepts the date object\r\n   * @returns {Date} Returns the date object after performing the timezone conversion\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getCurrentTime = function (date) {\n    if (date === void 0) {\n      date = new Date();\n    }\n\n    if (this.timezone) {\n      return this.tzModule.convert(date, this.tzModule.getLocalTimezoneName(), this.timezone);\n    }\n\n    return date;\n  };\n  /** Method to get navigate view\r\n   *\r\n   * @returns {View} Return the navigate view name\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getNavigateView = function () {\n    if (this.activeView.isTimelineView()) {\n      return this.currentView === 'TimelineMonth' || this.currentView === 'TimelineYear' ? 'TimelineDay' : 'Agenda';\n    }\n\n    return 'Day';\n  };\n\n  Schedule.prototype.animateLayout = function () {\n    if (!this.activeView.element) {\n      return;\n    }\n\n    new Animation({\n      duration: 600,\n      name: 'FadeIn',\n      timingFunction: 'easeIn'\n    }).animate(this.activeView.element);\n  };\n  /**\r\n   * To provide the array of modules needed for control rendering\r\n   *\r\n   * @returns {ModuleDeclaration[]} Returns the declared modules\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.requiredModules = function () {\n    var modules = [];\n    this.setViewOptions(true);\n\n    for (var _i = 0, _a = Object.keys(this.viewOptions); _i < _a.length; _i++) {\n      var view = _a[_i];\n      view = view === 'timelineDay' || view === 'timelineWeek' || view === 'timelineWorkWeek' ? 'timelineViews' : view;\n      modules.push({\n        member: view,\n        args: [this]\n      });\n    }\n\n    if (this.allowDragAndDrop) {\n      modules.push({\n        member: 'dragAndDrop',\n        args: [this]\n      });\n    }\n\n    if (this.allowResizing) {\n      modules.push({\n        member: 'resize',\n        args: [this]\n      });\n    }\n\n    modules.push({\n      member: 'excelExport',\n      args: [this]\n    });\n    modules.push({\n      member: 'iCalendarExport',\n      args: [this]\n    });\n    modules.push({\n      member: 'iCalendarImport',\n      args: [this]\n    });\n    modules.push({\n      member: 'print',\n      args: [this]\n    });\n    return modules;\n  };\n  /**\r\n   * Initializes the values of private members.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.preRender = function () {\n    this.isAdaptive = Browser.isDevice || util.isIPadDevice();\n    this.globalize = new Internationalization(this.locale);\n    this.tzModule = new Timezone();\n\n    if (this && isNullOrUndefined(this.uiStateValues) || !this.enablePersistence) {\n      this.uiStateValues = {\n        expand: false,\n        isInitial: true,\n        left: 0,\n        top: 0,\n        isGroupAdaptive: false,\n        isIgnoreOccurrence: false,\n        groupIndex: 0,\n        action: false,\n        isBlock: false,\n        isCustomMonth: true\n      };\n    }\n\n    this.activeCellsData = {\n      startTime: this.getCurrentTime(),\n      endTime: this.getCurrentTime(),\n      isAllDay: false\n    };\n    this.activeEventData = {\n      event: undefined,\n      element: undefined\n    };\n    this.getDefaultLocale();\n    this.localeObj = new L10n(this.getModuleName(), this.defaultLocale, this.locale);\n    this.setCldrTimeFormat();\n    this.setCalendarMode();\n    this.eventsData = [];\n    this.eventsProcessed = [];\n    this.blockData = [];\n    this.blockProcessed = [];\n    this.resourceCollection = [];\n    this.currentAction = null;\n    this.selectedElements = [];\n    this.setViewOptions();\n  };\n\n  Schedule.prototype.getDefaultLocale = function () {\n    this.defaultLocale = {\n      day: 'Day',\n      week: 'Week',\n      workWeek: 'Work Week',\n      month: 'Month',\n      year: 'Year',\n      agenda: 'Agenda',\n      weekAgenda: 'Week Agenda',\n      workWeekAgenda: 'Work Week Agenda',\n      monthAgenda: 'Month Agenda',\n      today: 'Today',\n      noEvents: 'No events',\n      emptyContainer: 'There are no events scheduled on this day.',\n      allDay: 'All day',\n      start: 'Start',\n      end: 'End',\n      more: 'more',\n      close: 'Close',\n      cancel: 'Cancel',\n      noTitle: '(No Title)',\n      delete: 'Delete',\n      deleteEvent: 'Delete Event',\n      deleteMultipleEvent: 'Delete Multiple Events',\n      selectedItems: 'Items selected',\n      deleteSeries: 'Entire Series',\n      edit: 'Edit',\n      editSeries: 'Entire Series',\n      editEvent: 'Edit Event',\n      createEvent: 'Create',\n      subject: 'Subject',\n      addTitle: 'Add title',\n      moreDetails: 'More Details',\n      save: 'Save',\n      editContent: 'How would you like to change the appointment in the series?',\n      deleteContent: 'Are you sure you want to delete this event?',\n      deleteMultipleContent: 'Are you sure you want to delete the selected events?',\n      newEvent: 'New Event',\n      title: 'Title',\n      location: 'Location',\n      description: 'Description',\n      timezone: 'Timezone',\n      startTimezone: 'Start Timezone',\n      endTimezone: 'End Timezone',\n      repeat: 'Repeat',\n      saveButton: 'Save',\n      cancelButton: 'Cancel',\n      deleteButton: 'Delete',\n      recurrence: 'Recurrence',\n      wrongPattern: 'The recurrence pattern is not valid.',\n      seriesChangeAlert: 'Do you want to cancel the changes made to specific ' + 'instances of this series and match it to the whole series again?',\n      createError: 'The duration of the event must be shorter than how frequently it occurs. ' + 'Shorten the duration, or change the recurrence pattern in the recurrence event editor.',\n      sameDayAlert: 'Two occurrences of the same event cannot occur on the same day.',\n      occurenceAlert: 'Cannot reschedule an occurrence of the recurring appointment if it skips over ' + 'a later occurrence of the same appointment.',\n      editRecurrence: 'Edit Recurrence',\n      repeats: 'Repeats',\n      alert: 'Alert',\n      startEndError: 'The selected end date occurs before the start date.',\n      invalidDateError: 'The entered date value is invalid.',\n      blockAlert: 'Events cannot be scheduled within the blocked time range.',\n      ok: 'Ok',\n      yes: 'Yes',\n      no: 'No',\n      occurrence: 'Occurrence',\n      series: 'Series',\n      previous: 'Previous',\n      next: 'Next',\n      timelineDay: 'Timeline Day',\n      timelineWeek: 'Timeline Week',\n      timelineWorkWeek: 'Timeline Work Week',\n      timelineMonth: 'Timeline Month',\n      timelineYear: 'Timeline Year',\n      editFollowingEvent: 'Following Events',\n      deleteTitle: 'Delete Event',\n      editTitle: 'Edit Event',\n      beginFrom: 'Begin From',\n      endAt: 'Ends At',\n      expandAllDaySection: 'Expand-all-day-section',\n      collapseAllDaySection: 'Collapse-all-day-section',\n      searchTimezone: 'Search Timezone',\n      noRecords: 'No records found'\n    };\n  };\n\n  Schedule.prototype.wireEvents = function () {\n    EventHandler.add(window, 'resize', this.onScheduleResize, this);\n    EventHandler.add(window, 'orientationchange', this.onScheduleResize, this);\n    EventHandler.add(document, Browser.touchStartEvent, this.onDocumentClick, this);\n  };\n  /**\r\n   * Method to remove selected class\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.removeSelectedClass = function () {\n    var selectedCells = this.getSelectedElements();\n\n    for (var _i = 0, selectedCells_1 = selectedCells; _i < selectedCells_1.length; _i++) {\n      var cell = selectedCells_1[_i];\n      cell.setAttribute('aria-selected', 'false');\n      cell.removeAttribute('tabindex');\n    }\n\n    removeClass(selectedCells, cls.SELECTED_CELL_CLASS);\n  };\n  /**\r\n   * Method to add selected class\r\n   *\r\n   * @param {HTMLTableCellElement[]} cells Accepts the collection of elements\r\n   * @param {HTMLTableCellElement} focusCell Accepts the focus element\r\n   * @param {boolean} isPreventScroll Accepts the boolean value to prevent scroll\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.addSelectedClass = function (cells, focusCell, isPreventScroll) {\n    for (var _i = 0, cells_1 = cells; _i < cells_1.length; _i++) {\n      var cell = cells_1[_i];\n      cell.setAttribute('aria-selected', 'true');\n    }\n\n    addClass(cells, cls.SELECTED_CELL_CLASS);\n\n    if (focusCell) {\n      focusCell.setAttribute('tabindex', '0');\n      focusCell.focus({\n        preventScroll: isPreventScroll || false\n      });\n    }\n  };\n  /**\r\n   * Method to select cell\r\n   *\r\n   * @param {HTMLElement | HTMLTableCellElement} element Accepts the select element\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.selectCell = function (element) {\n    this.removeSelectedClass();\n    this.addSelectedClass([element], element);\n  };\n  /**\r\n   * Method to get all day row element\r\n   *\r\n   * @returns {Element} Returns the all day row element\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getAllDayRow = function () {\n    return this.element.querySelector('.' + cls.ALLDAY_ROW_CLASS);\n  };\n  /**\r\n   * Method to get content table element\r\n   *\r\n   * @returns {HTMLElement} Returns the content table element\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getContentTable = function () {\n    return this.activeView.element.querySelector('.' + cls.CONTENT_TABLE_CLASS + ' tbody');\n  };\n  /**\r\n   * Method to get all content table rows\r\n   *\r\n   * @returns {HTMLElement[]} Returns the content table rows\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getTableRows = function () {\n    return [].slice.call(this.element.querySelectorAll('.' + cls.CONTENT_TABLE_CLASS + ' tbody tr:not(.' + cls.HIDDEN_CLASS + ')'));\n  };\n  /**\r\n   * Method to get work cell elements\r\n   *\r\n   * @returns {Element[]} Returns the all work cell elements\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getWorkCellElements = function () {\n    return [].slice.call(this.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS));\n  };\n  /**\r\n   * Method to get the index from date collection\r\n   *\r\n   * @param {Date[]} collection Accepts the collections of date\r\n   * @param {Date} date Accepts the date object\r\n   * @returns {number} Returns the index compared date with date collections\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getIndexOfDate = function (collection, date) {\n    return collection.map(Number).indexOf(+date);\n  };\n  /**\r\n   * Method to find all day cell\r\n   *\r\n   * @param {Element} td Accepts the DOM Element\r\n   * @returns {boolean} Returns the boolean value\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.isAllDayCell = function (td) {\n    if (['Month', 'TimelineMonth', 'TimelineYear', 'MonthAgenda'].indexOf(this.currentView) > -1 || td.classList.contains(cls.ALLDAY_CELLS_CLASS) || td.classList.contains(cls.HEADER_CELLS_CLASS) || !this.activeViewOptions.timeScale.enable) {\n      return true;\n    }\n\n    if (this.activeView.isTimelineView() && this.activeViewOptions.headerRows.length > 0 && this.activeViewOptions.headerRows.slice(-1)[0].option !== 'Hour') {\n      return true;\n    }\n\n    return false;\n  };\n  /**\r\n   * Method to get date from element\r\n   *\r\n   * @param {Element} td Accepts the DOM element\r\n   * @returns {Date} Returns the date object\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getDateFromElement = function (td) {\n    var dateString;\n\n    if (!isNullOrUndefined(td)) {\n      dateString = td.getAttribute('data-date');\n    }\n\n    if (!isNullOrUndefined(dateString)) {\n      var dateInMS = parseInt(dateString, 10);\n      var date = new Date(dateInMS);\n      return date;\n    }\n\n    return undefined;\n  };\n  /**\r\n   * Method to get target element from given selector\r\n   *\r\n   * @param {string} selector Accepts the element selector\r\n   * @param {number} left Accepts the pageX value\r\n   * @param {number} top Accepts the pageY value\r\n   * @returns {Element[]} Returns the collection of elements based on the given selector\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getTargetElement = function (selector, left, top) {\n    var element = document.elementFromPoint(left, top);\n    var targetElement;\n\n    if (element) {\n      targetElement = element.closest(selector);\n    }\n\n    return targetElement ? [targetElement] : null;\n  };\n  /**\r\n   * Method to process cell header template\r\n   *\r\n   * @returns {CallbackFunction} Returns the callback function\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getCellHeaderTemplate = function () {\n    return this.cellHeaderTemplateFn;\n  };\n  /**\r\n   * Method to process cell header template in year view.\r\n   *\r\n   * @returns {CallbackFunction} Returns the callback function\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getDayHeaderTemplate = function () {\n    return this.dayHeaderTemplateFn;\n  };\n  /**\r\n   * Method to process cell header template in year view.\r\n   *\r\n   * @returns {CallbackFunction} Returns the callback function\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getMonthHeaderTemplate = function () {\n    return this.monthHeaderTemplateFn;\n  };\n  /**\r\n   * Method to process cell template\r\n   *\r\n   * @returns {CallbackFunction} Returns the callback function\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getCellTemplate = function () {\n    return this.cellTemplateFn;\n  };\n  /**\r\n   * Method to process date header template\r\n   *\r\n   * @returns {CallbackFunction} Returns the callback function\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getDateHeaderTemplate = function () {\n    return this.dateHeaderTemplateFn;\n  };\n  /**\r\n   * Method to process major slot template\r\n   *\r\n   * @returns {CallbackFunction} Returns the callback function\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getMajorSlotTemplate = function () {\n    return this.majorSlotTemplateFn;\n  };\n  /**\r\n   * Method to process minor slot template\r\n   *\r\n   * @returns {CallbackFunction} Returns the callback function\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getMinorSlotTemplate = function () {\n    return this.minorSlotTemplateFn;\n  };\n  /**\r\n   * Method to process appointment template\r\n   *\r\n   * @returns {CallbackFunction} Returns the callback function\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getAppointmentTemplate = function () {\n    return this.appointmentTemplateFn;\n  };\n  /**\r\n   * Method to process appointment tooltip template\r\n   *\r\n   * @returns {CallbackFunction} Returns the callback function\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getEventTooltipTemplate = function () {\n    return this.eventTooltipTemplateFn;\n  };\n  /**\r\n   * Method to process header tooltip template\r\n   *\r\n   * @returns {CallbackFunction} Returns the callback function\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getHeaderTooltipTemplate = function () {\n    return this.headerTooltipTemplateFn;\n  };\n  /**\r\n   * Method to process editor template\r\n   *\r\n   * @returns {CallbackFunction} Returns the callback function\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getEditorTemplate = function () {\n    return this.editorTemplateFn;\n  };\n  /**\r\n   * Method to process quick info header template\r\n   *\r\n   * @returns {CallbackFunction} Returns the callback function\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getQuickInfoTemplatesHeader = function () {\n    return this.quickInfoTemplatesHeaderFn;\n  };\n  /**\r\n   * Method to process quick info content template\r\n   *\r\n   * @returns {CallbackFunction} Returns the callback function\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getQuickInfoTemplatesContent = function () {\n    return this.quickInfoTemplatesContentFn;\n  };\n  /**\r\n   * Method to process quick info footer template\r\n   *\r\n   * @returns {CallbackFunction} Returns the callback function\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getQuickInfoTemplatesFooter = function () {\n    return this.quickInfoTemplatesFooterFn;\n  };\n  /**\r\n   * Method to process resource header template\r\n   *\r\n   * @returns {CallbackFunction} Returns the callback function\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getResourceHeaderTemplate = function () {\n    return this.resourceHeaderTemplateFn;\n  };\n  /**\r\n   * Method to process indent template\r\n   *\r\n   * @returns {CallbackFunction} Returns the callback function\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getHeaderIndentTemplate = function () {\n    return this.headerIndentTemplateFn;\n  };\n  /**\r\n   * Method to get dynamic CSS properties\r\n   *\r\n   * @returns {ScrollCss} Returns the CSS properties dynamically\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getCssProperties = function () {\n    var cssProps = {\n      border: this.enableRtl ? 'borderLeftWidth' : 'borderRightWidth',\n      padding: this.enableRtl ? 'paddingLeft' : 'paddingRight',\n      rtlBorder: this.enableRtl ? 'borderRightWidth' : 'borderLeftWidth',\n      rtlPadding: this.enableRtl ? 'paddingRight' : 'paddingLeft'\n    };\n    return cssProps;\n  };\n  /**\r\n   * Method to remove new event element in adaptive mode\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.removeNewEventElement = function () {\n    var eventClone = this.element.querySelector('.' + cls.NEW_EVENT_CLASS);\n\n    if (!isNullOrUndefined(eventClone)) {\n      remove(eventClone);\n    }\n  };\n  /**\r\n   * Method to get start end time from string\r\n   *\r\n   * @param {string} startEndTime Accepts the start end time string value\r\n   * @returns {Date} Returns the date object\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getStartEndTime = function (startEndTime) {\n    if (!isNullOrUndefined(startEndTime) && startEndTime !== '') {\n      var startEndDate = util.resetTime(this.getCurrentTime());\n      var timeString = startEndTime.split(':');\n\n      if (timeString.length === 2) {\n        startEndDate.setHours(parseInt(timeString[0], 10), parseInt(timeString[1], 10), 0);\n      }\n\n      return startEndDate;\n    }\n\n    return null;\n  };\n\n  Schedule.prototype.onDocumentClick = function (args) {\n    this.notify(events.documentClick, {\n      event: args\n    });\n  };\n\n  Schedule.prototype.onScheduleResize = function () {\n    if (isNullOrUndefined(this.activeView) || (this.isAdaptive || util.isMobile()) && document.activeElement && document.activeElement.classList.contains(cls.SUBJECT_CLASS)) {\n      return;\n    }\n\n    if (this.activeViewOptions.timeScale.enable && this.activeView) {\n      this.activeView.highlightCurrentTime();\n    }\n\n    if (this.quickPopup) {\n      this.quickPopup.onClosePopup();\n    }\n\n    if (this.currentView === 'Month' || this.currentView !== 'Agenda' && this.currentView !== 'MonthAgenda' && !this.activeViewOptions.timeScale.enable || this.activeView.isTimelineView()) {\n      this.activeView.resetColWidth();\n      this.notify(events.scrollUiUpdate, {\n        cssProperties: this.getCssProperties(),\n        isPreventScrollUpdate: true\n      });\n      this.refreshEvents(false);\n    } else {\n      this.notify(events.contentReady, {});\n    }\n  };\n  /**\r\n   * Method to process the templates\r\n   *\r\n   * @param {string} template Accepts the template in string\r\n   * @returns {CallbackFunction} Returns the callback function\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.templateParser = function (template) {\n    if (template) {\n      try {\n        if (document.querySelectorAll(template).length) {\n          return compile(document.querySelector(template).innerHTML.trim());\n        }\n      } catch (error) {\n        return compile(template);\n      }\n    }\n\n    return undefined;\n  };\n  /**\r\n   * Method to generate the announcement string\r\n   *\r\n   * @param {Object} event Accepts the event object\r\n   * @param {string} subject Accepts the subject text\r\n   * @returns {string} Returns the announcement string\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getAnnouncementString = function (event, subject) {\n    var resourceName;\n\n    if (this.quickPopup && this.activeViewOptions.group.resources.length > 0) {\n      var constantText = '\"s event - ';\n      resourceName = this.quickPopup.getResourceText({\n        event: event\n      }, 'event') + constantText;\n    }\n\n    var recordSubject = subject || event[this.eventFields.subject] || this.eventSettings.fields.subject.default;\n    var skeleton = 'full';\n    var startDateText = this.globalize.formatDate(event[this.eventFields.startTime], {\n      type: 'dateTime',\n      skeleton: skeleton,\n      calendar: this.getCalendarMode()\n    });\n    var endDateText = this.globalize.formatDate(event[this.eventFields.endTime], {\n      type: 'dateTime',\n      skeleton: skeleton,\n      calendar: this.getCalendarMode()\n    });\n    var announcementString = recordSubject + ' ' + this.localeObj.getConstant('beginFrom') + ' ' + startDateText + ' ' + this.localeObj.getConstant('endAt') + ' ' + endDateText;\n\n    if (resourceName) {\n      announcementString = resourceName + ' ' + announcementString;\n    }\n\n    return announcementString;\n  };\n  /**\r\n   * Method to process the element boundary validation\r\n   *\r\n   * @param {number} pageY Accepts the pageY value\r\n   * @param {number} pageX Accepts the pageX value\r\n   * @returns {ResizeEdges} Returns the boundary validation object\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.boundaryValidation = function (pageY, pageX) {\n    var autoScrollDistance = 30;\n    var scrollEdges = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false\n    };\n    var viewBoundaries = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS).getBoundingClientRect();\n\n    if (pageY < viewBoundaries.top + autoScrollDistance + window.pageYOffset && pageY > viewBoundaries.top + window.pageYOffset) {\n      scrollEdges.top = true;\n    }\n\n    if (pageY > viewBoundaries.bottom - autoScrollDistance + window.pageYOffset && pageY < viewBoundaries.bottom + window.pageYOffset) {\n      scrollEdges.bottom = true;\n    }\n\n    if (pageX < viewBoundaries.left + autoScrollDistance + window.pageXOffset && pageX > viewBoundaries.left + window.pageXOffset) {\n      scrollEdges.left = true;\n    }\n\n    if (pageX > viewBoundaries.right - autoScrollDistance + window.pageXOffset && pageX < viewBoundaries.right + window.pageXOffset) {\n      scrollEdges.right = true;\n    }\n\n    return scrollEdges;\n  };\n  /**\r\n   * Method to get the week number.\r\n   *\r\n   * @param {Date[]} dates Accepts the date collections\r\n   * @returns {number} Returns the week number\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getWeekNumberContent = function (dates) {\n    var weekNumber;\n\n    if (this.weekRule === 'FirstDay') {\n      var weekNumberDate = util.getWeekLastDate(dates.slice(-1)[0], this.firstDayOfWeek);\n      weekNumber = this.globalize.formatNumber(util.getWeekNumber(weekNumberDate));\n    } else if (this.weekRule === 'FirstFourDayWeek') {\n      var weekFirstDate = util.getWeekFirstDate(dates.slice(-1)[0], this.firstDayOfWeek);\n      var weekLastDate = util.getWeekLastDate(dates.slice(-1)[0], this.firstDayOfWeek);\n      var weekMidDate = util.getWeekMiddleDate(weekFirstDate, weekLastDate);\n      weekNumber = this.globalize.formatNumber(util.getWeekNumber(weekMidDate));\n    } else if (this.weekRule === 'FirstFullWeek') {\n      var weekFirstDate = util.getWeekFirstDate(dates.slice(-1)[0], this.firstDayOfWeek);\n      weekNumber = this.globalize.formatNumber(util.getWeekNumber(weekFirstDate));\n    }\n\n    return weekNumber;\n  };\n  /**\r\n   * Method to render the header indent template.\r\n   *\r\n   * @param {TdData} data Accepts the td data\r\n   * @param {Element} td Accepts the td element\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.renderHeaderIndentTemplate = function (data, td) {\n    if (this.activeViewOptions.headerIndentTemplate) {\n      var scheduleId = this.element.id + '_';\n      var viewName = this.activeViewOptions.headerIndentTemplateName;\n      var templateId = scheduleId + viewName + 'headerIndentTemplate';\n      var indentTemplate = [].slice.call(this.getHeaderIndentTemplate()(data, this, 'headerIndentTemplate', templateId, false));\n      append(indentTemplate, td);\n    }\n  };\n\n  Schedule.prototype.unWireEvents = function () {\n    EventHandler.remove(window, 'resize', this.onScheduleResize);\n    EventHandler.remove(window, 'orientationchange', this.onScheduleResize);\n    EventHandler.remove(document, Browser.touchStartEvent, this.onDocumentClick);\n  };\n  /**\r\n   * Core method to return the component name.\r\n   *\r\n   * @returns {string} Returns the module name\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getModuleName = function () {\n    return 'schedule';\n  };\n  /**\r\n   * Returns the properties to be maintained in the persisted state.\r\n   *\r\n   * @returns {string} Returns the persistance data\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.getPersistData = function () {\n    return this.addOnPersist(['currentView', 'selectedDate', 'scrollTop', 'scrollLeft']);\n  };\n  /**\r\n   * Called internally, if any of the property value changed.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  Schedule.prototype.onPropertyChanged = function (newProp, oldProp) {\n    if (this.isReact && isNullOrUndefined(this.activeView)) {\n      return;\n    }\n\n    var state = {\n      isRefresh: false,\n      isResource: false,\n      isDate: false,\n      isView: false,\n      isLayout: false,\n      isDataManager: false\n    };\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'views':\n          this.setViewOptions();\n\n          if (this.headerModule) {\n            this.headerModule.updateItems();\n          }\n\n          state.isView = true;\n          break;\n\n        case 'currentView':\n          state.isView = true;\n          break;\n\n        case 'minDate':\n        case 'maxDate':\n        case 'selectedDate':\n          state.isDate = true;\n          break;\n\n        case 'dateFormat':\n          this.activeViewOptions = this.getActiveViewOptions();\n\n          if (this.headerModule) {\n            this.headerModule.updateDateRange(this.activeView.getDateRangeText());\n          }\n\n          break;\n\n        case 'showHeaderBar':\n          this.destroyHeaderModule();\n\n          if (newProp.showHeaderBar) {\n            this.headerModule = new HeaderRenderer(this);\n            this.headerModule.updateDateRange(this.activeView.getDateRangeText());\n          }\n\n          this.notify(events.scrollUiUpdate, {\n            cssProperties: this.getCssProperties()\n          });\n\n          if (this.activeView.isTimelineView()) {\n            this.refreshEvents(false);\n          }\n\n          break;\n\n        case 'showWeekend':\n        case 'workDays':\n        case 'startHour':\n        case 'endHour':\n        case 'workHours':\n        case 'readonly':\n        case 'headerRows':\n        case 'showWeekNumber':\n        case 'rowAutoHeight':\n          state.isLayout = true;\n          break;\n\n        case 'locale':\n        case 'calendarMode':\n          this.globalize = new Internationalization(this.locale);\n          this.localeObj = new L10n(this.getModuleName(), this.defaultLocale, this.locale);\n          this.setCldrTimeFormat();\n          this.setCalendarMode();\n          state.isRefresh = true;\n          break;\n\n        case 'firstDayOfWeek':\n          this.activeViewOptions.firstDayOfWeek = newProp.firstDayOfWeek;\n\n          if (this.eventWindow) {\n            this.eventWindow.refreshRecurrenceEditor();\n          }\n\n          state.isLayout = true;\n          break;\n\n        case 'showTimeIndicator':\n          if (this.activeViewOptions.timeScale.enable && this.activeView) {\n            this.activeView.highlightCurrentTime();\n          }\n\n          break;\n\n        case 'cellHeaderTemplate':\n          this.activeViewOptions.cellHeaderTemplate = newProp.cellHeaderTemplate;\n          this.cellHeaderTemplateFn = this.templateParser(this.activeViewOptions.cellHeaderTemplate);\n          state.isLayout = true;\n          break;\n\n        case 'cellTemplate':\n          this.activeViewOptions.cellTemplate = newProp.cellTemplate;\n          this.cellTemplateFn = this.templateParser(this.activeViewOptions.cellTemplate);\n          state.isLayout = true;\n          break;\n\n        case 'dateHeaderTemplate':\n          this.activeViewOptions.dateHeaderTemplate = newProp.dateHeaderTemplate;\n          this.dateHeaderTemplateFn = this.templateParser(this.activeViewOptions.dateHeaderTemplate);\n          state.isLayout = true;\n          break;\n\n        case 'dayHeaderTemplate':\n          this.activeViewOptions.dayHeaderTemplate = newProp.dayHeaderTemplate;\n          this.dayHeaderTemplateFn = this.templateParser(this.activeViewOptions.dayHeaderTemplate);\n          state.isLayout = true;\n          break;\n\n        case 'monthHeaderTemplate':\n          this.activeViewOptions.monthHeaderTemplate = newProp.monthHeaderTemplate;\n          this.monthHeaderTemplateFn = this.templateParser(this.activeViewOptions.monthHeaderTemplate);\n          state.isLayout = true;\n          break;\n\n        case 'resourceHeaderTemplate':\n          this.activeViewOptions.resourceHeaderTemplate = newProp.resourceHeaderTemplate;\n          this.resourceHeaderTemplateFn = this.templateParser(this.activeViewOptions.resourceHeaderTemplate);\n          state.isLayout = true;\n          break;\n\n        case 'timezone':\n          this.eventBase.timezonePropertyChange(oldProp.timezone);\n          this.headerModule.setCalendarTimezone();\n          break;\n\n        case 'enableRtl':\n          this.setRtlClass();\n          state.isRefresh = true;\n          break;\n\n        default:\n          this.extendedPropertyChange(prop, newProp, oldProp, state);\n          break;\n      }\n    }\n\n    this.propertyChangeAction(state);\n  };\n\n  Schedule.prototype.propertyChangeAction = function (state) {\n    if (state.isRefresh) {\n      this.refresh();\n    } else if (state.isResource) {\n      this.initializeResources(true);\n    } else if (state.isView) {\n      this.changeView(this.currentView, null, true);\n    } else if (state.isDate) {\n      this.changeDate(this.selectedDate);\n    } else if (state.isLayout) {\n      this.initializeView(this.currentView);\n    } else if (state.isDataManager && this.crudModule) {\n      if (this.dragAndDropModule) {\n        this.dragAndDropModule.actionObj.action = '';\n        removeClass([this.element], cls.EVENT_ACTION_CLASS);\n      }\n\n      this.crudModule.refreshDataManager();\n    }\n  };\n\n  Schedule.prototype.allDayRowScrollUpdate = function () {\n    var dateHeader = this.element.querySelector('.' + cls.DATE_HEADER_WRAP_CLASS);\n    var allDayRow = this.element.querySelector('.' + cls.ALLDAY_ROW_CLASS);\n\n    if (this.height === 'auto' || !this.enableAllDayScroll) {\n      addClass([dateHeader], cls.ALLDAY_APPOINTMENT_AUTO);\n\n      if (dateHeader.classList.contains(cls.ALLDAY_APPOINTMENT_SCROLL)) {\n        removeClass([dateHeader], cls.ALLDAY_APPOINTMENT_SCROLL);\n      }\n\n      if (this.uiStateValues.expand) {\n        var allDayCells = [].slice.call(this.element.querySelectorAll('.' + cls.ALLDAY_CELLS_CLASS));\n        allDayCells[0].style.height = allDayRow.style.height ? allDayRow.style.height : allDayCells[1].style.height;\n      }\n    } else {\n      if (dateHeader.classList.contains(cls.ALLDAY_APPOINTMENT_AUTO)) {\n        removeClass([dateHeader], cls.ALLDAY_APPOINTMENT_AUTO);\n      }\n\n      this.eventBase.allDayExpandScroll(dateHeader);\n    }\n\n    if (!this.uiStateValues.expand) {\n      allDayRow.style.height = '';\n    }\n  };\n\n  Schedule.prototype.extendedPropertyChange = function (prop, newProp, oldProp, state) {\n    switch (prop) {\n      case 'width':\n      case 'height':\n      case 'enableAllDayScroll':\n        if (['Day', 'Week', 'WorkWeek'].indexOf(this.currentView) > -1) {\n          this.allDayRowScrollUpdate();\n        }\n\n        this.notify(events.uiUpdate, {\n          module: 'scroll',\n          properties: {\n            width: newProp.width,\n            height: newProp.height\n          }\n        });\n        break;\n\n      case 'cssClass':\n        if (oldProp.cssClass) {\n          removeClass([this.element], oldProp.cssClass.split(' '));\n        }\n\n        if (newProp.cssClass) {\n          addClass([this.element], newProp.cssClass.split(' '));\n        }\n\n        break;\n\n      case 'hideEmptyAgendaDays':\n      case 'agendaDaysCount':\n        this.activeViewOptions = this.getActiveViewOptions();\n        state.isView = true;\n        break;\n\n      case 'eventSettings':\n        this.onEventSettingsPropertyChanged(newProp.eventSettings, oldProp.eventSettings, state);\n        break;\n\n      case 'allowKeyboardInteraction':\n        if (this.keyboardInteractionModule) {\n          this.keyboardInteractionModule.destroy();\n          this.keyboardInteractionModule = null;\n        }\n\n        if (newProp.allowKeyboardInteraction) {\n          this.keyboardInteractionModule = new KeyboardInteraction(this);\n        }\n\n        break;\n\n      case 'timezoneDataSource':\n        if (this.eventWindow) {\n          this.eventWindow.refresh();\n        }\n\n        break;\n\n      case 'editorTemplate':\n        if (!isNullOrUndefined(this.editorTemplate)) {\n          this.editorTemplateFn = this.templateParser(this.editorTemplate);\n        }\n\n        if (this.eventWindow) {\n          this.eventWindow.setDialogContent();\n        }\n\n        break;\n\n      case 'quickInfoTemplates':\n        if (this.quickInfoTemplates.header) {\n          this.quickInfoTemplatesHeaderFn = this.templateParser(this.quickInfoTemplates.header);\n        }\n\n        if (this.quickInfoTemplates.content) {\n          this.quickInfoTemplatesContentFn = this.templateParser(this.quickInfoTemplates.content);\n        }\n\n        if (this.quickInfoTemplates.footer) {\n          this.quickInfoTemplatesFooterFn = this.templateParser(this.quickInfoTemplates.footer);\n        }\n\n        break;\n\n      case 'group':\n        this.onGroupSettingsPropertyChanged(newProp.group, oldProp.group, state);\n        break;\n\n      case 'resources':\n        state.isResource = true;\n        break;\n\n      case 'timeScale':\n        this.activeViewOptions.timeScale.interval = newProp.timeScale.interval || this.activeViewOptions.timeScale.interval;\n        this.activeViewOptions.timeScale.slotCount = newProp.timeScale.slotCount || this.activeViewOptions.timeScale.slotCount;\n\n        if (this.eventWindow) {\n          this.eventWindow.refreshDateTimePicker();\n        }\n\n        state.isLayout = true;\n        break;\n\n      case 'allowDragAndDrop':\n      case 'allowResizing':\n      case 'eventDragArea':\n        this.refreshEvents(false);\n        break;\n\n      case 'weekRule':\n        state.isLayout = true;\n        break;\n\n      case 'firstMonthOfYear':\n        this.activeViewOptions.firstMonthOfYear = newProp.firstMonthOfYear;\n        this.viewIndex = this.activeView.viewIndex;\n        state.isLayout = true;\n        break;\n\n      case 'monthsCount':\n        this.activeViewOptions.monthsCount = newProp.monthsCount;\n        this.viewIndex = this.activeView.viewIndex;\n        state.isLayout = true;\n        break;\n\n      case 'timeFormat':\n        this.internalTimeFormat = newProp.timeFormat || this.activeViewOptions.timeFormat;\n\n        if (this.eventWindow) {\n          this.eventWindow.refreshDateTimePicker();\n        }\n\n        state.isLayout = true;\n        break;\n\n      case 'enableAdaptiveUI':\n        if (this.showHeaderBar && this.headerModule) {\n          this.destroyHeaderModule();\n          this.headerModule = new HeaderRenderer(this);\n          this.headerModule.updateDateRange(this.activeView.getDateRangeText());\n        }\n\n        state.isLayout = true;\n        break;\n\n      case 'headerIndentTemplate':\n        this.activeViewOptions.headerIndentTemplate = newProp.headerIndentTemplate;\n        this.headerIndentTemplateFn = this.templateParser(this.activeViewOptions.headerIndentTemplate);\n        state.isLayout = true;\n        break;\n    }\n  };\n\n  Schedule.prototype.setRtlClass = function () {\n    if (this.enableRtl) {\n      addClass([this.element], 'e-rtl');\n    } else {\n      removeClass([this.element], 'e-rtl');\n    }\n  };\n\n  Schedule.prototype.onGroupSettingsPropertyChanged = function (newProp, oldProp, state) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      if (prop === 'headerTooltipTemplate') {\n        this.headerTooltipTemplateFn = this.templateParser(newProp[prop]);\n      } else {\n        state.isLayout = true;\n\n        if (this.eventWindow) {\n          this.eventWindow.refresh();\n        }\n      }\n    }\n  };\n\n  Schedule.prototype.onEventSettingsPropertyChanged = function (newProp, oldProp, state) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'dataSource':\n        case 'query':\n        case 'fields':\n          this.initializeDataModule();\n          state.isDataManager = true;\n          break;\n\n        case 'template':\n          this.activeViewOptions.eventTemplate = newProp.template;\n          this.appointmentTemplateFn = this.templateParser(this.activeViewOptions.eventTemplate);\n          state.isDataManager = true;\n          break;\n\n        case 'enableTooltip':\n          if (this.eventTooltip) {\n            this.eventTooltip.destroy();\n            this.eventTooltip = null;\n          }\n\n          if (newProp.enableTooltip) {\n            this.eventTooltip = new EventTooltip(this);\n          }\n\n          break;\n\n        case 'tooltipTemplate':\n          this.eventTooltipTemplateFn = this.templateParser(this.eventSettings.tooltipTemplate);\n          break;\n\n        case 'resourceColorField':\n          if (this.resourceBase) {\n            this.resourceBase.setResourceCollection();\n          }\n\n          state.isDataManager = true;\n          break;\n\n        case 'editFollowingEvents':\n          if (this.quickPopup) {\n            this.quickPopup.refreshQuickDialog();\n          }\n\n          break;\n\n        case 'allowAdding':\n        case 'allowEditing':\n        case 'allowDeleting':\n          if (this.showHeaderBar && this.headerModule) {\n            this.headerModule.updateAddIcon();\n          }\n\n          if (this.eventWindow) {\n            this.eventWindow.refresh();\n          }\n\n          break;\n\n        case 'spannedEventPlacement':\n        case 'minimumEventDuration':\n        case 'enableMaxHeight':\n        case 'enableIndicator':\n          this.refreshEvents(false);\n          break;\n\n        case 'ignoreWhitespace':\n          state.isLayout = true;\n          break;\n      }\n    }\n  };\n\n  Schedule.prototype.destroyHeaderModule = function () {\n    if (this.headerModule) {\n      this.headerModule.destroy();\n      this.headerModule = null;\n    }\n  };\n\n  Schedule.prototype.destroyPopups = function () {\n    if (this.quickPopup) {\n      this.quickPopup.destroy();\n      this.quickPopup = null;\n    }\n\n    if (this.eventWindow) {\n      this.eventWindow.destroy();\n      this.eventWindow = null;\n    }\n  };\n  /**\r\n   * Allows to show the spinner on schedule at the required scenarios.\r\n   *\r\n   * @function showSpinner\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.showSpinner = function () {\n    showSpinner(this.element);\n  };\n  /**\r\n   * When the spinner is shown manually using `showSpinner` method, it can be hidden using this `hideSpinner` method.\r\n   *\r\n   * @function hideSpinner\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.hideSpinner = function () {\n    hideSpinner(this.element);\n  };\n  /**\r\n   * Sets different working hours on the required working days by accepting the required start and end time as well as the date collection\r\n   *  as its parameters.\r\n   *\r\n   * @function setWorkHours\r\n   * @param {Date} dates Collection of dates on which the given start and end hour range needs to be applied.\r\n   * @param {string} start Defines the work start hour.\r\n   * @param {string} end Defines the work end hour.\r\n   * @param {number} groupIndex Defines the resource index from last level.\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.setWorkHours = function (dates, start, end, groupIndex) {\n    var cells = [];\n    cells = this.getWorkHourCells(dates, start, end, groupIndex);\n    addClass(cells, cls.WORK_HOURS_CLASS);\n  };\n  /**\r\n   * Removes or resets different working hours on the required working days by accepting the required start and end time as well as the\r\n   * date collection as its parameters.\r\n   * if no parameters has been passed to this function, it will remove all the work hours.\r\n   *\r\n   * @param {Date} dates Collection of dates on which the given start and end hour range need to be applied.\r\n   * @param {string} start Defines the work start hour.\r\n   * @param {string} end Defines the work end hour.\r\n   * @param {number} groupIndex Defines the resource index from last level.\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.resetWorkHours = function (dates, start, end, groupIndex) {\n    if (dates === void 0) {\n      dates = this.activeView.renderDates;\n    }\n\n    if (dates && start && end) {\n      var cells = this.getWorkHourCells(dates, start, end, groupIndex);\n      removeClass(cells, cls.WORK_HOURS_CLASS);\n    } else {\n      var workHourCells = [].slice.call(this.element.querySelectorAll('.' + cls.WORK_HOURS_CLASS));\n      removeClass(workHourCells, cls.WORK_HOURS_CLASS);\n    }\n  };\n\n  Schedule.prototype.getWorkHourCells = function (dates, start, end, groupIndex) {\n    if (['Agenda', 'MonthAgenda', 'Month', 'TimelineMonth'].indexOf(this.currentView) > -1) {\n      return [];\n    }\n\n    var startHour = this.getStartEndTime(start);\n    var endHour = this.getStartEndTime(end);\n    var tableEle = this.getContentTable();\n\n    if (isNullOrUndefined(startHour) || isNullOrUndefined(endHour) || !tableEle) {\n      return [];\n    }\n\n    startHour.setMilliseconds(0);\n    endHour.setMilliseconds(0);\n    var viewStartHour = this.activeView.getStartHour();\n\n    if (startHour < viewStartHour) {\n      startHour = viewStartHour;\n    }\n\n    var viewEndHour = this.activeView.getEndHour();\n\n    if (endHour > viewEndHour) {\n      endHour = viewEndHour;\n    }\n\n    var msMajorInterval = this.activeViewOptions.timeScale.interval * util.MS_PER_MINUTE;\n    var msInterval = msMajorInterval / this.activeViewOptions.timeScale.slotCount;\n    var startIndex = Math.round((startHour.getTime() - viewStartHour.getTime()) / msInterval);\n    var endIndex = Math.ceil((endHour.getTime() - viewStartHour.getTime()) / msInterval);\n    var tempStartIndex = startIndex;\n    var tempEndIndex = endIndex;\n    var cells = [];\n\n    for (var _i = 0, dates_1 = dates; _i < dates_1.length; _i++) {\n      var date = dates_1[_i];\n      date = this.getDateTime(date);\n      util.resetTime(date);\n      var renderDates = this.activeView.renderDates;\n\n      if (!isNullOrUndefined(groupIndex) && this.resourceBase && !this.activeView.isTimelineView()) {\n        renderDates = this.resourceBase.lastResourceLevel[groupIndex].renderDates;\n      }\n\n      var colIndex = this.getIndexOfDate(renderDates, date);\n\n      if (colIndex >= 0) {\n        if (this.activeView.isTimelineView()) {\n          var slotsPerDay = Math.round((viewEndHour.getTime() - viewStartHour.getTime()) / msInterval);\n          startIndex = tempStartIndex + colIndex * slotsPerDay;\n          endIndex = tempEndIndex + colIndex * slotsPerDay;\n        }\n\n        for (var i = startIndex; i < endIndex; i++) {\n          if (this.activeView.isTimelineView()) {\n            var rowIndex = !isNullOrUndefined(groupIndex) ? groupIndex : 0;\n            cells.push(tableEle.rows[rowIndex].cells[i]);\n          } else {\n            if (!isNullOrUndefined(groupIndex)) {\n              var selector = '.' + cls.WORK_CELLS_CLASS + '[data-group-index=\"' + groupIndex + '\"]';\n              var tds = [].slice.call(tableEle.rows[i].querySelectorAll(selector));\n              cells.push(tds[colIndex]);\n            } else {\n              cells.push(tableEle.rows[i].cells[colIndex]);\n            }\n          }\n        }\n      }\n    }\n\n    return cells;\n  };\n  /**\r\n   * Retrieves the start and end time information of the specific cell element.\r\n   *\r\n   * @function getCellDetails\r\n   * @param {Element | Element[]} tdCol Accepts the single or collection of elements.\r\n   * @returns {CellClickEventArgs} Object An object holding the startTime, endTime and all-day information along with the target HTML element will be returned.\r\n   */\n\n\n  Schedule.prototype.getCellDetails = function (tdCol) {\n    var td = tdCol instanceof Array ? tdCol : [tdCol];\n    var firstTd = getElement(td[0]);\n    var lastTd = getElement(td.slice(-1)[0]);\n    var startTime = this.getDateFromElement(firstTd);\n    var endTime = this.getDateFromElement(lastTd);\n\n    if (isNullOrUndefined(startTime) || isNullOrUndefined(endTime)) {\n      return undefined;\n    }\n\n    var endDateFromColSpan = this.activeView.isTimelineView() && !isNullOrUndefined(lastTd.getAttribute('colSpan')) && this.headerRows.length > 0;\n    var duration = endDateFromColSpan ? parseInt(lastTd.getAttribute('colSpan'), 10) : 1;\n\n    if (!this.activeViewOptions.timeScale.enable || endDateFromColSpan || lastTd.classList.contains(cls.ALLDAY_CELLS_CLASS) || lastTd.classList.contains(cls.HEADER_CELLS_CLASS)) {\n      endTime = util.addDays(new Date(endTime.getTime()), duration);\n    } else {\n      endTime = this.activeView.getEndDateFromStartDate(endTime);\n    }\n\n    var data = {\n      startTime: startTime,\n      endTime: endTime,\n      isAllDay: this.isAllDayCell(firstTd),\n      element: tdCol\n    };\n    var groupIndex = firstTd.getAttribute('data-group-index');\n\n    if (!isNullOrUndefined(groupIndex)) {\n      data.groupIndex = parseInt(groupIndex, 10);\n    }\n\n    return data;\n  };\n  /**\r\n   * Retrieves the selected cell elements.\r\n   *\r\n   * @function getSelectedElements\r\n   * @returns {Element[]} The elements of currently selected cells will be returned.\r\n   */\n\n\n  Schedule.prototype.getSelectedElements = function () {\n    return [].slice.call(this.element.querySelectorAll('.' + cls.SELECTED_CELL_CLASS));\n  };\n  /**\r\n   * To get the resource collection\r\n   *\r\n   * @function getResourceCollections\r\n   * @returns {ResourcesModel[]} Returns the resource collections\r\n   */\n\n\n  Schedule.prototype.getResourceCollections = function () {\n    return this.resourceCollection;\n  };\n  /**\r\n   * To set the resource collection\r\n   *\r\n   * @function setResourceCollections\r\n   * @param {ResourcesModel[]} resourceCol Accepts the resource collections in ResourcesModel type\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.setResourceCollections = function (resourceCol) {\n    this.setProperties({\n      resources: resourceCol\n    }, false);\n  };\n  /**\r\n   * Current View could be change based on the provided parameters.\r\n   *\r\n   * @function changeCurrentView\r\n   * @param {View} viewName Accept the view in the viewCollections.\r\n   * @param {number} viewIndex Accept the viewIndex in the viewCollections.\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.changeCurrentView = function (viewName, viewIndex) {\n    var index = this.getViewIndex(viewName);\n    var view = viewName.charAt(0).toLowerCase() + viewName.slice(1);\n    var viewOptions = this.viewOptions[view];\n\n    if (viewOptions) {\n      index = this.viewCollections.indexOf(viewOptions[viewIndex || 0]);\n    }\n\n    if (index === -1 || index === this.viewIndex) {\n      return;\n    }\n\n    this.changeView(viewName, null, null, index);\n  };\n  /**\r\n   * Return the current view Index.\r\n   *\r\n   * @function getCurrentViewIndex\r\n   * @returns {number} Returns the view index\r\n   */\n\n\n  Schedule.prototype.getCurrentViewIndex = function () {\n    return this.viewIndex;\n  };\n  /**\r\n   * Retrieves the resource details based on the provided resource index.\r\n   *\r\n   * @param {number} index index of the resources at the last level.\r\n   * @returns {ResourceDetails} Object An object holding the details of resource and resourceData.\r\n   */\n\n\n  Schedule.prototype.getResourcesByIndex = function (index) {\n    if (this.resourceBase && this.resourceBase.lastResourceLevel) {\n      if (index < 0 || index >= this.resourceBase.lastResourceLevel.length) {\n        return undefined;\n      }\n\n      var data = this.resourceBase.lastResourceLevel[index];\n      var groupData = {};\n      this.resourceBase.setResourceValues(groupData, index);\n      return {\n        resource: data.resource,\n        resourceData: data.resourceData,\n        groupData: groupData\n      };\n    }\n\n    return undefined;\n  };\n  /**\r\n   * This method allows to expand the resource that available on the scheduler.\r\n   *\r\n   * @function expandResource\r\n   * @param {string | number} resourceId Accepts the resource id in either string or number type\r\n   * @param {string} name Accepts the name of the resource collection\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.expandResource = function (resourceId, name) {\n    if (this.activeView.isTimelineView() && this.resourceBase && this.resourceCollection.length > 1) {\n      this.resourceBase.resourceExpand(resourceId, name, false);\n    }\n  };\n  /**\r\n   * This method allows to collapse the resource that available on the scheduler.\r\n   *\r\n   * @function collapseResource\r\n   * @param {string | number} resourceId Accepts the resource id in either string or number type\r\n   * @param {string} name Accepts the name of the resource collection\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.collapseResource = function (resourceId, name) {\n    if (this.activeView.isTimelineView() && this.resourceBase && this.resourceCollection.length > 1) {\n      this.resourceBase.resourceExpand(resourceId, name, true);\n    }\n  };\n  /**\r\n   * Scrolls the Schedule content area to the specified time.\r\n   *\r\n   * @function scrollTo\r\n   * @param {string} hour Accepts the time value in the skeleton format of 'Hm'.\r\n   * @param {Date} scrollDate Accepts the date object value.\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.scrollTo = function (hour, scrollDate) {\n    if (this.activeView.scrollToDate && isNullOrUndefined(hour) && scrollDate) {\n      this.activeView.scrollToDate(scrollDate);\n    } else if (this.activeView.scrollToHour) {\n      this.activeView.scrollToHour(hour, scrollDate);\n    }\n  };\n  /**\r\n   * This method allows scroll to the position of the any resources that available on the scheduler.\r\n   * This method is applicable for without Agenda and Month agenda views of the schedule.\r\n   *\r\n   * @function scrollToResource\r\n   * @param {string | number} resourceId Accepts the resource id in either string or number type\r\n   * @param {string} groupName Accepts the name of the resource collection\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.scrollToResource = function (resourceId, groupName) {\n    if (this.resourceBase && this.resourceBase.lastResourceLevel) {\n      this.resourceBase.resourceScroll(resourceId, groupName);\n    }\n  };\n  /**\r\n   * Exports the Scheduler events to a calendar (.ics) file. By default, the calendar is exported with a file name `Calendar.ics`.\r\n   * To change this file name on export, pass the custom string value as `fileName` to get the file downloaded with this provided name.\r\n   *\r\n   * @function exportToICalendar\r\n   * @param {string} fileName Accepts the string value.\r\n   * @param {Object[]} customData Accepts the collection of objects.\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.exportToICalendar = function (fileName, customData) {\n    if (this.iCalendarExportModule) {\n      this.iCalendarExportModule.initializeCalendarExport(fileName, customData);\n    } else {\n      throw Error('Inject ICalendarExport module');\n    }\n  };\n  /**\r\n   * Imports the events from an .ics file downloaded from any of the calendars like Google or Outlook into the Scheduler.\r\n   * This method accepts the blob object or string format of an .ics file to be imported as a mandatory argument.\r\n   *\r\n   * @function importICalendar\r\n   * @param {Blob | string} fileContent Accepts the file object or string format of an .ics file.\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.importICalendar = function (fileContent) {\n    if (this.iCalendarImportModule) {\n      this.iCalendarImportModule.initializeCalendarImport(fileContent);\n    } else {\n      throw Error('Inject ICalendarImport module');\n    }\n  };\n  /**\r\n   * Adds the newly created event into the Schedule dataSource.\r\n   *\r\n   * @function addEvent\r\n   * @param {Object | Object[]} data Single or collection of event objects to be added into Schedule.\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.addEvent = function (data) {\n    this.crudModule.addEvent(data);\n  };\n  /**\r\n   * Allows the Scheduler events data to be exported as an Excel file either in .xlsx or .csv file formats.\r\n   * By default, the whole event collection bound to the Scheduler gets exported as an Excel file.\r\n   * To export only the specific events of Scheduler, you need to pass the custom data collection as\r\n   * a parameter to this `exportToExcel` method. This method accepts the export options as arguments such as fileName,\r\n   * exportType, fields, customData, and includeOccurrences. The `fileName` denotes the name to be given for the exported\r\n   * file and the `exportType` allows you to set the format of an Excel file to be exported either as .xlsx or .csv.\r\n   * The custom or specific field collection of event dataSource to be exported can be provided through `fields` option\r\n   * and the custom data collection can be exported by passing them through the `customData` option. There also exists\r\n   * option to export each individual instances of the recurring events to an Excel file, by setting true or false to the\r\n   * `includeOccurrences` option, denoting either to include or exclude the occurrences as separate instances on an exported Excel file.\r\n   *\r\n   * @function exportToExcel\r\n   * @param {ExportOptions} excelExportOptions The export options to be set before start with exporting the Scheduler events to an Excel file.\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.exportToExcel = function (excelExportOptions) {\n    if (this.excelExportModule) {\n      this.excelExportModule.initializeExcelExport(excelExportOptions);\n    } else {\n      throw Error('Inject ExcelExport module');\n    }\n  };\n  /**\r\n   * Method allows to print the scheduler.\r\n   *\r\n   * @function print\r\n   * @param {ScheduleModel} printOptions The export options to be set before start with exporting\r\n   * the Scheduler events to the print window.\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.print = function (printOptions) {\n    if (this.printModule) {\n      this.printModule.print(printOptions);\n    } else {\n      throw Error('Inject Print module');\n    }\n  };\n  /**\r\n   * Updates the changes made in the event object by passing it as an parameter into the dataSource.\r\n   *\r\n   * @function saveEvent\r\n   * @param {Object | Object[]} data Single or collection of event objects to be saved into Schedule.\r\n   * @param {CurrentAction} currentAction Denotes the action that takes place either for editing occurrence or series.\r\n   *  The valid current action names are `EditOccurrence` or `EditSeries`.\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.saveEvent = function (data, currentAction) {\n    this.crudModule.saveEvent(data, currentAction);\n  };\n  /**\r\n   * Deletes the events based on the provided ID or event collection in the argument list.\r\n   *\r\n   * @function deleteEvent\r\n   * @param {string | number | Object | Object[]} id Accepts the ID as string or number type or single or collection of the event object which needs to be removed from the Schedule.\r\n   * @param {CurrentAction} currentAction Denotes the delete action that takes place either on occurrence or series events.\r\n   *  The valid current action names are `Delete`, `DeleteOccurrence` or `DeleteSeries`.\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.deleteEvent = function (id, currentAction) {\n    this.crudModule.deleteEvent(id, currentAction);\n  };\n  /**\r\n   * Retrieves the entire collection of events bound to the Schedule.\r\n   *\r\n   * @function getEvents\r\n   * @param {Date} startDate Accepts the start date.\r\n   * @param {Date} endDate Accepts te end date.\r\n   * @param {boolean} includeOccurrences Accepts the boolean value to process the occurrence from recurrence series.\r\n   * @returns {Object[]} Returns the collection of event objects from the Schedule.\r\n   */\n\n\n  Schedule.prototype.getEvents = function (startDate, endDate, includeOccurrences) {\n    var eventCollections = [];\n\n    if (includeOccurrences) {\n      eventCollections = this.eventBase.getProcessedEvents();\n    } else {\n      eventCollections = this.eventsData;\n    }\n\n    if (startDate) {\n      startDate = this.getDateTime(startDate);\n    }\n\n    if (endDate) {\n      endDate = this.getDateTime(endDate);\n    }\n\n    eventCollections = this.eventBase.filterEventsByRange(eventCollections, startDate, endDate);\n    return eventCollections;\n  };\n  /**\r\n   * Retrieves the entire collection of block events bound to the Schedule.\r\n   *\r\n   * @function getBlockEvents\r\n   * @param {Date} startDate Accepts the start date.\r\n   * @param {Date} endDate Accepts te end date.\r\n   * @param {boolean} includeOccurrences Accepts the boolean value to process the occurrence from recurrence series.\r\n   * @returns {Object[]} Returns the collection of block event objects from the Schedule.\r\n   */\n\n\n  Schedule.prototype.getBlockEvents = function (startDate, endDate, includeOccurrences) {\n    var eventCollections = [];\n\n    if (includeOccurrences) {\n      eventCollections = this.eventBase.getProcessedEvents(this.blockData);\n    } else {\n      eventCollections = this.blockData;\n    }\n\n    if (startDate) {\n      startDate = this.getDateTime(startDate);\n    }\n\n    if (endDate) {\n      endDate = this.getDateTime(endDate);\n    }\n\n    eventCollections = this.eventBase.filterEventsByRange(eventCollections, startDate, endDate);\n    return eventCollections;\n  };\n  /**\r\n   * Retrieves the occurrences of a single recurrence event based on the provided parent ID.\r\n   *\r\n   * @function getOccurrencesByID\r\n   * @param {number} eventID ID of the parent recurrence data from which the occurrences are fetched.\r\n   * @returns {Object[]} Returns the collection of occurrence event objects.\r\n   */\n\n\n  Schedule.prototype.getOccurrencesByID = function (eventID) {\n    return this.eventBase.getOccurrencesByID(eventID);\n  };\n  /**\r\n   * Retrieves all the occurrences that lies between the specific start and end time range.\r\n   *\r\n   * @function getOccurrencesByRange\r\n   * @param {Date} startTime Denotes the start time range.\r\n   * @param {Date} endTime Denotes the end time range.\r\n   * @returns {Object[]} Returns the collection of occurrence event objects that lies between the provided start and end time.\r\n   */\n\n\n  Schedule.prototype.getOccurrencesByRange = function (startTime, endTime) {\n    startTime = this.getDateTime(startTime);\n    endTime = this.getDateTime(endTime);\n    return this.eventBase.getOccurrencesByRange(startTime, endTime);\n  };\n  /**\r\n   * Retrieves the dates that lies on active view of Schedule.\r\n   *\r\n   * @function getCurrentViewDates\r\n   * @returns {Date[]} Returns the collection of dates.\r\n   */\n\n\n  Schedule.prototype.getCurrentViewDates = function () {\n    return this.activeView ? this.activeView.renderDates : [];\n  };\n  /**\r\n   * Set the recurrence editor instance from custom editor template.\r\n   *\r\n   * @function setRecurrenceEditor\r\n   * @param {RecurrenceEditor} recurrenceEditor instance has passed to fetch the instance in event window.\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.setRecurrenceEditor = function (recurrenceEditor) {\n    this.eventWindow.setRecurrenceEditor(recurrenceEditor);\n  };\n  /**\r\n   * Get the maximum id of an event.\r\n   *\r\n   * @function getEventMaxID\r\n   * @returns {number | string} Returns the maximum ID from scheduler data collections.\r\n   */\n\n\n  Schedule.prototype.getEventMaxID = function () {\n    return this.eventBase.getEventMaxID();\n  };\n  /**\r\n   * Get deleted occurrences from given recurrence series.\r\n   *\r\n   * @function getDeletedOccurrences\r\n   * @param {string | number | Object} recurrenceData Accepts the parent ID of the event object or parent event object\r\n   * @returns {Object[]} Returns the collection of deleted occurrence events.\r\n   */\n\n\n  Schedule.prototype.getDeletedOccurrences = function (recurrenceData) {\n    return this.eventBase.getDeletedOccurrences(recurrenceData);\n  };\n  /**\r\n   * Retrieves the events that lies on the current date range of the active view of Schedule.\r\n   *\r\n   * @function getCurrentViewEvents\r\n   * @returns {Object[]} Returns the collection of events.\r\n   */\n\n\n  Schedule.prototype.getCurrentViewEvents = function () {\n    return this.eventsProcessed;\n  };\n  /**\r\n   * Refreshes the event dataSource. This method may be useful when the events alone in the schedule needs to be re-rendered.\r\n   *\r\n   * @function refreshEvents\r\n   * @param {boolean} isRemoteRefresh Accepts the boolean to refresh data from remote or local\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.refreshEvents = function (isRemoteRefresh) {\n    if (isRemoteRefresh === void 0) {\n      isRemoteRefresh = true;\n    }\n\n    if (this.dragAndDropModule) {\n      this.dragAndDropModule.actionObj.action = '';\n      removeClass([this.element], cls.EVENT_ACTION_CLASS);\n    }\n\n    if (isRemoteRefresh) {\n      this.crudModule.refreshDataManager();\n    } else {\n      if (this.activeViewOptions && this.activeViewOptions.eventTemplate) {\n        this.resetTemplates(['eventTemplate']);\n      }\n\n      var eventsData = this.eventsData || [];\n      var blockData = this.blockData || [];\n      var data = eventsData.concat(blockData);\n      this.notify(events.dataReady, {\n        processedData: this.eventBase ? this.eventBase.processData(data) : []\n      });\n    }\n  };\n  /**\r\n   * Method to refresh the given Schedule templates\r\n   *\r\n   * @param {string} templateName Accepts the template name\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.refreshTemplates = function (templateName) {\n    if (templateName) {\n      this.resetTemplates([templateName]);\n    } else {\n      this.resetTemplates();\n    }\n\n    switch (templateName) {\n      case 'eventTemplate':\n        this.appointmentTemplateFn = this.templateParser(this.activeViewOptions.eventTemplate);\n        this.refreshEvents(false);\n        break;\n\n      case 'dateHeaderTemplate':\n        this.dateHeaderTemplateFn = this.templateParser(this.activeViewOptions.dateHeaderTemplate);\n        this.activeView.refreshHeader();\n        break;\n\n      case 'resourceHeaderTemplate':\n        this.resourceHeaderTemplateFn = this.templateParser(this.activeViewOptions.resourceHeaderTemplate);\n\n        if (this.activeView.isTimelineView()) {\n          this.activeView.refreshResourceHeader();\n        } else {\n          this.activeView.refreshHeader();\n        }\n\n        break;\n\n      case 'quickInfoTemplates':\n        if (this.quickPopup) {\n          this.quickPopup.destroy();\n          this.quickPopup = null;\n        }\n\n        this.quickPopup = new QuickPopups(this);\n        this.quickInfoTemplatesHeaderFn = this.templateParser(this.quickInfoTemplates.header);\n        this.quickInfoTemplatesContentFn = this.templateParser(this.quickInfoTemplates.content);\n        this.quickInfoTemplatesFooterFn = this.templateParser(this.quickInfoTemplates.footer);\n        break;\n\n      case 'editorTemplate':\n        if (this.eventWindow) {\n          this.eventWindow.destroy();\n          this.eventWindow = null;\n        }\n\n        this.eventWindow = new EventWindow(this);\n        this.editorTemplateFn = this.templateParser(this.editorTemplate);\n        break;\n\n      case 'tooltipTemplate':\n      case 'headerTooltipTemplate':\n        if (this.eventTooltip) {\n          this.eventTooltip.destroy();\n          this.eventTooltip = null;\n        }\n\n        this.eventTooltip = new EventTooltip(this);\n        this.eventTooltipTemplateFn = this.templateParser(this.eventSettings.tooltipTemplate);\n        this.headerTooltipTemplateFn = this.templateParser(this.activeViewOptions.group.headerTooltipTemplate);\n        break;\n\n      default:\n        this.initializeView(this.currentView);\n        break;\n    }\n  };\n  /**\r\n   * Refreshes the Schedule layout without re-render.\r\n   *\r\n   * @function refreshLayout\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.refreshLayout = function () {\n    this.onScheduleResize();\n\n    if (this.headerModule) {\n      this.headerModule.refresh();\n    }\n\n    if (this.eventWindow) {\n      this.eventWindow.refresh();\n    }\n  };\n  /**\r\n   * To retrieve the appointment object from element.\r\n   *\r\n   * @function getEventDetails\r\n   * @param {Element} element Denotes the event UI element on the Schedule.\r\n   * @returns {Object} Returns the event details.\r\n   */\n\n\n  Schedule.prototype.getEventDetails = function (element) {\n    element = getElement(element);\n    var guid = element.getAttribute('data-guid');\n\n    if (guid) {\n      return this.eventBase.getEventByGuid(guid);\n    }\n\n    return {};\n  };\n  /**\r\n   * To check whether the given time range slots are available for event creation or already occupied by other events.\r\n   *\r\n   * @function isSlotAvailable\r\n   * @param {Date | Object} startTime Denotes the start time of the slot.\r\n   * @param {Date} endTime Denotes the end time of the slot.\r\n   * @param {number} groupIndex Defines the resource index from last level.\r\n   * @returns {boolean} Returns true, if the slot that lies in the provided time range does not contain any other events.\r\n   */\n\n\n  Schedule.prototype.isSlotAvailable = function (startTime, endTime, groupIndex) {\n    var _this = this;\n\n    var eventStart;\n    var eventEnd;\n    var eventObj = this.activeEventData.event;\n\n    if (startTime instanceof Date || typeof startTime === 'string') {\n      eventStart = startTime;\n      eventEnd = endTime;\n    } else {\n      eventObj = startTime;\n      eventStart = startTime[this.eventFields.startTime];\n      eventEnd = startTime[this.eventFields.endTime];\n\n      if (this.resourceBase) {\n        groupIndex = this.eventBase.getGroupIndexFromEvent(startTime);\n      }\n    }\n\n    if (isNullOrUndefined(eventStart) || isNullOrUndefined(eventEnd)) {\n      return true;\n    }\n\n    eventStart = this.getDateTime(eventStart);\n    eventEnd = this.getDateTime(eventEnd);\n    var eventCollection = this.eventBase.filterEvents(eventStart, eventEnd);\n\n    if (!isNullOrUndefined(groupIndex) && this.resourceBase && this.resourceBase.lastResourceLevel.length > 0) {\n      eventCollection = this.eventBase.filterEventsByResource(this.resourceBase.lastResourceLevel[groupIndex], eventCollection);\n    }\n\n    if (eventObj) {\n      if (eventObj.Guid) {\n        eventCollection = eventCollection.filter(function (event) {\n          return event.Guid !== eventObj.Guid;\n        });\n      } else {\n        eventCollection = eventCollection.filter(function (event) {\n          return event[_this.eventFields.id] !== eventObj[_this.eventFields.id];\n        });\n      }\n    }\n\n    return eventCollection.length > 0 ? false : true;\n  };\n  /**\r\n   * To manually open the event editor on specific time or on certain events.\r\n   *\r\n   * @function openEditor\r\n   * @param {Object} data It can be either cell data or event data.\r\n   * @param {CurrentAction} action Defines the action for which the editor needs to be opened such as either for new event creation or\r\n   *  for editing of existing events. The applicable action names that can be used here are `Add`, `Save`, `EditOccurrence`\r\n   *  and `EditSeries`.\r\n   * @param {boolean} isEventData It allows to decide whether the editor needs to be opened with the clicked cell details or with the\r\n   *  passed event details.\r\n   * @param {number} repeatType It opens the editor with the recurrence options based on the provided repeat type.\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.openEditor = function (data, action, isEventData, repeatType) {\n    if (action === 'Add' && !isEventData) {\n      data.startTime = this.getDateTime(data.startTime);\n      data.endTime = this.getDateTime(data.endTime);\n\n      if (!isNullOrUndefined(data.element)) {\n        data.element = getElement(data.element);\n      }\n    } else {\n      data[this.eventFields.startTime] = this.getDateTime(data[this.eventFields.startTime]);\n      data[this.eventFields.endTime] = this.getDateTime(data[this.eventFields.endTime]);\n    }\n\n    this.currentAction = action;\n\n    if (action !== 'Add') {\n      this.activeEventData.event = data;\n    }\n\n    this.eventWindow.openEditor(data, action, isEventData, repeatType);\n  };\n  /**\r\n   * To manually close the event editor window\r\n   *\r\n   * @function closeEditor\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.closeEditor = function () {\n    if (this.eventWindow) {\n      this.eventWindow.dialogClose();\n    }\n  };\n  /**\r\n   * To manually close the quick info popup\r\n   *\r\n   * @function closeQuickInfoPopup\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.closeQuickInfoPopup = function () {\n    if (this.quickPopup) {\n      this.quickPopup.quickPopupHide(true);\n    }\n  };\n  /**\r\n   * Select the resource based on group index in mobile mode.\r\n   *\r\n   * @param {number} groupIndex Defines the resource index based on last level.\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.selectResourceByIndex = function (groupIndex) {\n    if (this.resourceBase && this.uiStateValues.isGroupAdaptive) {\n      this.resourceBase.selectResourceByIndex(groupIndex);\n    }\n  };\n  /**\r\n   * Select the resources to the based on id.\r\n   *\r\n   * @param {string | number} id id of the resource defined in resources collection.\r\n   * @param {string} name Name of the resource defined in resources collection.\r\n   * @returns {number} Returns the group index\r\n   */\n\n\n  Schedule.prototype.getIndexFromResourceId = function (id, name) {\n    if (this.resourceBase) {\n      return this.resourceBase.getIndexFromResourceId(id, name);\n    }\n\n    return null;\n  };\n  /**\r\n   * Adds the resources to the specified index.\r\n   *\r\n   * @param {Object | Object[]} resources Accepts the resource data in single or collection of data.\r\n   * @param {string} name Name of the resource defined in resources collection.\r\n   * @param {number} index Index or position where the resource should be added.\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.addResource = function (resources, name, index) {\n    this.resourceBase.addResource(resources, name, index);\n  };\n  /**\r\n   * Removes the specified resource.\r\n   *\r\n   * @param {string | string[] | number | number[]} resourceId Specifies the resource id to be removed.\r\n   * @param {string} name Specifies the resource name from which the id should be referred.\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.removeResource = function (resourceId, name) {\n    this.resourceBase.removeResource(resourceId, name);\n  };\n  /**\r\n   * Destroys the Schedule component.\r\n   *\r\n   * @function destroy\r\n   * @returns {void}\r\n   */\n\n\n  Schedule.prototype.destroy = function () {\n    if (this.eventTooltip) {\n      this.eventTooltip.destroy();\n      this.eventTooltip = null;\n    }\n\n    this.destroyPopups();\n    this.hideSpinner();\n    this.unWireEvents();\n    this.destroyHeaderModule();\n\n    if (this.eventTooltip) {\n      this.eventTooltip.destroy();\n      this.eventTooltip = null;\n    }\n\n    if (this.eventBase) {\n      this.eventBase.destroy();\n      this.eventBase = null;\n    }\n\n    if (this.workCellAction) {\n      this.workCellAction.destroy();\n      this.workCellAction = null;\n    }\n\n    if (this.inlineModule) {\n      this.inlineModule.destroy();\n      this.inlineModule = null;\n    }\n\n    if (this.keyboardInteractionModule) {\n      this.keyboardInteractionModule.destroy();\n      this.keyboardInteractionModule = null;\n    }\n\n    if (this.scrollModule) {\n      this.scrollModule.destroy();\n      this.scrollModule = null;\n    }\n\n    if (this.printModule) {\n      this.printModule.destroy();\n    }\n\n    if (this.activeView) {\n      this.resetTemplates();\n      this.activeView.removeEventListener();\n      this.activeView.destroy();\n      this.activeView = null;\n    }\n\n    if (this.scheduleTouchModule) {\n      this.scheduleTouchModule.destroy();\n      this.scheduleTouchModule = null;\n    }\n\n    if (this.crudModule) {\n      this.crudModule.destroy();\n      this.crudModule = null;\n    }\n\n    if (this.dataModule) {\n      this.dataModule.destroy();\n      this.dataModule = null;\n    }\n\n    _super.prototype.destroy.call(this);\n\n    var modules = ['dayModule', 'weekModule', 'workWeekModule', 'monthModule', 'monthAgendaModule', 'yearModule', 'agendaModule', 'timelineViewsModule', 'timelineMonthModule', 'timelineYearModule', 'resizeModule', 'dragAndDropModule', 'excelExportModule', 'printModule', 'iCalendarExportModule', 'iCalendarImportModule', 'tzModule', 'eventsData', 'eventsProcessed', 'blockData', 'blockProcessed', 'uiStateValues', 'viewCollections', 'viewOptions', 'defaultLocale', 'localeObj', 'selectedElements', 'resourceCollection', 'editorTitles', 'eventFields', 'activeViewOptions', 'activeEventData', 'activeCellsData', 'renderModule'];\n\n    for (var _i = 0, modules_1 = modules; _i < modules_1.length; _i++) {\n      var module = modules_1[_i];\n      this[module] = null;\n    }\n\n    util.removeChildren(this.element);\n    var removeClasses = [cls.ROOT, cls.RTL, cls.DEVICE_CLASS, cls.MULTI_DRAG];\n\n    if (this.cssClass) {\n      removeClasses = removeClasses.concat(this.cssClass.split(' '));\n    }\n\n    removeClass([this.element], removeClasses);\n  };\n\n  __decorate([Property('auto')], Schedule.prototype, \"width\", void 0);\n\n  __decorate([Property('auto')], Schedule.prototype, \"height\", void 0);\n\n  __decorate([Property(true)], Schedule.prototype, \"showHeaderBar\", void 0);\n\n  __decorate([Property(true)], Schedule.prototype, \"showTimeIndicator\", void 0);\n\n  __decorate([Property('Week')], Schedule.prototype, \"currentView\", void 0);\n\n  __decorate([Property(['Day', 'Week', 'WorkWeek', 'Month', 'Agenda'])], Schedule.prototype, \"views\", void 0);\n\n  __decorate([Property(new Date())], Schedule.prototype, \"selectedDate\", void 0);\n\n  __decorate([Property(new Date(1900, 0, 1))], Schedule.prototype, \"minDate\", void 0);\n\n  __decorate([Property(new Date(2099, 11, 31))], Schedule.prototype, \"maxDate\", void 0);\n\n  __decorate([Property()], Schedule.prototype, \"dateFormat\", void 0);\n\n  __decorate([Property('Gregorian')], Schedule.prototype, \"calendarMode\", void 0);\n\n  __decorate([Property(true)], Schedule.prototype, \"showWeekend\", void 0);\n\n  __decorate([Property(0)], Schedule.prototype, \"firstDayOfWeek\", void 0);\n\n  __decorate([Property('FirstDay')], Schedule.prototype, \"weekRule\", void 0);\n\n  __decorate([Property([1, 2, 3, 4, 5])], Schedule.prototype, \"workDays\", void 0);\n\n  __decorate([Property(12)], Schedule.prototype, \"monthsCount\", void 0);\n\n  __decorate([Property('00:00')], Schedule.prototype, \"startHour\", void 0);\n\n  __decorate([Property('24:00')], Schedule.prototype, \"endHour\", void 0);\n\n  __decorate([Property(null)], Schedule.prototype, \"timeFormat\", void 0);\n\n  __decorate([Property(false)], Schedule.prototype, \"enableAllDayScroll\", void 0);\n\n  __decorate([Property(false)], Schedule.prototype, \"enableAdaptiveUI\", void 0);\n\n  __decorate([Property(true)], Schedule.prototype, \"allowResizing\", void 0);\n\n  __decorate([Complex({}, WorkHours)], Schedule.prototype, \"workHours\", void 0);\n\n  __decorate([Complex({}, TimeScale)], Schedule.prototype, \"timeScale\", void 0);\n\n  __decorate([Property(true)], Schedule.prototype, \"allowKeyboardInteraction\", void 0);\n\n  __decorate([Property(true)], Schedule.prototype, \"allowDragAndDrop\", void 0);\n\n  __decorate([Property()], Schedule.prototype, \"dateHeaderTemplate\", void 0);\n\n  __decorate([Property()], Schedule.prototype, \"cellHeaderTemplate\", void 0);\n\n  __decorate([Property()], Schedule.prototype, \"dayHeaderTemplate\", void 0);\n\n  __decorate([Property()], Schedule.prototype, \"monthHeaderTemplate\", void 0);\n\n  __decorate([Property()], Schedule.prototype, \"cellTemplate\", void 0);\n\n  __decorate([Property(false)], Schedule.prototype, \"readonly\", void 0);\n\n  __decorate([Property(true)], Schedule.prototype, \"showQuickInfo\", void 0);\n\n  __decorate([Property(false)], Schedule.prototype, \"allowInline\", void 0);\n\n  __decorate([Property(true)], Schedule.prototype, \"allowMultiCellSelection\", void 0);\n\n  __decorate([Property(true)], Schedule.prototype, \"allowMultiRowSelection\", void 0);\n\n  __decorate([Property(false)], Schedule.prototype, \"quickInfoOnSelectionEnd\", void 0);\n\n  __decorate([Property(false)], Schedule.prototype, \"showWeekNumber\", void 0);\n\n  __decorate([Property(false)], Schedule.prototype, \"rowAutoHeight\", void 0);\n\n  __decorate([Property(false)], Schedule.prototype, \"allowMultiDrag\", void 0);\n\n  __decorate([Property(0)], Schedule.prototype, \"firstMonthOfYear\", void 0);\n\n  __decorate([Property()], Schedule.prototype, \"editorTemplate\", void 0);\n\n  __decorate([Complex({}, QuickInfoTemplates)], Schedule.prototype, \"quickInfoTemplates\", void 0);\n\n  __decorate([Property(7)], Schedule.prototype, \"agendaDaysCount\", void 0);\n\n  __decorate([Property(true)], Schedule.prototype, \"hideEmptyAgendaDays\", void 0);\n\n  __decorate([Property(true)], Schedule.prototype, \"enableRecurrenceValidation\", void 0);\n\n  __decorate([Property()], Schedule.prototype, \"timezone\", void 0);\n\n  __decorate([Complex({}, EventSettings)], Schedule.prototype, \"eventSettings\", void 0);\n\n  __decorate([Property(timezoneData)], Schedule.prototype, \"timezoneDataSource\", void 0);\n\n  __decorate([Property()], Schedule.prototype, \"resourceHeaderTemplate\", void 0);\n\n  __decorate([Property()], Schedule.prototype, \"headerIndentTemplate\", void 0);\n\n  __decorate([Complex({}, Group)], Schedule.prototype, \"group\", void 0);\n\n  __decorate([Collection([], Resources)], Schedule.prototype, \"resources\", void 0);\n\n  __decorate([Collection([], HeaderRows)], Schedule.prototype, \"headerRows\", void 0);\n\n  __decorate([Property()], Schedule.prototype, \"cssClass\", void 0);\n\n  __decorate([Property()], Schedule.prototype, \"eventDragArea\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"created\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"destroyed\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"cellClick\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"cellDoubleClick\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"moreEventsClick\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"hover\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"select\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"actionBegin\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"actionComplete\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"actionFailure\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"navigating\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"renderCell\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"eventClick\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"eventRendered\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"dataBinding\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"popupOpen\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"popupClose\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"dragStart\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"drag\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"dragStop\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"resizeStart\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"resizing\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"resizeStop\", void 0);\n\n  __decorate([Event()], Schedule.prototype, \"dataBound\", void 0);\n\n  Schedule = __decorate([NotifyPropertyChanges], Schedule);\n  return Schedule;\n}(Component);\n\nexport { Schedule };","map":{"version":3,"sources":["D:/HUST/20211/Introduction to Software Engineering/Project/Sprint 2/RubyGYM/client/node_modules/@syncfusion/ej2-schedule/src/schedule/base/schedule.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","Property","Event","Animation","Collection","append","EventHandler","Browser","Internationalization","getDefaultDateObject","cldrData","L10n","getValue","compile","extend","isNullOrUndefined","NotifyPropertyChanges","Complex","getElement","removeClass","addClass","classList","remove","createSpinner","hideSpinner","showSpinner","HeaderRenderer","Scroll","ScheduleTouch","KeyboardInteraction","Data","EventBase","InlineEdit","QuickPopups","EventTooltip","EventWindow","Render","WorkHours","TimeScale","QuickInfoTemplates","HeaderRows","Crud","WorkCellInteraction","EventSettings","Group","Resources","Gregorian","Islamic","ResourceBase","Timezone","timezoneData","events","cls","util","Schedule","_super","options","element","call","render","addClasses","removeClasses","push","ROOT","enableRtl","RTL","isAdaptive","DEVICE_CLASS","allowMultiDrag","MULTI_DRAG","cssClass","split","_i","cssClass_1","cls_1","validateDate","scrollModule","setWidth","setHeight","renderModule","eventBase","workCellAction","allowKeyboardInteraction","keyboardInteractionModule","inlineModule","initializeDataModule","renderTableContainer","activeViewOptions","getActiveViewOptions","initializeResources","wireEvents","querySelector","TABLE_CONTAINER_CLASS","appendChild","createElement","className","renderTemplates","isReact","renderReactTemplates","resetTemplates","templates","isAngular","clearTemplate","isSetModel","resources","resourceBase","bindResourcesData","resourceCollection","renderElements","isLayoutOnly","initializeView","currentView","eventWindow","refresh","destroyHeaderModule","showHeaderBar","headerModule","isDevice","isTouch","scheduleTouchModule","destroyPopups","isPrinting","initializePopups","selectedDate","date","Date","getTime","minDate","maxDate","setProperties","updateMinMaxDateToEditor","Error","getViewIndex","viewName","item","viewCollections","checkIndex","option","setViewOptions","isModuleLoad","viewOptions","selectedView","prevIndex","viewIndex","count","_a","views","view","isOptions","isSelected","obj","fieldViewName","charAt","toLowerCase","slice","cellHeaderTemplateName","cellHeaderTemplate","dateHeaderTemplateName","dateHeaderTemplate","cellTemplateName","cellTemplate","dayHeaderTemplateName","dayHeaderTemplate","monthHeaderTemplateName","monthHeaderTemplate","resourceHeaderTemplateName","resourceHeaderTemplate","headerIndentTemplateName","headerIndentTemplate","eventTemplateName","eventTemplate","firstDayOfWeek","interval","currentIndex","timeScale","enable","slotCount","majorSlotTemplate","minorSlotTemplate","isYearView","indexOf","group","byDate","byGroupID","allowGroupEdit","headerTooltipTemplate","enableCompactView","workDays","scheduleOptions","dateFormat","endHour","readonly","startHour","allowVirtualScrolling","eventSettings","template","firstMonthOfYear","monthsCount","showWeekend","showWeekNumber","displayName","timeFormat","internalTimeFormat","headerRows","orientation","numberOfWeeks","displayDate","viewsData","undefined","eventFields","id","fields","isBlock","subject","name","startTime","endTime","startTimezone","endTimezone","location","description","isAllDay","recurrenceID","recurrenceRule","recurrenceException","isReadonly","followingID","setEditorTitles","dataModule","dataSource","query","crudModule","editorTitles","title","localeObj","getConstant","setResourceCollection","initializeTemplates","cellHeaderTemplateFn","templateParser","dayHeaderTemplateFn","monthHeaderTemplateFn","cellTemplateFn","dateHeaderTemplateFn","majorSlotTemplateFn","minorSlotTemplateFn","appointmentTemplateFn","resourceHeaderTemplateFn","headerIndentTemplateFn","headerTooltipTemplateFn","eventTooltipTemplateFn","tooltipTemplate","editorTemplateFn","editorTemplate","quickInfoTemplatesHeaderFn","quickInfoTemplates","header","quickInfoTemplatesContentFn","content","quickInfoTemplatesFooterFn","footer","quickPopup","getDayNames","type","culShortNames","cldrObj","nameSpace","locale","getCalendarMode","keys","setCldrTimeFormat","calendarMode","getTimeString","time","globalize","formatDate","format","calendar","toLocaleUpperCase","getDateTime","setCalendarMode","calendarUtil","changeView","event","muteOnChange","index","_this","args","requestType","cancel","trigger","actionBegin","actionArgs","navArgs","action","currentDate","previousView","navigating","navigationArgs","updateActiveView","setCalendarDate","setCalendarView","animateLayout","actionComplete","changeDate","previousDate","uiStateValues","isInitial","activeView","isTimelineView","isMinMaxDate","isSelectedDate","setHours","getCurrentTime","timezone","tzModule","convert","getLocalTimezoneName","getNavigateView","duration","timingFunction","animate","requiredModules","modules","member","allowDragAndDrop","allowResizing","preRender","isIPadDevice","enablePersistence","expand","left","top","isGroupAdaptive","isIgnoreOccurrence","groupIndex","isCustomMonth","activeCellsData","activeEventData","getDefaultLocale","getModuleName","defaultLocale","eventsData","eventsProcessed","blockData","blockProcessed","currentAction","selectedElements","day","week","workWeek","month","year","agenda","weekAgenda","workWeekAgenda","monthAgenda","today","noEvents","emptyContainer","allDay","start","end","more","close","noTitle","delete","deleteEvent","deleteMultipleEvent","selectedItems","deleteSeries","edit","editSeries","editEvent","createEvent","addTitle","moreDetails","save","editContent","deleteContent","deleteMultipleContent","newEvent","repeat","saveButton","cancelButton","deleteButton","recurrence","wrongPattern","seriesChangeAlert","createError","sameDayAlert","occurenceAlert","editRecurrence","repeats","alert","startEndError","invalidDateError","blockAlert","ok","yes","no","occurrence","series","previous","next","timelineDay","timelineWeek","timelineWorkWeek","timelineMonth","timelineYear","editFollowingEvent","deleteTitle","editTitle","beginFrom","endAt","expandAllDaySection","collapseAllDaySection","searchTimezone","noRecords","add","window","onScheduleResize","document","touchStartEvent","onDocumentClick","removeSelectedClass","selectedCells","getSelectedElements","selectedCells_1","cell","setAttribute","removeAttribute","SELECTED_CELL_CLASS","addSelectedClass","cells","focusCell","isPreventScroll","cells_1","focus","preventScroll","selectCell","getAllDayRow","ALLDAY_ROW_CLASS","getContentTable","CONTENT_TABLE_CLASS","getTableRows","querySelectorAll","HIDDEN_CLASS","getWorkCellElements","WORK_CELLS_CLASS","getIndexOfDate","collection","map","Number","isAllDayCell","td","contains","ALLDAY_CELLS_CLASS","HEADER_CELLS_CLASS","getDateFromElement","dateString","getAttribute","dateInMS","parseInt","getTargetElement","selector","elementFromPoint","targetElement","closest","getCellHeaderTemplate","getDayHeaderTemplate","getMonthHeaderTemplate","getCellTemplate","getDateHeaderTemplate","getMajorSlotTemplate","getMinorSlotTemplate","getAppointmentTemplate","getEventTooltipTemplate","getHeaderTooltipTemplate","getEditorTemplate","getQuickInfoTemplatesHeader","getQuickInfoTemplatesContent","getQuickInfoTemplatesFooter","getResourceHeaderTemplate","getHeaderIndentTemplate","getCssProperties","cssProps","border","padding","rtlBorder","rtlPadding","removeNewEventElement","eventClone","NEW_EVENT_CLASS","getStartEndTime","startEndTime","startEndDate","resetTime","timeString","notify","documentClick","isMobile","activeElement","SUBJECT_CLASS","highlightCurrentTime","onClosePopup","resetColWidth","scrollUiUpdate","cssProperties","isPreventScrollUpdate","refreshEvents","contentReady","innerHTML","trim","error","getAnnouncementString","resourceName","constantText","getResourceText","recordSubject","default","skeleton","startDateText","endDateText","announcementString","boundaryValidation","pageY","pageX","autoScrollDistance","scrollEdges","right","bottom","viewBoundaries","CONTENT_WRAP_CLASS","getBoundingClientRect","pageYOffset","pageXOffset","getWeekNumberContent","dates","weekNumber","weekRule","weekNumberDate","getWeekLastDate","formatNumber","getWeekNumber","weekFirstDate","getWeekFirstDate","weekLastDate","weekMidDate","getWeekMiddleDate","renderHeaderIndentTemplate","data","scheduleId","templateId","indentTemplate","unWireEvents","getPersistData","addOnPersist","onPropertyChanged","newProp","oldProp","state","isRefresh","isResource","isDate","isView","isLayout","isDataManager","prop","updateItems","updateDateRange","getDateRangeText","refreshRecurrenceEditor","timezonePropertyChange","setCalendarTimezone","setRtlClass","extendedPropertyChange","propertyChangeAction","dragAndDropModule","actionObj","EVENT_ACTION_CLASS","refreshDataManager","allDayRowScrollUpdate","dateHeader","DATE_HEADER_WRAP_CLASS","allDayRow","height","enableAllDayScroll","ALLDAY_APPOINTMENT_AUTO","ALLDAY_APPOINTMENT_SCROLL","allDayCells","style","allDayExpandScroll","uiUpdate","module","properties","width","onEventSettingsPropertyChanged","destroy","setDialogContent","onGroupSettingsPropertyChanged","refreshDateTimePicker","eventTooltip","enableTooltip","refreshQuickDialog","updateAddIcon","setWorkHours","getWorkHourCells","WORK_HOURS_CLASS","resetWorkHours","renderDates","workHourCells","tableEle","setMilliseconds","viewStartHour","getStartHour","viewEndHour","getEndHour","msMajorInterval","MS_PER_MINUTE","msInterval","startIndex","Math","round","endIndex","ceil","tempStartIndex","tempEndIndex","dates_1","lastResourceLevel","colIndex","slotsPerDay","rowIndex","rows","tds","getCellDetails","tdCol","firstTd","lastTd","endDateFromColSpan","addDays","getEndDateFromStartDate","getResourceCollections","setResourceCollections","resourceCol","changeCurrentView","getCurrentViewIndex","getResourcesByIndex","groupData","setResourceValues","resource","resourceData","expandResource","resourceId","resourceExpand","collapseResource","scrollTo","hour","scrollDate","scrollToDate","scrollToHour","scrollToResource","groupName","resourceScroll","exportToICalendar","fileName","customData","iCalendarExportModule","initializeCalendarExport","importICalendar","fileContent","iCalendarImportModule","initializeCalendarImport","addEvent","exportToExcel","excelExportOptions","excelExportModule","initializeExcelExport","print","printOptions","printModule","saveEvent","getEvents","startDate","endDate","includeOccurrences","eventCollections","getProcessedEvents","filterEventsByRange","getBlockEvents","getOccurrencesByID","eventID","getOccurrencesByRange","getCurrentViewDates","setRecurrenceEditor","recurrenceEditor","getEventMaxID","getDeletedOccurrences","recurrenceData","getCurrentViewEvents","isRemoteRefresh","concat","dataReady","processedData","processData","refreshTemplates","templateName","refreshHeader","refreshResourceHeader","refreshLayout","getEventDetails","guid","getEventByGuid","isSlotAvailable","eventStart","eventEnd","eventObj","getGroupIndexFromEvent","eventCollection","filterEvents","filterEventsByResource","Guid","filter","openEditor","isEventData","repeatType","closeEditor","dialogClose","closeQuickInfoPopup","quickPopupHide","selectResourceByIndex","getIndexFromResourceId","addResource","removeResource","removeEventListener","modules_1","removeChildren"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Component, Property, Event, Animation, Collection, append } from '@syncfusion/ej2-base';\r\nimport { EventHandler, Browser, Internationalization, getDefaultDateObject, cldrData, L10n } from '@syncfusion/ej2-base';\r\nimport { getValue, compile, extend, isNullOrUndefined, NotifyPropertyChanges, Complex } from '@syncfusion/ej2-base';\r\nimport { getElement, removeClass, addClass, classList, remove } from '@syncfusion/ej2-base';\r\nimport { createSpinner, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\r\nimport { HeaderRenderer } from '../renderer/header-renderer';\r\nimport { Scroll } from '../actions/scroll';\r\nimport { ScheduleTouch } from '../actions/touch';\r\nimport { KeyboardInteraction } from '../actions/keyboard';\r\nimport { Data } from '../actions/data';\r\nimport { EventBase } from '../event-renderer/event-base';\r\nimport { InlineEdit } from '../event-renderer/inline-edit';\r\nimport { QuickPopups } from '../popups/quick-popups';\r\nimport { EventTooltip } from '../popups/event-tooltip';\r\nimport { EventWindow } from '../popups/event-window';\r\nimport { Render } from '../renderer/renderer';\r\nimport { WorkHours } from '../models/work-hours';\r\nimport { TimeScale } from '../models/time-scale';\r\nimport { QuickInfoTemplates } from '../models/quick-info-templates';\r\nimport { HeaderRows } from '../models/header-rows';\r\nimport { Crud } from '../actions/crud';\r\nimport { WorkCellInteraction } from '../actions/work-cells';\r\nimport { EventSettings } from '../models/event-settings';\r\nimport { Group } from '../models/group';\r\nimport { Resources } from '../models/resources';\r\nimport { Gregorian, Islamic } from '../../common/calendar-util';\r\nimport { ResourceBase } from '../base/resource';\r\nimport { Timezone, timezoneData } from '../timezone/timezone';\r\nimport * as events from '../base/constant';\r\nimport * as cls from '../base/css-constant';\r\nimport * as util from '../base/util';\r\n/**\r\n * Represents the Schedule component that displays a list of events scheduled against specific date and timings,\r\n * thus helping us to plan and manage it properly.\r\n * ```html\r\n * <div id=\"schedule\"></div>\r\n * ```\r\n * ```typescript\r\n * <script>\r\n *   var scheduleObj = new Schedule();\r\n *   scheduleObj.appendTo(\"#schedule\");\r\n * </script>\r\n * ```\r\n */\r\nvar Schedule = /** @class */ (function (_super) {\r\n    __extends(Schedule, _super);\r\n    /**\r\n     * Constructor for creating the Schedule widget\r\n     *\r\n     * @param {ScheduleModel} options Accepts the schedule model properties to initiate the rendering\r\n     * @param {string | HTMLElement} element Accepts the DOM element reference\r\n     */\r\n    function Schedule(options, element) {\r\n        return _super.call(this, options, element) || this;\r\n    }\r\n    /**\r\n     * Core method that initializes the control rendering.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    Schedule.prototype.render = function () {\r\n        var addClasses = [];\r\n        var removeClasses = [];\r\n        addClasses.push(cls.ROOT);\r\n        if (this.enableRtl) {\r\n            addClasses.push(cls.RTL);\r\n        }\r\n        else {\r\n            removeClasses.push(cls.RTL);\r\n        }\r\n        if (this.isAdaptive) {\r\n            addClasses.push(cls.DEVICE_CLASS);\r\n        }\r\n        else {\r\n            removeClasses.push(cls.DEVICE_CLASS);\r\n        }\r\n        if (this.allowMultiDrag) {\r\n            addClasses.push(cls.MULTI_DRAG);\r\n        }\r\n        else {\r\n            removeClasses.push(cls.MULTI_DRAG);\r\n        }\r\n        if (this.cssClass) {\r\n            var cssClass = this.cssClass.split(' ');\r\n            for (var _i = 0, cssClass_1 = cssClass; _i < cssClass_1.length; _i++) {\r\n                var cls_1 = cssClass_1[_i];\r\n                addClasses.push(cls_1);\r\n            }\r\n        }\r\n        classList(this.element, addClasses, removeClasses);\r\n        this.validateDate();\r\n        createSpinner({ target: this.element });\r\n        this.scrollModule = new Scroll(this);\r\n        this.scrollModule.setWidth();\r\n        this.scrollModule.setHeight();\r\n        this.renderModule = new Render(this);\r\n        this.eventBase = new EventBase(this);\r\n        this.workCellAction = new WorkCellInteraction(this);\r\n        if (this.allowKeyboardInteraction) {\r\n            this.keyboardInteractionModule = new KeyboardInteraction(this);\r\n        }\r\n        this.inlineModule = new InlineEdit(this);\r\n        this.initializeDataModule();\r\n        this.renderTableContainer();\r\n        this.activeViewOptions = this.getActiveViewOptions();\r\n        this.initializeResources();\r\n        this.wireEvents();\r\n    };\r\n    Schedule.prototype.renderTableContainer = function () {\r\n        if (!this.element.querySelector('.' + cls.TABLE_CONTAINER_CLASS)) {\r\n            this.element.appendChild(this.createElement('div', { className: cls.TABLE_CONTAINER_CLASS }));\r\n        }\r\n    };\r\n    /**\r\n     * Method to render react templates\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    Schedule.prototype.renderTemplates = function () {\r\n        if (this.isReact) {\r\n            this.renderReactTemplates();\r\n        }\r\n    };\r\n    /**\r\n     * Method to reset react templates\r\n     *\r\n     * @param {string[]} templates Accepts the template ID\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    Schedule.prototype.resetTemplates = function (templates) {\r\n        if (this.isAngular || this.isReact) {\r\n            this.clearTemplate(templates);\r\n        }\r\n    };\r\n    Schedule.prototype.initializeResources = function (isSetModel) {\r\n        if (isSetModel === void 0) { isSetModel = false; }\r\n        if (this.resources.length > 0) {\r\n            this.resourceBase = new ResourceBase(this);\r\n            this.resourceBase.bindResourcesData(isSetModel);\r\n        }\r\n        else {\r\n            this.resourceBase = null;\r\n            this.resourceCollection = [];\r\n            this.renderElements(isSetModel);\r\n        }\r\n    };\r\n    /**\r\n     * Method to render the layout elements\r\n     *\r\n     * @param {boolean} isLayoutOnly Accepts the boolean value to render layout or not\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    Schedule.prototype.renderElements = function (isLayoutOnly) {\r\n        if (isLayoutOnly) {\r\n            this.initializeView(this.currentView);\r\n            this.eventWindow.refresh();\r\n            return;\r\n        }\r\n        this.destroyHeaderModule();\r\n        if (this.showHeaderBar) {\r\n            this.headerModule = new HeaderRenderer(this);\r\n        }\r\n        this.renderTableContainer();\r\n        if (Browser.isDevice || Browser.isTouch) {\r\n            this.scheduleTouchModule = new ScheduleTouch(this);\r\n        }\r\n        this.initializeView(this.currentView);\r\n        this.destroyPopups();\r\n        if (!this.isPrinting) {\r\n            this.initializePopups();\r\n        }\r\n    };\r\n    Schedule.prototype.validateDate = function (selectedDate) {\r\n        if (selectedDate === void 0) { selectedDate = this.selectedDate; }\r\n        // persist the selected date value\r\n        var date = selectedDate instanceof Date ? new Date(selectedDate.getTime()) : new Date(selectedDate);\r\n        var minDate = this.minDate instanceof Date ? new Date(this.minDate.getTime()) : new Date(this.minDate);\r\n        var maxDate = this.maxDate instanceof Date ? new Date(this.maxDate.getTime()) : new Date(this.maxDate);\r\n        if (minDate <= maxDate) {\r\n            if (date < minDate) {\r\n                date = minDate;\r\n            }\r\n            if (date > maxDate) {\r\n                date = maxDate;\r\n            }\r\n            this.setProperties({ selectedDate: new Date('' + date), minDate: new Date('' + minDate), maxDate: new Date('' + maxDate) }, true);\r\n            if (this.eventWindow) {\r\n                this.eventWindow.updateMinMaxDateToEditor();\r\n            }\r\n        }\r\n        else {\r\n            throw Error('minDate should be equal or less than maxDate');\r\n        }\r\n    };\r\n    Schedule.prototype.getViewIndex = function (viewName) {\r\n        for (var item = 0; item < this.viewCollections.length; item++) {\r\n            var checkIndex = this.viewCollections[item].option;\r\n            if (checkIndex === viewName) {\r\n                return item;\r\n            }\r\n        }\r\n        return -1;\r\n    };\r\n    Schedule.prototype.setViewOptions = function (isModuleLoad) {\r\n        if (isModuleLoad === void 0) { isModuleLoad = false; }\r\n        this.viewOptions = {};\r\n        this.viewCollections = [];\r\n        var viewName;\r\n        var selectedView;\r\n        var prevIndex = this.viewIndex;\r\n        var count = 0;\r\n        this.viewIndex = -1;\r\n        for (var _i = 0, _a = this.views; _i < _a.length; _i++) {\r\n            var view = _a[_i];\r\n            var isOptions = (typeof view === 'string') ? false : true;\r\n            if (typeof view === 'string') {\r\n                viewName = view;\r\n                if (this.currentView === viewName) {\r\n                    selectedView = viewName;\r\n                    this.viewIndex = count;\r\n                }\r\n            }\r\n            else {\r\n                viewName = view.option;\r\n                if (view.isSelected) {\r\n                    selectedView = viewName;\r\n                    this.viewIndex = count;\r\n                }\r\n            }\r\n            var obj = extend({ option: viewName }, isOptions ? view : {});\r\n            var fieldViewName = viewName.charAt(0).toLowerCase() + viewName.slice(1);\r\n            obj.cellHeaderTemplateName = obj.cellHeaderTemplate ? obj.option : '';\r\n            obj.dateHeaderTemplateName = obj.dateHeaderTemplate ? obj.option : '';\r\n            obj.cellTemplateName = obj.cellTemplate ? obj.option : '';\r\n            obj.dayHeaderTemplateName = obj.dayHeaderTemplate ? obj.option : '';\r\n            obj.monthHeaderTemplateName = obj.monthHeaderTemplate ? obj.option : '';\r\n            obj.resourceHeaderTemplateName = obj.resourceHeaderTemplate ? obj.option : '';\r\n            obj.headerIndentTemplateName = obj.headerIndentTemplate ? obj.option : '';\r\n            obj.eventTemplateName = obj.eventTemplate ? obj.option : '';\r\n            if (!isNullOrUndefined(obj.firstDayOfWeek) && obj.firstDayOfWeek === 0) {\r\n                delete obj.firstDayOfWeek;\r\n            }\r\n            if (!isNullOrUndefined(obj.interval) && obj.interval === 1) {\r\n                delete obj.interval;\r\n            }\r\n            this.viewCollections.push(obj);\r\n            if (isNullOrUndefined(this.viewOptions[fieldViewName])) {\r\n                this.viewOptions[fieldViewName] = [obj];\r\n            }\r\n            else {\r\n                this.viewOptions[fieldViewName].push(obj);\r\n            }\r\n            count++;\r\n        }\r\n        if (!isModuleLoad && selectedView) {\r\n            this.setProperties({ currentView: selectedView }, true);\r\n        }\r\n        if (this.viewIndex === -1) {\r\n            var currentIndex = this.getViewIndex(this.currentView);\r\n            this.viewIndex = ((typeof this.views[0] !== 'string') && (!isNullOrUndefined(prevIndex) && prevIndex !== -1)) ? prevIndex :\r\n                (currentIndex === -1) ? 0 : currentIndex;\r\n        }\r\n    };\r\n    Schedule.prototype.getActiveViewOptions = function () {\r\n        var timeScale = {\r\n            enable: this.timeScale.enable,\r\n            interval: this.timeScale.interval,\r\n            slotCount: this.timeScale.slotCount,\r\n            majorSlotTemplate: this.timeScale.majorSlotTemplate,\r\n            minorSlotTemplate: this.timeScale.minorSlotTemplate\r\n        };\r\n        var isYearView = this.viewCollections[this.viewIndex].option.indexOf('Year') > -1;\r\n        var group = {\r\n            byDate: isYearView ? false : this.group.byDate,\r\n            byGroupID: this.group.byGroupID,\r\n            allowGroupEdit: this.group.allowGroupEdit,\r\n            resources: this.group.resources,\r\n            headerTooltipTemplate: this.group.headerTooltipTemplate,\r\n            enableCompactView: this.group.enableCompactView\r\n        };\r\n        var workDays = this.viewCollections[this.viewIndex].workDays ? [] : this.workDays;\r\n        var scheduleOptions = {\r\n            dateFormat: this.dateFormat,\r\n            endHour: this.endHour,\r\n            isSelected: false,\r\n            option: null,\r\n            readonly: this.readonly,\r\n            startHour: this.startHour,\r\n            allowVirtualScrolling: false,\r\n            cellHeaderTemplate: this.cellHeaderTemplate,\r\n            dayHeaderTemplate: this.dayHeaderTemplate,\r\n            monthHeaderTemplate: this.monthHeaderTemplate,\r\n            cellTemplate: this.cellTemplate,\r\n            eventTemplate: this.eventSettings.template,\r\n            dateHeaderTemplate: this.dateHeaderTemplate,\r\n            resourceHeaderTemplate: this.resourceHeaderTemplate,\r\n            headerIndentTemplate: this.headerIndentTemplate,\r\n            firstMonthOfYear: this.firstMonthOfYear,\r\n            firstDayOfWeek: this.firstDayOfWeek,\r\n            workDays: workDays,\r\n            monthsCount: this.monthsCount,\r\n            showWeekend: this.showWeekend,\r\n            showWeekNumber: this.showWeekNumber,\r\n            displayName: null,\r\n            interval: 1,\r\n            timeScale: timeScale,\r\n            timeFormat: this.internalTimeFormat,\r\n            group: group,\r\n            headerRows: this.headerRows,\r\n            orientation: 'Horizontal',\r\n            numberOfWeeks: 0,\r\n            displayDate: null\r\n        };\r\n        var viewOptions = this.viewCollections[this.viewIndex];\r\n        var viewsData = extend(scheduleOptions, viewOptions, undefined, true);\r\n        if (this.firstDayOfWeek !== 0 && viewOptions.firstDayOfWeek && this.firstDayOfWeek !== viewOptions.firstDayOfWeek) {\r\n            viewsData.firstDayOfWeek = this.firstDayOfWeek;\r\n        }\r\n        if (viewsData.displayDate) {\r\n            viewsData.displayDate = viewsData.displayDate instanceof Date ? new Date(viewsData.displayDate.getTime()) :\r\n                new Date(viewsData.displayDate);\r\n        }\r\n        return viewsData;\r\n    };\r\n    Schedule.prototype.initializeDataModule = function () {\r\n        this.eventFields = {\r\n            id: this.eventSettings.fields.id,\r\n            isBlock: this.eventSettings.fields.isBlock,\r\n            subject: this.eventSettings.fields.subject.name,\r\n            startTime: this.eventSettings.fields.startTime.name,\r\n            endTime: this.eventSettings.fields.endTime.name,\r\n            startTimezone: this.eventSettings.fields.startTimezone.name,\r\n            endTimezone: this.eventSettings.fields.endTimezone.name,\r\n            location: this.eventSettings.fields.location.name,\r\n            description: this.eventSettings.fields.description.name,\r\n            isAllDay: this.eventSettings.fields.isAllDay.name,\r\n            recurrenceID: this.eventSettings.fields.recurrenceID.name,\r\n            recurrenceRule: this.eventSettings.fields.recurrenceRule.name,\r\n            recurrenceException: this.eventSettings.fields.recurrenceException.name,\r\n            isReadonly: this.eventSettings.fields.isReadonly,\r\n            followingID: this.eventSettings.fields.followingID\r\n        };\r\n        this.setEditorTitles();\r\n        this.dataModule = new Data(this.eventSettings.dataSource, this.eventSettings.query);\r\n        this.crudModule = new Crud(this);\r\n    };\r\n    Schedule.prototype.setEditorTitles = function () {\r\n        this.editorTitles = {\r\n            subject: this.eventSettings.fields.subject.title || this.localeObj.getConstant('title'),\r\n            startTime: this.eventSettings.fields.startTime.title || this.localeObj.getConstant('start'),\r\n            endTime: this.eventSettings.fields.endTime.title || this.localeObj.getConstant('end'),\r\n            isAllDay: this.eventSettings.fields.isAllDay.title || this.localeObj.getConstant('allDay'),\r\n            startTimezone: this.eventSettings.fields.startTimezone.title || this.localeObj.getConstant('startTimezone'),\r\n            endTimezone: this.eventSettings.fields.endTimezone.title || this.localeObj.getConstant('endTimezone'),\r\n            location: this.eventSettings.fields.location.title || this.localeObj.getConstant('location'),\r\n            description: this.eventSettings.fields.description.title || this.localeObj.getConstant('description'),\r\n            recurrenceRule: this.eventSettings.fields.recurrenceRule.title || this.localeObj.getConstant('repeat')\r\n        };\r\n    };\r\n    Schedule.prototype.initializeView = function (viewName) {\r\n        this.showSpinner();\r\n        this.activeViewOptions = this.getActiveViewOptions();\r\n        if (this.resourceBase) {\r\n            this.resourceBase.setResourceCollection();\r\n        }\r\n        this.initializeTemplates();\r\n        this.renderModule.render(viewName);\r\n    };\r\n    Schedule.prototype.initializeTemplates = function () {\r\n        this.cellHeaderTemplateFn = this.templateParser(this.activeViewOptions.cellHeaderTemplate);\r\n        this.dayHeaderTemplateFn = this.templateParser(this.activeViewOptions.dayHeaderTemplate);\r\n        this.monthHeaderTemplateFn = this.templateParser(this.activeViewOptions.monthHeaderTemplate);\r\n        this.cellTemplateFn = this.templateParser(this.activeViewOptions.cellTemplate);\r\n        this.dateHeaderTemplateFn = this.templateParser(this.activeViewOptions.dateHeaderTemplate);\r\n        this.majorSlotTemplateFn = this.templateParser(this.activeViewOptions.timeScale.majorSlotTemplate);\r\n        this.minorSlotTemplateFn = this.templateParser(this.activeViewOptions.timeScale.minorSlotTemplate);\r\n        this.appointmentTemplateFn = this.templateParser(this.activeViewOptions.eventTemplate);\r\n        this.resourceHeaderTemplateFn = this.templateParser(this.activeViewOptions.resourceHeaderTemplate);\r\n        this.headerIndentTemplateFn = this.templateParser(this.activeViewOptions.headerIndentTemplate);\r\n        this.headerTooltipTemplateFn = this.templateParser(this.activeViewOptions.group.headerTooltipTemplate);\r\n        this.eventTooltipTemplateFn = this.templateParser(this.eventSettings.tooltipTemplate);\r\n        this.editorTemplateFn = this.templateParser(this.editorTemplate);\r\n        this.quickInfoTemplatesHeaderFn = this.templateParser(this.quickInfoTemplates.header);\r\n        this.quickInfoTemplatesContentFn = this.templateParser(this.quickInfoTemplates.content);\r\n        this.quickInfoTemplatesFooterFn = this.templateParser(this.quickInfoTemplates.footer);\r\n    };\r\n    Schedule.prototype.initializePopups = function () {\r\n        this.eventWindow = new EventWindow(this);\r\n        this.quickPopup = new QuickPopups(this);\r\n    };\r\n    /**\r\n     * Method to get day names\r\n     *\r\n     * @param {string} type Accepts the day name\r\n     * @returns {string[]} Returns the collection of day names\r\n     * @private\r\n     */\r\n    Schedule.prototype.getDayNames = function (type) {\r\n        var culShortNames = [];\r\n        var cldrObj;\r\n        var nameSpace = '';\r\n        if (this.locale === 'en' || this.locale === 'en-US') {\r\n            nameSpace = 'days.stand-alone.';\r\n            cldrObj = (getValue(nameSpace + type, getDefaultDateObject(this.getCalendarMode())));\r\n        }\r\n        else {\r\n            nameSpace = 'main.' + '' + this.locale + '.dates.calendars.' + this.getCalendarMode() + '.days.format.' + type;\r\n            cldrObj = (getValue(nameSpace, cldrData));\r\n        }\r\n        for (var _i = 0, _a = Object.keys(cldrObj); _i < _a.length; _i++) {\r\n            var obj = _a[_i];\r\n            culShortNames.push(getValue(obj, cldrObj));\r\n        }\r\n        return culShortNames;\r\n    };\r\n    Schedule.prototype.setCldrTimeFormat = function () {\r\n        if (!isNullOrUndefined(this.timeFormat)) {\r\n            this.internalTimeFormat = this.timeFormat;\r\n            return;\r\n        }\r\n        if (this.locale === 'en' || this.locale === 'en-US') {\r\n            this.internalTimeFormat = (getValue('timeFormats.short', getDefaultDateObject(this.getCalendarMode())));\r\n        }\r\n        else {\r\n            this.internalTimeFormat = (getValue('main.' + '' + this.locale + '.dates.calendars.' + this.getCalendarMode() + '.timeFormats.short', cldrData));\r\n        }\r\n    };\r\n    /**\r\n     * Method to get calendar mode\r\n     *\r\n     * @returns {string} Returns the calendar mode\r\n     * @private\r\n     */\r\n    Schedule.prototype.getCalendarMode = function () {\r\n        return this.calendarMode.toLowerCase();\r\n    };\r\n    /**\r\n     * Method to get time in string\r\n     *\r\n     * @param {Date} date Accepts the date object\r\n     * @returns {string} Returns the time in string\r\n     * @private\r\n     */\r\n    Schedule.prototype.getTimeString = function (date) {\r\n        var time = this.globalize.formatDate(date, {\r\n            format: this.activeViewOptions.timeFormat,\r\n            type: 'time', calendar: this.getCalendarMode()\r\n        });\r\n        return time.toLocaleUpperCase();\r\n    };\r\n    /**\r\n     * Method to get  date object\r\n     *\r\n     * @param {Date} date Accepts the date object\r\n     * @returns {Date} Returns the date object\r\n     * @private\r\n     */\r\n    Schedule.prototype.getDateTime = function (date) {\r\n        return date instanceof Date ? new Date(date.getTime()) : new Date(date);\r\n    };\r\n    Schedule.prototype.setCalendarMode = function () {\r\n        if (this.calendarMode === 'Islamic') {\r\n            this.calendarUtil = new Islamic();\r\n        }\r\n        else {\r\n            this.calendarUtil = new Gregorian();\r\n        }\r\n    };\r\n    /**\r\n     * Method to change the current view\r\n     *\r\n     * @param {View} view Accepts the view name\r\n     * @param {Event} event Accepts the event object\r\n     * @param {boolean} muteOnChange Accepts the value to enable or disable mute on change\r\n     * @param {number} index Accepts the index value\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    Schedule.prototype.changeView = function (view, event, muteOnChange, index) {\r\n        var _this = this;\r\n        if (isNullOrUndefined(index)) {\r\n            index = this.getViewIndex(view);\r\n        }\r\n        if (!muteOnChange && index === this.viewIndex && this.currentView === view || index < 0) {\r\n            return;\r\n        }\r\n        this.viewIndex = index;\r\n        var args = { requestType: 'viewNavigate', cancel: false, event: event };\r\n        this.trigger(events.actionBegin, args, function (actionArgs) {\r\n            if (!actionArgs.cancel) {\r\n                var navArgs = {\r\n                    action: 'view', cancel: false, currentDate: _this.selectedDate, previousView: _this.currentView, currentView: view, viewIndex: _this.viewIndex\r\n                };\r\n                _this.trigger(events.navigating, navArgs, function (navigationArgs) {\r\n                    if (!navigationArgs.cancel) {\r\n                        _this.viewIndex = navigationArgs.viewIndex;\r\n                        _this.setProperties({ currentView: view }, true);\r\n                        if (_this.headerModule) {\r\n                            _this.headerModule.updateActiveView();\r\n                            _this.headerModule.setCalendarDate(_this.selectedDate);\r\n                            _this.headerModule.setCalendarView();\r\n                        }\r\n                        _this.initializeView(_this.currentView);\r\n                        _this.animateLayout();\r\n                        args = { requestType: 'viewNavigate', cancel: false, event: event };\r\n                        _this.trigger(events.actionComplete, args);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Method to change the view date\r\n     *\r\n     * @param {Date} selectedDate Accepts the selected date\r\n     * @param {Event} event Accepts the event object\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    Schedule.prototype.changeDate = function (selectedDate, event) {\r\n        var _this = this;\r\n        var args = { requestType: 'dateNavigate', cancel: false, event: event };\r\n        this.trigger(events.actionBegin, args, function (actionArgs) {\r\n            if (!actionArgs.cancel) {\r\n                var navArgs = {\r\n                    action: 'date', cancel: false, previousDate: _this.selectedDate, currentDate: selectedDate\r\n                };\r\n                _this.trigger(events.navigating, navArgs, function (navigationArgs) {\r\n                    if (!navigationArgs.cancel) {\r\n                        _this.uiStateValues.isInitial = _this.activeView.isTimelineView() ? true : _this.uiStateValues.isInitial;\r\n                        _this.validateDate(navigationArgs.currentDate);\r\n                        if (_this.headerModule) {\r\n                            _this.headerModule.setCalendarDate(navigationArgs.currentDate);\r\n                        }\r\n                        _this.initializeView(_this.currentView);\r\n                        _this.animateLayout();\r\n                        args = { requestType: 'dateNavigate', cancel: false, event: event };\r\n                        _this.trigger(events.actionComplete, args);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Method to validate min and max date\r\n     *\r\n     * @param {Date} date Accepts the date object\r\n     * @returns {boolean} Returns the boolean result to validate the min and max date\r\n     * @private\r\n     */\r\n    Schedule.prototype.isMinMaxDate = function (date) {\r\n        if (date === void 0) { date = this.selectedDate; }\r\n        return ((date.getTime() >= this.minDate.getTime()) && (date.getTime() <= this.maxDate.getTime()));\r\n    };\r\n    /**\r\n     * Method to validate the selected date\r\n     *\r\n     * @param {Date} date Accepts the date object\r\n     * @returns {boolean} Returns the boolean value for given date is selected date or not\r\n     * @private\r\n     */\r\n    Schedule.prototype.isSelectedDate = function (date) {\r\n        return date.setHours(0, 0, 0, 0) === new Date('' + this.selectedDate).setHours(0, 0, 0, 0);\r\n    };\r\n    /**\r\n     * Method to get the current time\r\n     *\r\n     * @param {Date} date Accepts the date object\r\n     * @returns {Date} Returns the date object after performing the timezone conversion\r\n     * @private\r\n     */\r\n    Schedule.prototype.getCurrentTime = function (date) {\r\n        if (date === void 0) { date = new Date(); }\r\n        if (this.timezone) {\r\n            return this.tzModule.convert(date, this.tzModule.getLocalTimezoneName(), this.timezone);\r\n        }\r\n        return date;\r\n    };\r\n    /** Method to get navigate view\r\n     *\r\n     * @returns {View} Return the navigate view name\r\n     * @private\r\n     */\r\n    Schedule.prototype.getNavigateView = function () {\r\n        if (this.activeView.isTimelineView()) {\r\n            return this.currentView === 'TimelineMonth' || this.currentView === 'TimelineYear' ? 'TimelineDay' : 'Agenda';\r\n        }\r\n        return 'Day';\r\n    };\r\n    Schedule.prototype.animateLayout = function () {\r\n        if (!this.activeView.element) {\r\n            return;\r\n        }\r\n        new Animation({ duration: 600, name: 'FadeIn', timingFunction: 'easeIn' }).animate(this.activeView.element);\r\n    };\r\n    /**\r\n     * To provide the array of modules needed for control rendering\r\n     *\r\n     * @returns {ModuleDeclaration[]} Returns the declared modules\r\n     * @private\r\n     */\r\n    Schedule.prototype.requiredModules = function () {\r\n        var modules = [];\r\n        this.setViewOptions(true);\r\n        for (var _i = 0, _a = Object.keys(this.viewOptions); _i < _a.length; _i++) {\r\n            var view = _a[_i];\r\n            view = (view === 'timelineDay' || view === 'timelineWeek' || view === 'timelineWorkWeek') ? 'timelineViews' : view;\r\n            modules.push({ member: view, args: [this] });\r\n        }\r\n        if (this.allowDragAndDrop) {\r\n            modules.push({ member: 'dragAndDrop', args: [this] });\r\n        }\r\n        if (this.allowResizing) {\r\n            modules.push({ member: 'resize', args: [this] });\r\n        }\r\n        modules.push({ member: 'excelExport', args: [this] });\r\n        modules.push({ member: 'iCalendarExport', args: [this] });\r\n        modules.push({ member: 'iCalendarImport', args: [this] });\r\n        modules.push({ member: 'print', args: [this] });\r\n        return modules;\r\n    };\r\n    /**\r\n     * Initializes the values of private members.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    Schedule.prototype.preRender = function () {\r\n        this.isAdaptive = Browser.isDevice || util.isIPadDevice();\r\n        this.globalize = new Internationalization(this.locale);\r\n        this.tzModule = new Timezone();\r\n        if (this && isNullOrUndefined(this.uiStateValues) || !(this.enablePersistence)) {\r\n            this.uiStateValues = {\r\n                expand: false, isInitial: true, left: 0, top: 0, isGroupAdaptive: false,\r\n                isIgnoreOccurrence: false, groupIndex: 0, action: false, isBlock: false, isCustomMonth: true\r\n            };\r\n        }\r\n        this.activeCellsData = { startTime: this.getCurrentTime(), endTime: this.getCurrentTime(), isAllDay: false };\r\n        this.activeEventData = { event: undefined, element: undefined };\r\n        this.getDefaultLocale();\r\n        this.localeObj = new L10n(this.getModuleName(), this.defaultLocale, this.locale);\r\n        this.setCldrTimeFormat();\r\n        this.setCalendarMode();\r\n        this.eventsData = [];\r\n        this.eventsProcessed = [];\r\n        this.blockData = [];\r\n        this.blockProcessed = [];\r\n        this.resourceCollection = [];\r\n        this.currentAction = null;\r\n        this.selectedElements = [];\r\n        this.setViewOptions();\r\n    };\r\n    Schedule.prototype.getDefaultLocale = function () {\r\n        this.defaultLocale = {\r\n            day: 'Day',\r\n            week: 'Week',\r\n            workWeek: 'Work Week',\r\n            month: 'Month',\r\n            year: 'Year',\r\n            agenda: 'Agenda',\r\n            weekAgenda: 'Week Agenda',\r\n            workWeekAgenda: 'Work Week Agenda',\r\n            monthAgenda: 'Month Agenda',\r\n            today: 'Today',\r\n            noEvents: 'No events',\r\n            emptyContainer: 'There are no events scheduled on this day.',\r\n            allDay: 'All day',\r\n            start: 'Start',\r\n            end: 'End',\r\n            more: 'more',\r\n            close: 'Close',\r\n            cancel: 'Cancel',\r\n            noTitle: '(No Title)',\r\n            delete: 'Delete',\r\n            deleteEvent: 'Delete Event',\r\n            deleteMultipleEvent: 'Delete Multiple Events',\r\n            selectedItems: 'Items selected',\r\n            deleteSeries: 'Entire Series',\r\n            edit: 'Edit',\r\n            editSeries: 'Entire Series',\r\n            editEvent: 'Edit Event',\r\n            createEvent: 'Create',\r\n            subject: 'Subject',\r\n            addTitle: 'Add title',\r\n            moreDetails: 'More Details',\r\n            save: 'Save',\r\n            editContent: 'How would you like to change the appointment in the series?',\r\n            deleteContent: 'Are you sure you want to delete this event?',\r\n            deleteMultipleContent: 'Are you sure you want to delete the selected events?',\r\n            newEvent: 'New Event',\r\n            title: 'Title',\r\n            location: 'Location',\r\n            description: 'Description',\r\n            timezone: 'Timezone',\r\n            startTimezone: 'Start Timezone',\r\n            endTimezone: 'End Timezone',\r\n            repeat: 'Repeat',\r\n            saveButton: 'Save',\r\n            cancelButton: 'Cancel',\r\n            deleteButton: 'Delete',\r\n            recurrence: 'Recurrence',\r\n            wrongPattern: 'The recurrence pattern is not valid.',\r\n            seriesChangeAlert: 'Do you want to cancel the changes made to specific ' +\r\n                'instances of this series and match it to the whole series again?',\r\n            createError: 'The duration of the event must be shorter than how frequently it occurs. ' +\r\n                'Shorten the duration, or change the recurrence pattern in the recurrence event editor.',\r\n            sameDayAlert: 'Two occurrences of the same event cannot occur on the same day.',\r\n            occurenceAlert: 'Cannot reschedule an occurrence of the recurring appointment if it skips over ' +\r\n                'a later occurrence of the same appointment.',\r\n            editRecurrence: 'Edit Recurrence',\r\n            repeats: 'Repeats',\r\n            alert: 'Alert',\r\n            startEndError: 'The selected end date occurs before the start date.',\r\n            invalidDateError: 'The entered date value is invalid.',\r\n            blockAlert: 'Events cannot be scheduled within the blocked time range.',\r\n            ok: 'Ok',\r\n            yes: 'Yes',\r\n            no: 'No',\r\n            occurrence: 'Occurrence',\r\n            series: 'Series',\r\n            previous: 'Previous',\r\n            next: 'Next',\r\n            timelineDay: 'Timeline Day',\r\n            timelineWeek: 'Timeline Week',\r\n            timelineWorkWeek: 'Timeline Work Week',\r\n            timelineMonth: 'Timeline Month',\r\n            timelineYear: 'Timeline Year',\r\n            editFollowingEvent: 'Following Events',\r\n            deleteTitle: 'Delete Event',\r\n            editTitle: 'Edit Event',\r\n            beginFrom: 'Begin From',\r\n            endAt: 'Ends At',\r\n            expandAllDaySection: 'Expand-all-day-section',\r\n            collapseAllDaySection: 'Collapse-all-day-section',\r\n            searchTimezone: 'Search Timezone',\r\n            noRecords: 'No records found'\r\n        };\r\n    };\r\n    Schedule.prototype.wireEvents = function () {\r\n        EventHandler.add(window, 'resize', this.onScheduleResize, this);\r\n        EventHandler.add(window, 'orientationchange', this.onScheduleResize, this);\r\n        EventHandler.add(document, Browser.touchStartEvent, this.onDocumentClick, this);\r\n    };\r\n    /**\r\n     * Method to remove selected class\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    Schedule.prototype.removeSelectedClass = function () {\r\n        var selectedCells = this.getSelectedElements();\r\n        for (var _i = 0, selectedCells_1 = selectedCells; _i < selectedCells_1.length; _i++) {\r\n            var cell = selectedCells_1[_i];\r\n            cell.setAttribute('aria-selected', 'false');\r\n            cell.removeAttribute('tabindex');\r\n        }\r\n        removeClass(selectedCells, cls.SELECTED_CELL_CLASS);\r\n    };\r\n    /**\r\n     * Method to add selected class\r\n     *\r\n     * @param {HTMLTableCellElement[]} cells Accepts the collection of elements\r\n     * @param {HTMLTableCellElement} focusCell Accepts the focus element\r\n     * @param {boolean} isPreventScroll Accepts the boolean value to prevent scroll\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    Schedule.prototype.addSelectedClass = function (cells, focusCell, isPreventScroll) {\r\n        for (var _i = 0, cells_1 = cells; _i < cells_1.length; _i++) {\r\n            var cell = cells_1[_i];\r\n            cell.setAttribute('aria-selected', 'true');\r\n        }\r\n        addClass(cells, cls.SELECTED_CELL_CLASS);\r\n        if (focusCell) {\r\n            focusCell.setAttribute('tabindex', '0');\r\n            focusCell.focus({ preventScroll: isPreventScroll || false });\r\n        }\r\n    };\r\n    /**\r\n     * Method to select cell\r\n     *\r\n     * @param {HTMLElement | HTMLTableCellElement} element Accepts the select element\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    Schedule.prototype.selectCell = function (element) {\r\n        this.removeSelectedClass();\r\n        this.addSelectedClass([element], element);\r\n    };\r\n    /**\r\n     * Method to get all day row element\r\n     *\r\n     * @returns {Element} Returns the all day row element\r\n     * @private\r\n     */\r\n    Schedule.prototype.getAllDayRow = function () {\r\n        return this.element.querySelector('.' + cls.ALLDAY_ROW_CLASS);\r\n    };\r\n    /**\r\n     * Method to get content table element\r\n     *\r\n     * @returns {HTMLElement} Returns the content table element\r\n     * @private\r\n     */\r\n    Schedule.prototype.getContentTable = function () {\r\n        return this.activeView.element.querySelector('.' + cls.CONTENT_TABLE_CLASS + ' tbody');\r\n    };\r\n    /**\r\n     * Method to get all content table rows\r\n     *\r\n     * @returns {HTMLElement[]} Returns the content table rows\r\n     * @private\r\n     */\r\n    Schedule.prototype.getTableRows = function () {\r\n        return [].slice.call(this.element.querySelectorAll('.' + cls.CONTENT_TABLE_CLASS + ' tbody tr:not(.' + cls.HIDDEN_CLASS + ')'));\r\n    };\r\n    /**\r\n     * Method to get work cell elements\r\n     *\r\n     * @returns {Element[]} Returns the all work cell elements\r\n     * @private\r\n     */\r\n    Schedule.prototype.getWorkCellElements = function () {\r\n        return [].slice.call(this.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS));\r\n    };\r\n    /**\r\n     * Method to get the index from date collection\r\n     *\r\n     * @param {Date[]} collection Accepts the collections of date\r\n     * @param {Date} date Accepts the date object\r\n     * @returns {number} Returns the index compared date with date collections\r\n     * @private\r\n     */\r\n    Schedule.prototype.getIndexOfDate = function (collection, date) {\r\n        return collection.map(Number).indexOf(+date);\r\n    };\r\n    /**\r\n     * Method to find all day cell\r\n     *\r\n     * @param {Element} td Accepts the DOM Element\r\n     * @returns {boolean} Returns the boolean value\r\n     * @private\r\n     */\r\n    Schedule.prototype.isAllDayCell = function (td) {\r\n        if (['Month', 'TimelineMonth', 'TimelineYear', 'MonthAgenda'].indexOf(this.currentView) > -1 ||\r\n            td.classList.contains(cls.ALLDAY_CELLS_CLASS) ||\r\n            td.classList.contains(cls.HEADER_CELLS_CLASS) || !this.activeViewOptions.timeScale.enable) {\r\n            return true;\r\n        }\r\n        if (this.activeView.isTimelineView() && this.activeViewOptions.headerRows.length > 0 &&\r\n            this.activeViewOptions.headerRows.slice(-1)[0].option !== 'Hour') {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Method to get date from element\r\n     *\r\n     * @param {Element} td Accepts the DOM element\r\n     * @returns {Date} Returns the date object\r\n     * @private\r\n     */\r\n    Schedule.prototype.getDateFromElement = function (td) {\r\n        var dateString;\r\n        if (!isNullOrUndefined(td)) {\r\n            dateString = td.getAttribute('data-date');\r\n        }\r\n        if (!isNullOrUndefined(dateString)) {\r\n            var dateInMS = parseInt(dateString, 10);\r\n            var date = new Date(dateInMS);\r\n            return date;\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Method to get target element from given selector\r\n     *\r\n     * @param {string} selector Accepts the element selector\r\n     * @param {number} left Accepts the pageX value\r\n     * @param {number} top Accepts the pageY value\r\n     * @returns {Element[]} Returns the collection of elements based on the given selector\r\n     * @private\r\n     */\r\n    Schedule.prototype.getTargetElement = function (selector, left, top) {\r\n        var element = document.elementFromPoint(left, top);\r\n        var targetElement;\r\n        if (element) {\r\n            targetElement = element.closest(selector);\r\n        }\r\n        return (targetElement) ? [targetElement] : null;\r\n    };\r\n    /**\r\n     * Method to process cell header template\r\n     *\r\n     * @returns {CallbackFunction} Returns the callback function\r\n     * @private\r\n     */\r\n    Schedule.prototype.getCellHeaderTemplate = function () {\r\n        return this.cellHeaderTemplateFn;\r\n    };\r\n    /**\r\n     * Method to process cell header template in year view.\r\n     *\r\n     * @returns {CallbackFunction} Returns the callback function\r\n     * @private\r\n     */\r\n    Schedule.prototype.getDayHeaderTemplate = function () {\r\n        return this.dayHeaderTemplateFn;\r\n    };\r\n    /**\r\n     * Method to process cell header template in year view.\r\n     *\r\n     * @returns {CallbackFunction} Returns the callback function\r\n     * @private\r\n     */\r\n    Schedule.prototype.getMonthHeaderTemplate = function () {\r\n        return this.monthHeaderTemplateFn;\r\n    };\r\n    /**\r\n     * Method to process cell template\r\n     *\r\n     * @returns {CallbackFunction} Returns the callback function\r\n     * @private\r\n     */\r\n    Schedule.prototype.getCellTemplate = function () {\r\n        return this.cellTemplateFn;\r\n    };\r\n    /**\r\n     * Method to process date header template\r\n     *\r\n     * @returns {CallbackFunction} Returns the callback function\r\n     * @private\r\n     */\r\n    Schedule.prototype.getDateHeaderTemplate = function () {\r\n        return this.dateHeaderTemplateFn;\r\n    };\r\n    /**\r\n     * Method to process major slot template\r\n     *\r\n     * @returns {CallbackFunction} Returns the callback function\r\n     * @private\r\n     */\r\n    Schedule.prototype.getMajorSlotTemplate = function () {\r\n        return this.majorSlotTemplateFn;\r\n    };\r\n    /**\r\n     * Method to process minor slot template\r\n     *\r\n     * @returns {CallbackFunction} Returns the callback function\r\n     * @private\r\n     */\r\n    Schedule.prototype.getMinorSlotTemplate = function () {\r\n        return this.minorSlotTemplateFn;\r\n    };\r\n    /**\r\n     * Method to process appointment template\r\n     *\r\n     * @returns {CallbackFunction} Returns the callback function\r\n     * @private\r\n     */\r\n    Schedule.prototype.getAppointmentTemplate = function () {\r\n        return this.appointmentTemplateFn;\r\n    };\r\n    /**\r\n     * Method to process appointment tooltip template\r\n     *\r\n     * @returns {CallbackFunction} Returns the callback function\r\n     * @private\r\n     */\r\n    Schedule.prototype.getEventTooltipTemplate = function () {\r\n        return this.eventTooltipTemplateFn;\r\n    };\r\n    /**\r\n     * Method to process header tooltip template\r\n     *\r\n     * @returns {CallbackFunction} Returns the callback function\r\n     * @private\r\n     */\r\n    Schedule.prototype.getHeaderTooltipTemplate = function () {\r\n        return this.headerTooltipTemplateFn;\r\n    };\r\n    /**\r\n     * Method to process editor template\r\n     *\r\n     * @returns {CallbackFunction} Returns the callback function\r\n     * @private\r\n     */\r\n    Schedule.prototype.getEditorTemplate = function () {\r\n        return this.editorTemplateFn;\r\n    };\r\n    /**\r\n     * Method to process quick info header template\r\n     *\r\n     * @returns {CallbackFunction} Returns the callback function\r\n     * @private\r\n     */\r\n    Schedule.prototype.getQuickInfoTemplatesHeader = function () {\r\n        return this.quickInfoTemplatesHeaderFn;\r\n    };\r\n    /**\r\n     * Method to process quick info content template\r\n     *\r\n     * @returns {CallbackFunction} Returns the callback function\r\n     * @private\r\n     */\r\n    Schedule.prototype.getQuickInfoTemplatesContent = function () {\r\n        return this.quickInfoTemplatesContentFn;\r\n    };\r\n    /**\r\n     * Method to process quick info footer template\r\n     *\r\n     * @returns {CallbackFunction} Returns the callback function\r\n     * @private\r\n     */\r\n    Schedule.prototype.getQuickInfoTemplatesFooter = function () {\r\n        return this.quickInfoTemplatesFooterFn;\r\n    };\r\n    /**\r\n     * Method to process resource header template\r\n     *\r\n     * @returns {CallbackFunction} Returns the callback function\r\n     * @private\r\n     */\r\n    Schedule.prototype.getResourceHeaderTemplate = function () {\r\n        return this.resourceHeaderTemplateFn;\r\n    };\r\n    /**\r\n     * Method to process indent template\r\n     *\r\n     * @returns {CallbackFunction} Returns the callback function\r\n     * @private\r\n     */\r\n    Schedule.prototype.getHeaderIndentTemplate = function () {\r\n        return this.headerIndentTemplateFn;\r\n    };\r\n    /**\r\n     * Method to get dynamic CSS properties\r\n     *\r\n     * @returns {ScrollCss} Returns the CSS properties dynamically\r\n     * @private\r\n     */\r\n    Schedule.prototype.getCssProperties = function () {\r\n        var cssProps = {\r\n            border: this.enableRtl ? 'borderLeftWidth' : 'borderRightWidth',\r\n            padding: this.enableRtl ? 'paddingLeft' : 'paddingRight',\r\n            rtlBorder: this.enableRtl ? 'borderRightWidth' : 'borderLeftWidth',\r\n            rtlPadding: this.enableRtl ? 'paddingRight' : 'paddingLeft'\r\n        };\r\n        return cssProps;\r\n    };\r\n    /**\r\n     * Method to remove new event element in adaptive mode\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    Schedule.prototype.removeNewEventElement = function () {\r\n        var eventClone = this.element.querySelector('.' + cls.NEW_EVENT_CLASS);\r\n        if (!isNullOrUndefined(eventClone)) {\r\n            remove(eventClone);\r\n        }\r\n    };\r\n    /**\r\n     * Method to get start end time from string\r\n     *\r\n     * @param {string} startEndTime Accepts the start end time string value\r\n     * @returns {Date} Returns the date object\r\n     * @private\r\n     */\r\n    Schedule.prototype.getStartEndTime = function (startEndTime) {\r\n        if (!isNullOrUndefined(startEndTime) && startEndTime !== '') {\r\n            var startEndDate = util.resetTime(this.getCurrentTime());\r\n            var timeString = startEndTime.split(':');\r\n            if (timeString.length === 2) {\r\n                startEndDate.setHours(parseInt(timeString[0], 10), parseInt(timeString[1], 10), 0);\r\n            }\r\n            return startEndDate;\r\n        }\r\n        return null;\r\n    };\r\n    Schedule.prototype.onDocumentClick = function (args) {\r\n        this.notify(events.documentClick, { event: args });\r\n    };\r\n    Schedule.prototype.onScheduleResize = function () {\r\n        if (isNullOrUndefined(this.activeView) || ((this.isAdaptive || util.isMobile()) && document.activeElement\r\n            && document.activeElement.classList.contains(cls.SUBJECT_CLASS))) {\r\n            return;\r\n        }\r\n        if (this.activeViewOptions.timeScale.enable && this.activeView) {\r\n            this.activeView.highlightCurrentTime();\r\n        }\r\n        if (this.quickPopup) {\r\n            this.quickPopup.onClosePopup();\r\n        }\r\n        if (this.currentView === 'Month' || ((this.currentView !== 'Agenda' && this.currentView !== 'MonthAgenda')\r\n            && !this.activeViewOptions.timeScale.enable) || this.activeView.isTimelineView()) {\r\n            this.activeView.resetColWidth();\r\n            this.notify(events.scrollUiUpdate, { cssProperties: this.getCssProperties(), isPreventScrollUpdate: true });\r\n            this.refreshEvents(false);\r\n        }\r\n        else {\r\n            this.notify(events.contentReady, {});\r\n        }\r\n    };\r\n    /**\r\n     * Method to process the templates\r\n     *\r\n     * @param {string} template Accepts the template in string\r\n     * @returns {CallbackFunction} Returns the callback function\r\n     * @private\r\n     */\r\n    Schedule.prototype.templateParser = function (template) {\r\n        if (template) {\r\n            try {\r\n                if (document.querySelectorAll(template).length) {\r\n                    return compile(document.querySelector(template).innerHTML.trim());\r\n                }\r\n            }\r\n            catch (error) {\r\n                return compile(template);\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Method to generate the announcement string\r\n     *\r\n     * @param {Object} event Accepts the event object\r\n     * @param {string} subject Accepts the subject text\r\n     * @returns {string} Returns the announcement string\r\n     * @private\r\n     */\r\n    Schedule.prototype.getAnnouncementString = function (event, subject) {\r\n        var resourceName;\r\n        if (this.quickPopup && this.activeViewOptions.group.resources.length > 0) {\r\n            var constantText = '\"s event - ';\r\n            resourceName = this.quickPopup.getResourceText({ event: event }, 'event') + constantText;\r\n        }\r\n        var recordSubject = (subject || (event[this.eventFields.subject] || this.eventSettings.fields.subject.default));\r\n        var skeleton = 'full';\r\n        var startDateText = this.globalize.formatDate(event[this.eventFields.startTime], {\r\n            type: 'dateTime', skeleton: skeleton, calendar: this.getCalendarMode()\r\n        });\r\n        var endDateText = this.globalize.formatDate(event[this.eventFields.endTime], {\r\n            type: 'dateTime', skeleton: skeleton, calendar: this.getCalendarMode()\r\n        });\r\n        var announcementString = recordSubject + ' ' + this.localeObj.getConstant('beginFrom') + ' '\r\n            + startDateText + ' ' + this.localeObj.getConstant('endAt') + ' ' + endDateText;\r\n        if (resourceName) {\r\n            announcementString = resourceName + ' ' + announcementString;\r\n        }\r\n        return announcementString;\r\n    };\r\n    /**\r\n     * Method to process the element boundary validation\r\n     *\r\n     * @param {number} pageY Accepts the pageY value\r\n     * @param {number} pageX Accepts the pageX value\r\n     * @returns {ResizeEdges} Returns the boundary validation object\r\n     * @private\r\n     */\r\n    Schedule.prototype.boundaryValidation = function (pageY, pageX) {\r\n        var autoScrollDistance = 30;\r\n        var scrollEdges = { left: false, right: false, top: false, bottom: false };\r\n        var viewBoundaries = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS).getBoundingClientRect();\r\n        if ((pageY < viewBoundaries.top + autoScrollDistance + window.pageYOffset) &&\r\n            (pageY > viewBoundaries.top + window.pageYOffset)) {\r\n            scrollEdges.top = true;\r\n        }\r\n        if ((pageY > (viewBoundaries.bottom - autoScrollDistance) + window.pageYOffset) &&\r\n            (pageY < viewBoundaries.bottom + window.pageYOffset)) {\r\n            scrollEdges.bottom = true;\r\n        }\r\n        if ((pageX < viewBoundaries.left + autoScrollDistance + window.pageXOffset) &&\r\n            (pageX > viewBoundaries.left + window.pageXOffset)) {\r\n            scrollEdges.left = true;\r\n        }\r\n        if ((pageX > (viewBoundaries.right - autoScrollDistance) + window.pageXOffset) &&\r\n            (pageX < viewBoundaries.right + window.pageXOffset)) {\r\n            scrollEdges.right = true;\r\n        }\r\n        return scrollEdges;\r\n    };\r\n    /**\r\n     * Method to get the week number.\r\n     *\r\n     * @param {Date[]} dates Accepts the date collections\r\n     * @returns {number} Returns the week number\r\n     * @private\r\n     */\r\n    Schedule.prototype.getWeekNumberContent = function (dates) {\r\n        var weekNumber;\r\n        if (this.weekRule === 'FirstDay') {\r\n            var weekNumberDate = util.getWeekLastDate(dates.slice(-1)[0], this.firstDayOfWeek);\r\n            weekNumber = this.globalize.formatNumber(util.getWeekNumber(weekNumberDate));\r\n        }\r\n        else if (this.weekRule === 'FirstFourDayWeek') {\r\n            var weekFirstDate = util.getWeekFirstDate(dates.slice(-1)[0], this.firstDayOfWeek);\r\n            var weekLastDate = util.getWeekLastDate(dates.slice(-1)[0], this.firstDayOfWeek);\r\n            var weekMidDate = util.getWeekMiddleDate(weekFirstDate, weekLastDate);\r\n            weekNumber = this.globalize.formatNumber(util.getWeekNumber(weekMidDate));\r\n        }\r\n        else if (this.weekRule === 'FirstFullWeek') {\r\n            var weekFirstDate = util.getWeekFirstDate(dates.slice(-1)[0], this.firstDayOfWeek);\r\n            weekNumber = this.globalize.formatNumber(util.getWeekNumber(weekFirstDate));\r\n        }\r\n        return weekNumber;\r\n    };\r\n    /**\r\n     * Method to render the header indent template.\r\n     *\r\n     * @param {TdData} data Accepts the td data\r\n     * @param {Element} td Accepts the td element\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    Schedule.prototype.renderHeaderIndentTemplate = function (data, td) {\r\n        if (this.activeViewOptions.headerIndentTemplate) {\r\n            var scheduleId = this.element.id + '_';\r\n            var viewName = this.activeViewOptions.headerIndentTemplateName;\r\n            var templateId = scheduleId + viewName + 'headerIndentTemplate';\r\n            var indentTemplate = [].slice.call(this.getHeaderIndentTemplate()(data, this, 'headerIndentTemplate', templateId, false));\r\n            append(indentTemplate, td);\r\n        }\r\n    };\r\n    Schedule.prototype.unWireEvents = function () {\r\n        EventHandler.remove(window, 'resize', this.onScheduleResize);\r\n        EventHandler.remove(window, 'orientationchange', this.onScheduleResize);\r\n        EventHandler.remove(document, Browser.touchStartEvent, this.onDocumentClick);\r\n    };\r\n    /**\r\n     * Core method to return the component name.\r\n     *\r\n     * @returns {string} Returns the module name\r\n     * @private\r\n     */\r\n    Schedule.prototype.getModuleName = function () {\r\n        return 'schedule';\r\n    };\r\n    /**\r\n     * Returns the properties to be maintained in the persisted state.\r\n     *\r\n     * @returns {string} Returns the persistance data\r\n     * @private\r\n     */\r\n    Schedule.prototype.getPersistData = function () {\r\n        return this.addOnPersist(['currentView', 'selectedDate', 'scrollTop', 'scrollLeft']);\r\n    };\r\n    /**\r\n     * Called internally, if any of the property value changed.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    Schedule.prototype.onPropertyChanged = function (newProp, oldProp) {\r\n        if (this.isReact && isNullOrUndefined(this.activeView)) {\r\n            return;\r\n        }\r\n        var state = {\r\n            isRefresh: false, isResource: false, isDate: false, isView: false, isLayout: false, isDataManager: false\r\n        };\r\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\r\n            var prop = _a[_i];\r\n            switch (prop) {\r\n                case 'views':\r\n                    this.setViewOptions();\r\n                    if (this.headerModule) {\r\n                        this.headerModule.updateItems();\r\n                    }\r\n                    state.isView = true;\r\n                    break;\r\n                case 'currentView':\r\n                    state.isView = true;\r\n                    break;\r\n                case 'minDate':\r\n                case 'maxDate':\r\n                case 'selectedDate':\r\n                    state.isDate = true;\r\n                    break;\r\n                case 'dateFormat':\r\n                    this.activeViewOptions = this.getActiveViewOptions();\r\n                    if (this.headerModule) {\r\n                        this.headerModule.updateDateRange(this.activeView.getDateRangeText());\r\n                    }\r\n                    break;\r\n                case 'showHeaderBar':\r\n                    this.destroyHeaderModule();\r\n                    if (newProp.showHeaderBar) {\r\n                        this.headerModule = new HeaderRenderer(this);\r\n                        this.headerModule.updateDateRange(this.activeView.getDateRangeText());\r\n                    }\r\n                    this.notify(events.scrollUiUpdate, { cssProperties: this.getCssProperties() });\r\n                    if (this.activeView.isTimelineView()) {\r\n                        this.refreshEvents(false);\r\n                    }\r\n                    break;\r\n                case 'showWeekend':\r\n                case 'workDays':\r\n                case 'startHour':\r\n                case 'endHour':\r\n                case 'workHours':\r\n                case 'readonly':\r\n                case 'headerRows':\r\n                case 'showWeekNumber':\r\n                case 'rowAutoHeight':\r\n                    state.isLayout = true;\r\n                    break;\r\n                case 'locale':\r\n                case 'calendarMode':\r\n                    this.globalize = new Internationalization(this.locale);\r\n                    this.localeObj = new L10n(this.getModuleName(), this.defaultLocale, this.locale);\r\n                    this.setCldrTimeFormat();\r\n                    this.setCalendarMode();\r\n                    state.isRefresh = true;\r\n                    break;\r\n                case 'firstDayOfWeek':\r\n                    this.activeViewOptions.firstDayOfWeek = newProp.firstDayOfWeek;\r\n                    if (this.eventWindow) {\r\n                        this.eventWindow.refreshRecurrenceEditor();\r\n                    }\r\n                    state.isLayout = true;\r\n                    break;\r\n                case 'showTimeIndicator':\r\n                    if (this.activeViewOptions.timeScale.enable && this.activeView) {\r\n                        this.activeView.highlightCurrentTime();\r\n                    }\r\n                    break;\r\n                case 'cellHeaderTemplate':\r\n                    this.activeViewOptions.cellHeaderTemplate = newProp.cellHeaderTemplate;\r\n                    this.cellHeaderTemplateFn = this.templateParser(this.activeViewOptions.cellHeaderTemplate);\r\n                    state.isLayout = true;\r\n                    break;\r\n                case 'cellTemplate':\r\n                    this.activeViewOptions.cellTemplate = newProp.cellTemplate;\r\n                    this.cellTemplateFn = this.templateParser(this.activeViewOptions.cellTemplate);\r\n                    state.isLayout = true;\r\n                    break;\r\n                case 'dateHeaderTemplate':\r\n                    this.activeViewOptions.dateHeaderTemplate = newProp.dateHeaderTemplate;\r\n                    this.dateHeaderTemplateFn = this.templateParser(this.activeViewOptions.dateHeaderTemplate);\r\n                    state.isLayout = true;\r\n                    break;\r\n                case 'dayHeaderTemplate':\r\n                    this.activeViewOptions.dayHeaderTemplate = newProp.dayHeaderTemplate;\r\n                    this.dayHeaderTemplateFn = this.templateParser(this.activeViewOptions.dayHeaderTemplate);\r\n                    state.isLayout = true;\r\n                    break;\r\n                case 'monthHeaderTemplate':\r\n                    this.activeViewOptions.monthHeaderTemplate = newProp.monthHeaderTemplate;\r\n                    this.monthHeaderTemplateFn = this.templateParser(this.activeViewOptions.monthHeaderTemplate);\r\n                    state.isLayout = true;\r\n                    break;\r\n                case 'resourceHeaderTemplate':\r\n                    this.activeViewOptions.resourceHeaderTemplate = newProp.resourceHeaderTemplate;\r\n                    this.resourceHeaderTemplateFn = this.templateParser(this.activeViewOptions.resourceHeaderTemplate);\r\n                    state.isLayout = true;\r\n                    break;\r\n                case 'timezone':\r\n                    this.eventBase.timezonePropertyChange(oldProp.timezone);\r\n                    this.headerModule.setCalendarTimezone();\r\n                    break;\r\n                case 'enableRtl':\r\n                    this.setRtlClass();\r\n                    state.isRefresh = true;\r\n                    break;\r\n                default:\r\n                    this.extendedPropertyChange(prop, newProp, oldProp, state);\r\n                    break;\r\n            }\r\n        }\r\n        this.propertyChangeAction(state);\r\n    };\r\n    Schedule.prototype.propertyChangeAction = function (state) {\r\n        if (state.isRefresh) {\r\n            this.refresh();\r\n        }\r\n        else if (state.isResource) {\r\n            this.initializeResources(true);\r\n        }\r\n        else if (state.isView) {\r\n            this.changeView(this.currentView, null, true);\r\n        }\r\n        else if (state.isDate) {\r\n            this.changeDate(this.selectedDate);\r\n        }\r\n        else if (state.isLayout) {\r\n            this.initializeView(this.currentView);\r\n        }\r\n        else if (state.isDataManager && this.crudModule) {\r\n            if (this.dragAndDropModule) {\r\n                this.dragAndDropModule.actionObj.action = '';\r\n                removeClass([this.element], cls.EVENT_ACTION_CLASS);\r\n            }\r\n            this.crudModule.refreshDataManager();\r\n        }\r\n    };\r\n    Schedule.prototype.allDayRowScrollUpdate = function () {\r\n        var dateHeader = this.element.querySelector('.' + cls.DATE_HEADER_WRAP_CLASS);\r\n        var allDayRow = this.element.querySelector('.' + cls.ALLDAY_ROW_CLASS);\r\n        if (this.height === 'auto' || !this.enableAllDayScroll) {\r\n            addClass([dateHeader], cls.ALLDAY_APPOINTMENT_AUTO);\r\n            if (dateHeader.classList.contains(cls.ALLDAY_APPOINTMENT_SCROLL)) {\r\n                removeClass([dateHeader], cls.ALLDAY_APPOINTMENT_SCROLL);\r\n            }\r\n            if (this.uiStateValues.expand) {\r\n                var allDayCells = [].slice.call(this.element.querySelectorAll('.' + cls.ALLDAY_CELLS_CLASS));\r\n                allDayCells[0].style.height = (allDayRow.style.height) ? allDayRow.style.height : allDayCells[1].style.height;\r\n            }\r\n        }\r\n        else {\r\n            if (dateHeader.classList.contains(cls.ALLDAY_APPOINTMENT_AUTO)) {\r\n                removeClass([dateHeader], cls.ALLDAY_APPOINTMENT_AUTO);\r\n            }\r\n            this.eventBase.allDayExpandScroll(dateHeader);\r\n        }\r\n        if (!this.uiStateValues.expand) {\r\n            allDayRow.style.height = '';\r\n        }\r\n    };\r\n    Schedule.prototype.extendedPropertyChange = function (prop, newProp, oldProp, state) {\r\n        switch (prop) {\r\n            case 'width':\r\n            case 'height':\r\n            case 'enableAllDayScroll':\r\n                if (['Day', 'Week', 'WorkWeek'].indexOf(this.currentView) > -1) {\r\n                    this.allDayRowScrollUpdate();\r\n                }\r\n                this.notify(events.uiUpdate, { module: 'scroll', properties: { width: newProp.width, height: newProp.height } });\r\n                break;\r\n            case 'cssClass':\r\n                if (oldProp.cssClass) {\r\n                    removeClass([this.element], oldProp.cssClass.split(' '));\r\n                }\r\n                if (newProp.cssClass) {\r\n                    addClass([this.element], newProp.cssClass.split(' '));\r\n                }\r\n                break;\r\n            case 'hideEmptyAgendaDays':\r\n            case 'agendaDaysCount':\r\n                this.activeViewOptions = this.getActiveViewOptions();\r\n                state.isView = true;\r\n                break;\r\n            case 'eventSettings':\r\n                this.onEventSettingsPropertyChanged(newProp.eventSettings, oldProp.eventSettings, state);\r\n                break;\r\n            case 'allowKeyboardInteraction':\r\n                if (this.keyboardInteractionModule) {\r\n                    this.keyboardInteractionModule.destroy();\r\n                    this.keyboardInteractionModule = null;\r\n                }\r\n                if (newProp.allowKeyboardInteraction) {\r\n                    this.keyboardInteractionModule = new KeyboardInteraction(this);\r\n                }\r\n                break;\r\n            case 'timezoneDataSource':\r\n                if (this.eventWindow) {\r\n                    this.eventWindow.refresh();\r\n                }\r\n                break;\r\n            case 'editorTemplate':\r\n                if (!isNullOrUndefined(this.editorTemplate)) {\r\n                    this.editorTemplateFn = this.templateParser(this.editorTemplate);\r\n                }\r\n                if (this.eventWindow) {\r\n                    this.eventWindow.setDialogContent();\r\n                }\r\n                break;\r\n            case 'quickInfoTemplates':\r\n                if (this.quickInfoTemplates.header) {\r\n                    this.quickInfoTemplatesHeaderFn = this.templateParser(this.quickInfoTemplates.header);\r\n                }\r\n                if (this.quickInfoTemplates.content) {\r\n                    this.quickInfoTemplatesContentFn = this.templateParser(this.quickInfoTemplates.content);\r\n                }\r\n                if (this.quickInfoTemplates.footer) {\r\n                    this.quickInfoTemplatesFooterFn = this.templateParser(this.quickInfoTemplates.footer);\r\n                }\r\n                break;\r\n            case 'group':\r\n                this.onGroupSettingsPropertyChanged(newProp.group, oldProp.group, state);\r\n                break;\r\n            case 'resources':\r\n                state.isResource = true;\r\n                break;\r\n            case 'timeScale':\r\n                this.activeViewOptions.timeScale.interval = newProp.timeScale.interval || this.activeViewOptions.timeScale.interval;\r\n                this.activeViewOptions.timeScale.slotCount = newProp.timeScale.slotCount || this.activeViewOptions.timeScale.slotCount;\r\n                if (this.eventWindow) {\r\n                    this.eventWindow.refreshDateTimePicker();\r\n                }\r\n                state.isLayout = true;\r\n                break;\r\n            case 'allowDragAndDrop':\r\n            case 'allowResizing':\r\n            case 'eventDragArea':\r\n                this.refreshEvents(false);\r\n                break;\r\n            case 'weekRule':\r\n                state.isLayout = true;\r\n                break;\r\n            case 'firstMonthOfYear':\r\n                this.activeViewOptions.firstMonthOfYear = newProp.firstMonthOfYear;\r\n                this.viewIndex = this.activeView.viewIndex;\r\n                state.isLayout = true;\r\n                break;\r\n            case 'monthsCount':\r\n                this.activeViewOptions.monthsCount = newProp.monthsCount;\r\n                this.viewIndex = this.activeView.viewIndex;\r\n                state.isLayout = true;\r\n                break;\r\n            case 'timeFormat':\r\n                this.internalTimeFormat = newProp.timeFormat || this.activeViewOptions.timeFormat;\r\n                if (this.eventWindow) {\r\n                    this.eventWindow.refreshDateTimePicker();\r\n                }\r\n                state.isLayout = true;\r\n                break;\r\n            case 'enableAdaptiveUI':\r\n                if (this.showHeaderBar && this.headerModule) {\r\n                    this.destroyHeaderModule();\r\n                    this.headerModule = new HeaderRenderer(this);\r\n                    this.headerModule.updateDateRange(this.activeView.getDateRangeText());\r\n                }\r\n                state.isLayout = true;\r\n                break;\r\n            case 'headerIndentTemplate':\r\n                this.activeViewOptions.headerIndentTemplate = newProp.headerIndentTemplate;\r\n                this.headerIndentTemplateFn = this.templateParser(this.activeViewOptions.headerIndentTemplate);\r\n                state.isLayout = true;\r\n                break;\r\n        }\r\n    };\r\n    Schedule.prototype.setRtlClass = function () {\r\n        if (this.enableRtl) {\r\n            addClass([this.element], 'e-rtl');\r\n        }\r\n        else {\r\n            removeClass([this.element], 'e-rtl');\r\n        }\r\n    };\r\n    Schedule.prototype.onGroupSettingsPropertyChanged = function (newProp, oldProp, state) {\r\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\r\n            var prop = _a[_i];\r\n            if (prop === 'headerTooltipTemplate') {\r\n                this.headerTooltipTemplateFn = this.templateParser(newProp[prop]);\r\n            }\r\n            else {\r\n                state.isLayout = true;\r\n                if (this.eventWindow) {\r\n                    this.eventWindow.refresh();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Schedule.prototype.onEventSettingsPropertyChanged = function (newProp, oldProp, state) {\r\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\r\n            var prop = _a[_i];\r\n            switch (prop) {\r\n                case 'dataSource':\r\n                case 'query':\r\n                case 'fields':\r\n                    this.initializeDataModule();\r\n                    state.isDataManager = true;\r\n                    break;\r\n                case 'template':\r\n                    this.activeViewOptions.eventTemplate = newProp.template;\r\n                    this.appointmentTemplateFn = this.templateParser(this.activeViewOptions.eventTemplate);\r\n                    state.isDataManager = true;\r\n                    break;\r\n                case 'enableTooltip':\r\n                    if (this.eventTooltip) {\r\n                        this.eventTooltip.destroy();\r\n                        this.eventTooltip = null;\r\n                    }\r\n                    if (newProp.enableTooltip) {\r\n                        this.eventTooltip = new EventTooltip(this);\r\n                    }\r\n                    break;\r\n                case 'tooltipTemplate':\r\n                    this.eventTooltipTemplateFn = this.templateParser(this.eventSettings.tooltipTemplate);\r\n                    break;\r\n                case 'resourceColorField':\r\n                    if (this.resourceBase) {\r\n                        this.resourceBase.setResourceCollection();\r\n                    }\r\n                    state.isDataManager = true;\r\n                    break;\r\n                case 'editFollowingEvents':\r\n                    if (this.quickPopup) {\r\n                        this.quickPopup.refreshQuickDialog();\r\n                    }\r\n                    break;\r\n                case 'allowAdding':\r\n                case 'allowEditing':\r\n                case 'allowDeleting':\r\n                    if (this.showHeaderBar && this.headerModule) {\r\n                        this.headerModule.updateAddIcon();\r\n                    }\r\n                    if (this.eventWindow) {\r\n                        this.eventWindow.refresh();\r\n                    }\r\n                    break;\r\n                case 'spannedEventPlacement':\r\n                case 'minimumEventDuration':\r\n                case 'enableMaxHeight':\r\n                case 'enableIndicator':\r\n                    this.refreshEvents(false);\r\n                    break;\r\n                case 'ignoreWhitespace':\r\n                    state.isLayout = true;\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    Schedule.prototype.destroyHeaderModule = function () {\r\n        if (this.headerModule) {\r\n            this.headerModule.destroy();\r\n            this.headerModule = null;\r\n        }\r\n    };\r\n    Schedule.prototype.destroyPopups = function () {\r\n        if (this.quickPopup) {\r\n            this.quickPopup.destroy();\r\n            this.quickPopup = null;\r\n        }\r\n        if (this.eventWindow) {\r\n            this.eventWindow.destroy();\r\n            this.eventWindow = null;\r\n        }\r\n    };\r\n    /**\r\n     * Allows to show the spinner on schedule at the required scenarios.\r\n     *\r\n     * @function showSpinner\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.showSpinner = function () {\r\n        showSpinner(this.element);\r\n    };\r\n    /**\r\n     * When the spinner is shown manually using `showSpinner` method, it can be hidden using this `hideSpinner` method.\r\n     *\r\n     * @function hideSpinner\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.hideSpinner = function () {\r\n        hideSpinner(this.element);\r\n    };\r\n    /**\r\n     * Sets different working hours on the required working days by accepting the required start and end time as well as the date collection\r\n     *  as its parameters.\r\n     *\r\n     * @function setWorkHours\r\n     * @param {Date} dates Collection of dates on which the given start and end hour range needs to be applied.\r\n     * @param {string} start Defines the work start hour.\r\n     * @param {string} end Defines the work end hour.\r\n     * @param {number} groupIndex Defines the resource index from last level.\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.setWorkHours = function (dates, start, end, groupIndex) {\r\n        var cells = [];\r\n        cells = this.getWorkHourCells(dates, start, end, groupIndex);\r\n        addClass(cells, cls.WORK_HOURS_CLASS);\r\n    };\r\n    /**\r\n     * Removes or resets different working hours on the required working days by accepting the required start and end time as well as the\r\n     * date collection as its parameters.\r\n     * if no parameters has been passed to this function, it will remove all the work hours.\r\n     *\r\n     * @param {Date} dates Collection of dates on which the given start and end hour range need to be applied.\r\n     * @param {string} start Defines the work start hour.\r\n     * @param {string} end Defines the work end hour.\r\n     * @param {number} groupIndex Defines the resource index from last level.\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.resetWorkHours = function (dates, start, end, groupIndex) {\r\n        if (dates === void 0) { dates = this.activeView.renderDates; }\r\n        if (dates && start && end) {\r\n            var cells = this.getWorkHourCells(dates, start, end, groupIndex);\r\n            removeClass(cells, cls.WORK_HOURS_CLASS);\r\n        }\r\n        else {\r\n            var workHourCells = [].slice.call(this.element.querySelectorAll('.' + cls.WORK_HOURS_CLASS));\r\n            removeClass(workHourCells, cls.WORK_HOURS_CLASS);\r\n        }\r\n    };\r\n    Schedule.prototype.getWorkHourCells = function (dates, start, end, groupIndex) {\r\n        if (['Agenda', 'MonthAgenda', 'Month', 'TimelineMonth'].indexOf(this.currentView) > -1) {\r\n            return [];\r\n        }\r\n        var startHour = this.getStartEndTime(start);\r\n        var endHour = this.getStartEndTime(end);\r\n        var tableEle = this.getContentTable();\r\n        if (isNullOrUndefined(startHour) || isNullOrUndefined(endHour) || !tableEle) {\r\n            return [];\r\n        }\r\n        startHour.setMilliseconds(0);\r\n        endHour.setMilliseconds(0);\r\n        var viewStartHour = this.activeView.getStartHour();\r\n        if (startHour < viewStartHour) {\r\n            startHour = viewStartHour;\r\n        }\r\n        var viewEndHour = this.activeView.getEndHour();\r\n        if (endHour > viewEndHour) {\r\n            endHour = viewEndHour;\r\n        }\r\n        var msMajorInterval = this.activeViewOptions.timeScale.interval * util.MS_PER_MINUTE;\r\n        var msInterval = msMajorInterval / this.activeViewOptions.timeScale.slotCount;\r\n        var startIndex = Math.round((startHour.getTime() - viewStartHour.getTime()) / msInterval);\r\n        var endIndex = Math.ceil((endHour.getTime() - viewStartHour.getTime()) / msInterval);\r\n        var tempStartIndex = startIndex;\r\n        var tempEndIndex = endIndex;\r\n        var cells = [];\r\n        for (var _i = 0, dates_1 = dates; _i < dates_1.length; _i++) {\r\n            var date = dates_1[_i];\r\n            date = this.getDateTime(date);\r\n            util.resetTime(date);\r\n            var renderDates = this.activeView.renderDates;\r\n            if (!isNullOrUndefined(groupIndex) && this.resourceBase && !this.activeView.isTimelineView()) {\r\n                renderDates = this.resourceBase.lastResourceLevel[groupIndex].renderDates;\r\n            }\r\n            var colIndex = this.getIndexOfDate(renderDates, date);\r\n            if (colIndex >= 0) {\r\n                if (this.activeView.isTimelineView()) {\r\n                    var slotsPerDay = Math.round((viewEndHour.getTime() - viewStartHour.getTime()) / msInterval);\r\n                    startIndex = tempStartIndex + (colIndex * slotsPerDay);\r\n                    endIndex = tempEndIndex + (colIndex * slotsPerDay);\r\n                }\r\n                for (var i = startIndex; i < endIndex; i++) {\r\n                    if (this.activeView.isTimelineView()) {\r\n                        var rowIndex = (!isNullOrUndefined(groupIndex)) ? groupIndex : 0;\r\n                        cells.push(tableEle.rows[rowIndex].cells[i]);\r\n                    }\r\n                    else {\r\n                        if (!isNullOrUndefined(groupIndex)) {\r\n                            var selector = '.' + cls.WORK_CELLS_CLASS + '[data-group-index=\"' + groupIndex + '\"]';\r\n                            var tds = [].slice.call(tableEle.rows[i].querySelectorAll(selector));\r\n                            cells.push(tds[colIndex]);\r\n                        }\r\n                        else {\r\n                            cells.push(tableEle.rows[i].cells[colIndex]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return cells;\r\n    };\r\n    /**\r\n     * Retrieves the start and end time information of the specific cell element.\r\n     *\r\n     * @function getCellDetails\r\n     * @param {Element | Element[]} tdCol Accepts the single or collection of elements.\r\n     * @returns {CellClickEventArgs} Object An object holding the startTime, endTime and all-day information along with the target HTML element will be returned.\r\n     */\r\n    Schedule.prototype.getCellDetails = function (tdCol) {\r\n        var td = (tdCol instanceof Array) ? tdCol : [tdCol];\r\n        var firstTd = getElement(td[0]);\r\n        var lastTd = getElement(td.slice(-1)[0]);\r\n        var startTime = this.getDateFromElement(firstTd);\r\n        var endTime = this.getDateFromElement(lastTd);\r\n        if (isNullOrUndefined(startTime) || isNullOrUndefined(endTime)) {\r\n            return undefined;\r\n        }\r\n        var endDateFromColSpan = this.activeView.isTimelineView() && !isNullOrUndefined(lastTd.getAttribute('colSpan')) &&\r\n            this.headerRows.length > 0;\r\n        var duration = endDateFromColSpan ? parseInt(lastTd.getAttribute('colSpan'), 10) : 1;\r\n        if (!this.activeViewOptions.timeScale.enable || endDateFromColSpan || lastTd.classList.contains(cls.ALLDAY_CELLS_CLASS) ||\r\n            lastTd.classList.contains(cls.HEADER_CELLS_CLASS)) {\r\n            endTime = util.addDays(new Date(endTime.getTime()), duration);\r\n        }\r\n        else {\r\n            endTime = this.activeView.getEndDateFromStartDate(endTime);\r\n        }\r\n        var data = {\r\n            startTime: startTime,\r\n            endTime: endTime,\r\n            isAllDay: this.isAllDayCell(firstTd),\r\n            element: tdCol\r\n        };\r\n        var groupIndex = firstTd.getAttribute('data-group-index');\r\n        if (!isNullOrUndefined(groupIndex)) {\r\n            data.groupIndex = parseInt(groupIndex, 10);\r\n        }\r\n        return data;\r\n    };\r\n    /**\r\n     * Retrieves the selected cell elements.\r\n     *\r\n     * @function getSelectedElements\r\n     * @returns {Element[]} The elements of currently selected cells will be returned.\r\n     */\r\n    Schedule.prototype.getSelectedElements = function () {\r\n        return [].slice.call(this.element.querySelectorAll('.' + cls.SELECTED_CELL_CLASS));\r\n    };\r\n    /**\r\n     * To get the resource collection\r\n     *\r\n     * @function getResourceCollections\r\n     * @returns {ResourcesModel[]} Returns the resource collections\r\n     */\r\n    Schedule.prototype.getResourceCollections = function () {\r\n        return this.resourceCollection;\r\n    };\r\n    /**\r\n     * To set the resource collection\r\n     *\r\n     * @function setResourceCollections\r\n     * @param {ResourcesModel[]} resourceCol Accepts the resource collections in ResourcesModel type\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.setResourceCollections = function (resourceCol) {\r\n        this.setProperties({ resources: resourceCol }, false);\r\n    };\r\n    /**\r\n     * Current View could be change based on the provided parameters.\r\n     *\r\n     * @function changeCurrentView\r\n     * @param {View} viewName Accept the view in the viewCollections.\r\n     * @param {number} viewIndex Accept the viewIndex in the viewCollections.\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.changeCurrentView = function (viewName, viewIndex) {\r\n        var index = this.getViewIndex(viewName);\r\n        var view = viewName.charAt(0).toLowerCase() + viewName.slice(1);\r\n        var viewOptions = this.viewOptions[view];\r\n        if (viewOptions) {\r\n            index = this.viewCollections.indexOf(viewOptions[viewIndex || 0]);\r\n        }\r\n        if (index === -1 || index === this.viewIndex) {\r\n            return;\r\n        }\r\n        this.changeView(viewName, null, null, index);\r\n    };\r\n    /**\r\n     * Return the current view Index.\r\n     *\r\n     * @function getCurrentViewIndex\r\n     * @returns {number} Returns the view index\r\n     */\r\n    Schedule.prototype.getCurrentViewIndex = function () {\r\n        return this.viewIndex;\r\n    };\r\n    /**\r\n     * Retrieves the resource details based on the provided resource index.\r\n     *\r\n     * @param {number} index index of the resources at the last level.\r\n     * @returns {ResourceDetails} Object An object holding the details of resource and resourceData.\r\n     */\r\n    Schedule.prototype.getResourcesByIndex = function (index) {\r\n        if (this.resourceBase && this.resourceBase.lastResourceLevel) {\r\n            if (index < 0 || index >= this.resourceBase.lastResourceLevel.length) {\r\n                return undefined;\r\n            }\r\n            var data = this.resourceBase.lastResourceLevel[index];\r\n            var groupData = {};\r\n            this.resourceBase.setResourceValues(groupData, index);\r\n            return { resource: data.resource, resourceData: data.resourceData, groupData: groupData };\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * This method allows to expand the resource that available on the scheduler.\r\n     *\r\n     * @function expandResource\r\n     * @param {string | number} resourceId Accepts the resource id in either string or number type\r\n     * @param {string} name Accepts the name of the resource collection\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.expandResource = function (resourceId, name) {\r\n        if (this.activeView.isTimelineView() && this.resourceBase && this.resourceCollection.length > 1) {\r\n            this.resourceBase.resourceExpand(resourceId, name, false);\r\n        }\r\n    };\r\n    /**\r\n     * This method allows to collapse the resource that available on the scheduler.\r\n     *\r\n     * @function collapseResource\r\n     * @param {string | number} resourceId Accepts the resource id in either string or number type\r\n     * @param {string} name Accepts the name of the resource collection\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.collapseResource = function (resourceId, name) {\r\n        if (this.activeView.isTimelineView() && this.resourceBase && this.resourceCollection.length > 1) {\r\n            this.resourceBase.resourceExpand(resourceId, name, true);\r\n        }\r\n    };\r\n    /**\r\n     * Scrolls the Schedule content area to the specified time.\r\n     *\r\n     * @function scrollTo\r\n     * @param {string} hour Accepts the time value in the skeleton format of 'Hm'.\r\n     * @param {Date} scrollDate Accepts the date object value.\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.scrollTo = function (hour, scrollDate) {\r\n        if (this.activeView.scrollToDate && isNullOrUndefined(hour) && scrollDate) {\r\n            this.activeView.scrollToDate(scrollDate);\r\n        }\r\n        else if (this.activeView.scrollToHour) {\r\n            this.activeView.scrollToHour(hour, scrollDate);\r\n        }\r\n    };\r\n    /**\r\n     * This method allows scroll to the position of the any resources that available on the scheduler.\r\n     * This method is applicable for without Agenda and Month agenda views of the schedule.\r\n     *\r\n     * @function scrollToResource\r\n     * @param {string | number} resourceId Accepts the resource id in either string or number type\r\n     * @param {string} groupName Accepts the name of the resource collection\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.scrollToResource = function (resourceId, groupName) {\r\n        if (this.resourceBase && this.resourceBase.lastResourceLevel) {\r\n            this.resourceBase.resourceScroll(resourceId, groupName);\r\n        }\r\n    };\r\n    /**\r\n     * Exports the Scheduler events to a calendar (.ics) file. By default, the calendar is exported with a file name `Calendar.ics`.\r\n     * To change this file name on export, pass the custom string value as `fileName` to get the file downloaded with this provided name.\r\n     *\r\n     * @function exportToICalendar\r\n     * @param {string} fileName Accepts the string value.\r\n     * @param {Object[]} customData Accepts the collection of objects.\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.exportToICalendar = function (fileName, customData) {\r\n        if (this.iCalendarExportModule) {\r\n            this.iCalendarExportModule.initializeCalendarExport(fileName, customData);\r\n        }\r\n        else {\r\n            throw Error('Inject ICalendarExport module');\r\n        }\r\n    };\r\n    /**\r\n     * Imports the events from an .ics file downloaded from any of the calendars like Google or Outlook into the Scheduler.\r\n     * This method accepts the blob object or string format of an .ics file to be imported as a mandatory argument.\r\n     *\r\n     * @function importICalendar\r\n     * @param {Blob | string} fileContent Accepts the file object or string format of an .ics file.\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.importICalendar = function (fileContent) {\r\n        if (this.iCalendarImportModule) {\r\n            this.iCalendarImportModule.initializeCalendarImport(fileContent);\r\n        }\r\n        else {\r\n            throw Error('Inject ICalendarImport module');\r\n        }\r\n    };\r\n    /**\r\n     * Adds the newly created event into the Schedule dataSource.\r\n     *\r\n     * @function addEvent\r\n     * @param {Object | Object[]} data Single or collection of event objects to be added into Schedule.\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.addEvent = function (data) {\r\n        this.crudModule.addEvent(data);\r\n    };\r\n    /**\r\n     * Allows the Scheduler events data to be exported as an Excel file either in .xlsx or .csv file formats.\r\n     * By default, the whole event collection bound to the Scheduler gets exported as an Excel file.\r\n     * To export only the specific events of Scheduler, you need to pass the custom data collection as\r\n     * a parameter to this `exportToExcel` method. This method accepts the export options as arguments such as fileName,\r\n     * exportType, fields, customData, and includeOccurrences. The `fileName` denotes the name to be given for the exported\r\n     * file and the `exportType` allows you to set the format of an Excel file to be exported either as .xlsx or .csv.\r\n     * The custom or specific field collection of event dataSource to be exported can be provided through `fields` option\r\n     * and the custom data collection can be exported by passing them through the `customData` option. There also exists\r\n     * option to export each individual instances of the recurring events to an Excel file, by setting true or false to the\r\n     * `includeOccurrences` option, denoting either to include or exclude the occurrences as separate instances on an exported Excel file.\r\n     *\r\n     * @function exportToExcel\r\n     * @param {ExportOptions} excelExportOptions The export options to be set before start with exporting the Scheduler events to an Excel file.\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.exportToExcel = function (excelExportOptions) {\r\n        if (this.excelExportModule) {\r\n            this.excelExportModule.initializeExcelExport(excelExportOptions);\r\n        }\r\n        else {\r\n            throw Error('Inject ExcelExport module');\r\n        }\r\n    };\r\n    /**\r\n     * Method allows to print the scheduler.\r\n     *\r\n     * @function print\r\n     * @param {ScheduleModel} printOptions The export options to be set before start with exporting\r\n     * the Scheduler events to the print window.\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.print = function (printOptions) {\r\n        if (this.printModule) {\r\n            this.printModule.print(printOptions);\r\n        }\r\n        else {\r\n            throw Error('Inject Print module');\r\n        }\r\n    };\r\n    /**\r\n     * Updates the changes made in the event object by passing it as an parameter into the dataSource.\r\n     *\r\n     * @function saveEvent\r\n     * @param {Object | Object[]} data Single or collection of event objects to be saved into Schedule.\r\n     * @param {CurrentAction} currentAction Denotes the action that takes place either for editing occurrence or series.\r\n     *  The valid current action names are `EditOccurrence` or `EditSeries`.\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.saveEvent = function (data, currentAction) {\r\n        this.crudModule.saveEvent(data, currentAction);\r\n    };\r\n    /**\r\n     * Deletes the events based on the provided ID or event collection in the argument list.\r\n     *\r\n     * @function deleteEvent\r\n     * @param {string | number | Object | Object[]} id Accepts the ID as string or number type or single or collection of the event object which needs to be removed from the Schedule.\r\n     * @param {CurrentAction} currentAction Denotes the delete action that takes place either on occurrence or series events.\r\n     *  The valid current action names are `Delete`, `DeleteOccurrence` or `DeleteSeries`.\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.deleteEvent = function (id, currentAction) {\r\n        this.crudModule.deleteEvent(id, currentAction);\r\n    };\r\n    /**\r\n     * Retrieves the entire collection of events bound to the Schedule.\r\n     *\r\n     * @function getEvents\r\n     * @param {Date} startDate Accepts the start date.\r\n     * @param {Date} endDate Accepts te end date.\r\n     * @param {boolean} includeOccurrences Accepts the boolean value to process the occurrence from recurrence series.\r\n     * @returns {Object[]} Returns the collection of event objects from the Schedule.\r\n     */\r\n    Schedule.prototype.getEvents = function (startDate, endDate, includeOccurrences) {\r\n        var eventCollections = [];\r\n        if (includeOccurrences) {\r\n            eventCollections = this.eventBase.getProcessedEvents();\r\n        }\r\n        else {\r\n            eventCollections = this.eventsData;\r\n        }\r\n        if (startDate) {\r\n            startDate = this.getDateTime(startDate);\r\n        }\r\n        if (endDate) {\r\n            endDate = this.getDateTime(endDate);\r\n        }\r\n        eventCollections = this.eventBase.filterEventsByRange(eventCollections, startDate, endDate);\r\n        return eventCollections;\r\n    };\r\n    /**\r\n     * Retrieves the entire collection of block events bound to the Schedule.\r\n     *\r\n     * @function getBlockEvents\r\n     * @param {Date} startDate Accepts the start date.\r\n     * @param {Date} endDate Accepts te end date.\r\n     * @param {boolean} includeOccurrences Accepts the boolean value to process the occurrence from recurrence series.\r\n     * @returns {Object[]} Returns the collection of block event objects from the Schedule.\r\n     */\r\n    Schedule.prototype.getBlockEvents = function (startDate, endDate, includeOccurrences) {\r\n        var eventCollections = [];\r\n        if (includeOccurrences) {\r\n            eventCollections = this.eventBase.getProcessedEvents(this.blockData);\r\n        }\r\n        else {\r\n            eventCollections = this.blockData;\r\n        }\r\n        if (startDate) {\r\n            startDate = this.getDateTime(startDate);\r\n        }\r\n        if (endDate) {\r\n            endDate = this.getDateTime(endDate);\r\n        }\r\n        eventCollections = this.eventBase.filterEventsByRange(eventCollections, startDate, endDate);\r\n        return eventCollections;\r\n    };\r\n    /**\r\n     * Retrieves the occurrences of a single recurrence event based on the provided parent ID.\r\n     *\r\n     * @function getOccurrencesByID\r\n     * @param {number} eventID ID of the parent recurrence data from which the occurrences are fetched.\r\n     * @returns {Object[]} Returns the collection of occurrence event objects.\r\n     */\r\n    Schedule.prototype.getOccurrencesByID = function (eventID) {\r\n        return this.eventBase.getOccurrencesByID(eventID);\r\n    };\r\n    /**\r\n     * Retrieves all the occurrences that lies between the specific start and end time range.\r\n     *\r\n     * @function getOccurrencesByRange\r\n     * @param {Date} startTime Denotes the start time range.\r\n     * @param {Date} endTime Denotes the end time range.\r\n     * @returns {Object[]} Returns the collection of occurrence event objects that lies between the provided start and end time.\r\n     */\r\n    Schedule.prototype.getOccurrencesByRange = function (startTime, endTime) {\r\n        startTime = this.getDateTime(startTime);\r\n        endTime = this.getDateTime(endTime);\r\n        return this.eventBase.getOccurrencesByRange(startTime, endTime);\r\n    };\r\n    /**\r\n     * Retrieves the dates that lies on active view of Schedule.\r\n     *\r\n     * @function getCurrentViewDates\r\n     * @returns {Date[]} Returns the collection of dates.\r\n     */\r\n    Schedule.prototype.getCurrentViewDates = function () {\r\n        return this.activeView ? this.activeView.renderDates : [];\r\n    };\r\n    /**\r\n     * Set the recurrence editor instance from custom editor template.\r\n     *\r\n     * @function setRecurrenceEditor\r\n     * @param {RecurrenceEditor} recurrenceEditor instance has passed to fetch the instance in event window.\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.setRecurrenceEditor = function (recurrenceEditor) {\r\n        this.eventWindow.setRecurrenceEditor(recurrenceEditor);\r\n    };\r\n    /**\r\n     * Get the maximum id of an event.\r\n     *\r\n     * @function getEventMaxID\r\n     * @returns {number | string} Returns the maximum ID from scheduler data collections.\r\n     */\r\n    Schedule.prototype.getEventMaxID = function () {\r\n        return this.eventBase.getEventMaxID();\r\n    };\r\n    /**\r\n     * Get deleted occurrences from given recurrence series.\r\n     *\r\n     * @function getDeletedOccurrences\r\n     * @param {string | number | Object} recurrenceData Accepts the parent ID of the event object or parent event object\r\n     * @returns {Object[]} Returns the collection of deleted occurrence events.\r\n     */\r\n    Schedule.prototype.getDeletedOccurrences = function (recurrenceData) {\r\n        return this.eventBase.getDeletedOccurrences(recurrenceData);\r\n    };\r\n    /**\r\n     * Retrieves the events that lies on the current date range of the active view of Schedule.\r\n     *\r\n     * @function getCurrentViewEvents\r\n     * @returns {Object[]} Returns the collection of events.\r\n     */\r\n    Schedule.prototype.getCurrentViewEvents = function () {\r\n        return this.eventsProcessed;\r\n    };\r\n    /**\r\n     * Refreshes the event dataSource. This method may be useful when the events alone in the schedule needs to be re-rendered.\r\n     *\r\n     * @function refreshEvents\r\n     * @param {boolean} isRemoteRefresh Accepts the boolean to refresh data from remote or local\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.refreshEvents = function (isRemoteRefresh) {\r\n        if (isRemoteRefresh === void 0) { isRemoteRefresh = true; }\r\n        if (this.dragAndDropModule) {\r\n            this.dragAndDropModule.actionObj.action = '';\r\n            removeClass([this.element], cls.EVENT_ACTION_CLASS);\r\n        }\r\n        if (isRemoteRefresh) {\r\n            this.crudModule.refreshDataManager();\r\n        }\r\n        else {\r\n            if (this.activeViewOptions && this.activeViewOptions.eventTemplate) {\r\n                this.resetTemplates(['eventTemplate']);\r\n            }\r\n            var eventsData = this.eventsData || [];\r\n            var blockData = this.blockData || [];\r\n            var data = eventsData.concat(blockData);\r\n            this.notify(events.dataReady, { processedData: this.eventBase ? this.eventBase.processData(data) : [] });\r\n        }\r\n    };\r\n    /**\r\n     * Method to refresh the given Schedule templates\r\n     *\r\n     * @param {string} templateName Accepts the template name\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.refreshTemplates = function (templateName) {\r\n        if (templateName) {\r\n            this.resetTemplates([templateName]);\r\n        }\r\n        else {\r\n            this.resetTemplates();\r\n        }\r\n        switch (templateName) {\r\n            case 'eventTemplate':\r\n                this.appointmentTemplateFn = this.templateParser(this.activeViewOptions.eventTemplate);\r\n                this.refreshEvents(false);\r\n                break;\r\n            case 'dateHeaderTemplate':\r\n                this.dateHeaderTemplateFn = this.templateParser(this.activeViewOptions.dateHeaderTemplate);\r\n                this.activeView.refreshHeader();\r\n                break;\r\n            case 'resourceHeaderTemplate':\r\n                this.resourceHeaderTemplateFn = this.templateParser(this.activeViewOptions.resourceHeaderTemplate);\r\n                if (this.activeView.isTimelineView()) {\r\n                    this.activeView.refreshResourceHeader();\r\n                }\r\n                else {\r\n                    this.activeView.refreshHeader();\r\n                }\r\n                break;\r\n            case 'quickInfoTemplates':\r\n                if (this.quickPopup) {\r\n                    this.quickPopup.destroy();\r\n                    this.quickPopup = null;\r\n                }\r\n                this.quickPopup = new QuickPopups(this);\r\n                this.quickInfoTemplatesHeaderFn = this.templateParser(this.quickInfoTemplates.header);\r\n                this.quickInfoTemplatesContentFn = this.templateParser(this.quickInfoTemplates.content);\r\n                this.quickInfoTemplatesFooterFn = this.templateParser(this.quickInfoTemplates.footer);\r\n                break;\r\n            case 'editorTemplate':\r\n                if (this.eventWindow) {\r\n                    this.eventWindow.destroy();\r\n                    this.eventWindow = null;\r\n                }\r\n                this.eventWindow = new EventWindow(this);\r\n                this.editorTemplateFn = this.templateParser(this.editorTemplate);\r\n                break;\r\n            case 'tooltipTemplate':\r\n            case 'headerTooltipTemplate':\r\n                if (this.eventTooltip) {\r\n                    this.eventTooltip.destroy();\r\n                    this.eventTooltip = null;\r\n                }\r\n                this.eventTooltip = new EventTooltip(this);\r\n                this.eventTooltipTemplateFn = this.templateParser(this.eventSettings.tooltipTemplate);\r\n                this.headerTooltipTemplateFn = this.templateParser(this.activeViewOptions.group.headerTooltipTemplate);\r\n                break;\r\n            default:\r\n                this.initializeView(this.currentView);\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Refreshes the Schedule layout without re-render.\r\n     *\r\n     * @function refreshLayout\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.refreshLayout = function () {\r\n        this.onScheduleResize();\r\n        if (this.headerModule) {\r\n            this.headerModule.refresh();\r\n        }\r\n        if (this.eventWindow) {\r\n            this.eventWindow.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * To retrieve the appointment object from element.\r\n     *\r\n     * @function getEventDetails\r\n     * @param {Element} element Denotes the event UI element on the Schedule.\r\n     * @returns {Object} Returns the event details.\r\n     */\r\n    Schedule.prototype.getEventDetails = function (element) {\r\n        element = getElement(element);\r\n        var guid = element.getAttribute('data-guid');\r\n        if (guid) {\r\n            return this.eventBase.getEventByGuid(guid);\r\n        }\r\n        return {};\r\n    };\r\n    /**\r\n     * To check whether the given time range slots are available for event creation or already occupied by other events.\r\n     *\r\n     * @function isSlotAvailable\r\n     * @param {Date | Object} startTime Denotes the start time of the slot.\r\n     * @param {Date} endTime Denotes the end time of the slot.\r\n     * @param {number} groupIndex Defines the resource index from last level.\r\n     * @returns {boolean} Returns true, if the slot that lies in the provided time range does not contain any other events.\r\n     */\r\n    Schedule.prototype.isSlotAvailable = function (startTime, endTime, groupIndex) {\r\n        var _this = this;\r\n        var eventStart;\r\n        var eventEnd;\r\n        var eventObj = this.activeEventData.event;\r\n        if (startTime instanceof Date || typeof (startTime) === 'string') {\r\n            eventStart = startTime;\r\n            eventEnd = endTime;\r\n        }\r\n        else {\r\n            eventObj = startTime;\r\n            eventStart = startTime[this.eventFields.startTime];\r\n            eventEnd = startTime[this.eventFields.endTime];\r\n            if (this.resourceBase) {\r\n                groupIndex = this.eventBase.getGroupIndexFromEvent(startTime);\r\n            }\r\n        }\r\n        if (isNullOrUndefined(eventStart) || isNullOrUndefined(eventEnd)) {\r\n            return true;\r\n        }\r\n        eventStart = this.getDateTime(eventStart);\r\n        eventEnd = this.getDateTime(eventEnd);\r\n        var eventCollection = this.eventBase.filterEvents(eventStart, eventEnd);\r\n        if (!isNullOrUndefined(groupIndex) && this.resourceBase && this.resourceBase.lastResourceLevel.length > 0) {\r\n            eventCollection = this.eventBase.filterEventsByResource(this.resourceBase.lastResourceLevel[groupIndex], eventCollection);\r\n        }\r\n        if (eventObj) {\r\n            if (eventObj.Guid) {\r\n                eventCollection = eventCollection.filter(function (event) { return event.Guid !== eventObj.Guid; });\r\n            }\r\n            else {\r\n                eventCollection = eventCollection.filter(function (event) {\r\n                    return event[_this.eventFields.id] !== eventObj[_this.eventFields.id];\r\n                });\r\n            }\r\n        }\r\n        return (eventCollection.length > 0) ? false : true;\r\n    };\r\n    /**\r\n     * To manually open the event editor on specific time or on certain events.\r\n     *\r\n     * @function openEditor\r\n     * @param {Object} data It can be either cell data or event data.\r\n     * @param {CurrentAction} action Defines the action for which the editor needs to be opened such as either for new event creation or\r\n     *  for editing of existing events. The applicable action names that can be used here are `Add`, `Save`, `EditOccurrence`\r\n     *  and `EditSeries`.\r\n     * @param {boolean} isEventData It allows to decide whether the editor needs to be opened with the clicked cell details or with the\r\n     *  passed event details.\r\n     * @param {number} repeatType It opens the editor with the recurrence options based on the provided repeat type.\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.openEditor = function (data, action, isEventData, repeatType) {\r\n        if (action === 'Add' && !isEventData) {\r\n            data.startTime = this.getDateTime(data.startTime);\r\n            data.endTime = this.getDateTime(data.endTime);\r\n            if (!isNullOrUndefined(data.element)) {\r\n                data.element = getElement(data.element);\r\n            }\r\n        }\r\n        else {\r\n            data[this.eventFields.startTime] = this.getDateTime(data[this.eventFields.startTime]);\r\n            data[this.eventFields.endTime] = this.getDateTime(data[this.eventFields.endTime]);\r\n        }\r\n        this.currentAction = action;\r\n        if (action !== 'Add') {\r\n            this.activeEventData.event = data;\r\n        }\r\n        this.eventWindow.openEditor(data, action, isEventData, repeatType);\r\n    };\r\n    /**\r\n     * To manually close the event editor window\r\n     *\r\n     * @function closeEditor\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.closeEditor = function () {\r\n        if (this.eventWindow) {\r\n            this.eventWindow.dialogClose();\r\n        }\r\n    };\r\n    /**\r\n     * To manually close the quick info popup\r\n     *\r\n     * @function closeQuickInfoPopup\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.closeQuickInfoPopup = function () {\r\n        if (this.quickPopup) {\r\n            this.quickPopup.quickPopupHide(true);\r\n        }\r\n    };\r\n    /**\r\n     * Select the resource based on group index in mobile mode.\r\n     *\r\n     * @param {number} groupIndex Defines the resource index based on last level.\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.selectResourceByIndex = function (groupIndex) {\r\n        if (this.resourceBase && this.uiStateValues.isGroupAdaptive) {\r\n            this.resourceBase.selectResourceByIndex(groupIndex);\r\n        }\r\n    };\r\n    /**\r\n     * Select the resources to the based on id.\r\n     *\r\n     * @param {string | number} id id of the resource defined in resources collection.\r\n     * @param {string} name Name of the resource defined in resources collection.\r\n     * @returns {number} Returns the group index\r\n     */\r\n    Schedule.prototype.getIndexFromResourceId = function (id, name) {\r\n        if (this.resourceBase) {\r\n            return this.resourceBase.getIndexFromResourceId(id, name);\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Adds the resources to the specified index.\r\n     *\r\n     * @param {Object | Object[]} resources Accepts the resource data in single or collection of data.\r\n     * @param {string} name Name of the resource defined in resources collection.\r\n     * @param {number} index Index or position where the resource should be added.\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.addResource = function (resources, name, index) {\r\n        this.resourceBase.addResource(resources, name, index);\r\n    };\r\n    /**\r\n     * Removes the specified resource.\r\n     *\r\n     * @param {string | string[] | number | number[]} resourceId Specifies the resource id to be removed.\r\n     * @param {string} name Specifies the resource name from which the id should be referred.\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.removeResource = function (resourceId, name) {\r\n        this.resourceBase.removeResource(resourceId, name);\r\n    };\r\n    /**\r\n     * Destroys the Schedule component.\r\n     *\r\n     * @function destroy\r\n     * @returns {void}\r\n     */\r\n    Schedule.prototype.destroy = function () {\r\n        if (this.eventTooltip) {\r\n            this.eventTooltip.destroy();\r\n            this.eventTooltip = null;\r\n        }\r\n        this.destroyPopups();\r\n        this.hideSpinner();\r\n        this.unWireEvents();\r\n        this.destroyHeaderModule();\r\n        if (this.eventTooltip) {\r\n            this.eventTooltip.destroy();\r\n            this.eventTooltip = null;\r\n        }\r\n        if (this.eventBase) {\r\n            this.eventBase.destroy();\r\n            this.eventBase = null;\r\n        }\r\n        if (this.workCellAction) {\r\n            this.workCellAction.destroy();\r\n            this.workCellAction = null;\r\n        }\r\n        if (this.inlineModule) {\r\n            this.inlineModule.destroy();\r\n            this.inlineModule = null;\r\n        }\r\n        if (this.keyboardInteractionModule) {\r\n            this.keyboardInteractionModule.destroy();\r\n            this.keyboardInteractionModule = null;\r\n        }\r\n        if (this.scrollModule) {\r\n            this.scrollModule.destroy();\r\n            this.scrollModule = null;\r\n        }\r\n        if (this.printModule) {\r\n            this.printModule.destroy();\r\n        }\r\n        if (this.activeView) {\r\n            this.resetTemplates();\r\n            this.activeView.removeEventListener();\r\n            this.activeView.destroy();\r\n            this.activeView = null;\r\n        }\r\n        if (this.scheduleTouchModule) {\r\n            this.scheduleTouchModule.destroy();\r\n            this.scheduleTouchModule = null;\r\n        }\r\n        if (this.crudModule) {\r\n            this.crudModule.destroy();\r\n            this.crudModule = null;\r\n        }\r\n        if (this.dataModule) {\r\n            this.dataModule.destroy();\r\n            this.dataModule = null;\r\n        }\r\n        _super.prototype.destroy.call(this);\r\n        var modules = [\r\n            'dayModule', 'weekModule', 'workWeekModule', 'monthModule', 'monthAgendaModule', 'yearModule', 'agendaModule',\r\n            'timelineViewsModule', 'timelineMonthModule', 'timelineYearModule', 'resizeModule', 'dragAndDropModule',\r\n            'excelExportModule', 'printModule', 'iCalendarExportModule', 'iCalendarImportModule', 'tzModule', 'eventsData',\r\n            'eventsProcessed', 'blockData', 'blockProcessed', 'uiStateValues', 'viewCollections', 'viewOptions', 'defaultLocale',\r\n            'localeObj', 'selectedElements', 'resourceCollection', 'editorTitles', 'eventFields', 'activeViewOptions',\r\n            'activeEventData', 'activeCellsData', 'renderModule'\r\n        ];\r\n        for (var _i = 0, modules_1 = modules; _i < modules_1.length; _i++) {\r\n            var module = modules_1[_i];\r\n            this[module] = null;\r\n        }\r\n        util.removeChildren(this.element);\r\n        var removeClasses = [cls.ROOT, cls.RTL, cls.DEVICE_CLASS, cls.MULTI_DRAG];\r\n        if (this.cssClass) {\r\n            removeClasses = removeClasses.concat(this.cssClass.split(' '));\r\n        }\r\n        removeClass([this.element], removeClasses);\r\n    };\r\n    __decorate([\r\n        Property('auto')\r\n    ], Schedule.prototype, \"width\", void 0);\r\n    __decorate([\r\n        Property('auto')\r\n    ], Schedule.prototype, \"height\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], Schedule.prototype, \"showHeaderBar\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], Schedule.prototype, \"showTimeIndicator\", void 0);\r\n    __decorate([\r\n        Property('Week')\r\n    ], Schedule.prototype, \"currentView\", void 0);\r\n    __decorate([\r\n        Property(['Day', 'Week', 'WorkWeek', 'Month', 'Agenda'])\r\n    ], Schedule.prototype, \"views\", void 0);\r\n    __decorate([\r\n        Property(new Date())\r\n    ], Schedule.prototype, \"selectedDate\", void 0);\r\n    __decorate([\r\n        Property(new Date(1900, 0, 1))\r\n    ], Schedule.prototype, \"minDate\", void 0);\r\n    __decorate([\r\n        Property(new Date(2099, 11, 31))\r\n    ], Schedule.prototype, \"maxDate\", void 0);\r\n    __decorate([\r\n        Property()\r\n    ], Schedule.prototype, \"dateFormat\", void 0);\r\n    __decorate([\r\n        Property('Gregorian')\r\n    ], Schedule.prototype, \"calendarMode\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], Schedule.prototype, \"showWeekend\", void 0);\r\n    __decorate([\r\n        Property(0)\r\n    ], Schedule.prototype, \"firstDayOfWeek\", void 0);\r\n    __decorate([\r\n        Property('FirstDay')\r\n    ], Schedule.prototype, \"weekRule\", void 0);\r\n    __decorate([\r\n        Property([1, 2, 3, 4, 5])\r\n    ], Schedule.prototype, \"workDays\", void 0);\r\n    __decorate([\r\n        Property(12)\r\n    ], Schedule.prototype, \"monthsCount\", void 0);\r\n    __decorate([\r\n        Property('00:00')\r\n    ], Schedule.prototype, \"startHour\", void 0);\r\n    __decorate([\r\n        Property('24:00')\r\n    ], Schedule.prototype, \"endHour\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], Schedule.prototype, \"timeFormat\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], Schedule.prototype, \"enableAllDayScroll\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], Schedule.prototype, \"enableAdaptiveUI\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], Schedule.prototype, \"allowResizing\", void 0);\r\n    __decorate([\r\n        Complex({}, WorkHours)\r\n    ], Schedule.prototype, \"workHours\", void 0);\r\n    __decorate([\r\n        Complex({}, TimeScale)\r\n    ], Schedule.prototype, \"timeScale\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], Schedule.prototype, \"allowKeyboardInteraction\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], Schedule.prototype, \"allowDragAndDrop\", void 0);\r\n    __decorate([\r\n        Property()\r\n    ], Schedule.prototype, \"dateHeaderTemplate\", void 0);\r\n    __decorate([\r\n        Property()\r\n    ], Schedule.prototype, \"cellHeaderTemplate\", void 0);\r\n    __decorate([\r\n        Property()\r\n    ], Schedule.prototype, \"dayHeaderTemplate\", void 0);\r\n    __decorate([\r\n        Property()\r\n    ], Schedule.prototype, \"monthHeaderTemplate\", void 0);\r\n    __decorate([\r\n        Property()\r\n    ], Schedule.prototype, \"cellTemplate\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], Schedule.prototype, \"readonly\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], Schedule.prototype, \"showQuickInfo\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], Schedule.prototype, \"allowInline\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], Schedule.prototype, \"allowMultiCellSelection\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], Schedule.prototype, \"allowMultiRowSelection\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], Schedule.prototype, \"quickInfoOnSelectionEnd\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], Schedule.prototype, \"showWeekNumber\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], Schedule.prototype, \"rowAutoHeight\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], Schedule.prototype, \"allowMultiDrag\", void 0);\r\n    __decorate([\r\n        Property(0)\r\n    ], Schedule.prototype, \"firstMonthOfYear\", void 0);\r\n    __decorate([\r\n        Property()\r\n    ], Schedule.prototype, \"editorTemplate\", void 0);\r\n    __decorate([\r\n        Complex({}, QuickInfoTemplates)\r\n    ], Schedule.prototype, \"quickInfoTemplates\", void 0);\r\n    __decorate([\r\n        Property(7)\r\n    ], Schedule.prototype, \"agendaDaysCount\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], Schedule.prototype, \"hideEmptyAgendaDays\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], Schedule.prototype, \"enableRecurrenceValidation\", void 0);\r\n    __decorate([\r\n        Property()\r\n    ], Schedule.prototype, \"timezone\", void 0);\r\n    __decorate([\r\n        Complex({}, EventSettings)\r\n    ], Schedule.prototype, \"eventSettings\", void 0);\r\n    __decorate([\r\n        Property(timezoneData)\r\n    ], Schedule.prototype, \"timezoneDataSource\", void 0);\r\n    __decorate([\r\n        Property()\r\n    ], Schedule.prototype, \"resourceHeaderTemplate\", void 0);\r\n    __decorate([\r\n        Property()\r\n    ], Schedule.prototype, \"headerIndentTemplate\", void 0);\r\n    __decorate([\r\n        Complex({}, Group)\r\n    ], Schedule.prototype, \"group\", void 0);\r\n    __decorate([\r\n        Collection([], Resources)\r\n    ], Schedule.prototype, \"resources\", void 0);\r\n    __decorate([\r\n        Collection([], HeaderRows)\r\n    ], Schedule.prototype, \"headerRows\", void 0);\r\n    __decorate([\r\n        Property()\r\n    ], Schedule.prototype, \"cssClass\", void 0);\r\n    __decorate([\r\n        Property()\r\n    ], Schedule.prototype, \"eventDragArea\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"created\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"destroyed\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"cellClick\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"cellDoubleClick\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"moreEventsClick\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"hover\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"select\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"actionBegin\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"actionComplete\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"actionFailure\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"navigating\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"renderCell\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"eventClick\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"eventRendered\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"dataBinding\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"popupOpen\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"popupClose\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"dragStart\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"drag\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"dragStop\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"resizeStart\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"resizing\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"resizeStop\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Schedule.prototype, \"dataBound\", void 0);\r\n    Schedule = __decorate([\r\n        NotifyPropertyChanges\r\n    ], Schedule);\r\n    return Schedule;\r\n}(Component));\r\nexport { Schedule };\r\n"]},"metadata":{},"sourceType":"module"}