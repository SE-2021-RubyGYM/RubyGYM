{"ast":null,"code":"/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module ui/iframe/iframeview\n */\nimport View from '../view';\n/**\n * The iframe view class.\n *\n * \t\tconst iframe = new IframeView();\n *\n *\t\tiframe.render();\n *\t\tdocument.body.appendChild( iframe.element );\n *\n * \t\tiframe.on( 'loaded', () => {\n *\t\t\tconsole.log( 'The iframe has loaded', iframe.element.contentWindow );\n *\t\t} );\n *\n * \t\tiframe.element.src = 'https://ckeditor.com';\n *\n * @extends module:ui/view~View\n */\n\nexport default class IframeView extends View {\n  /**\n   * Creates a new instance of the iframe view.\n   *\n   * @param {module:utils/locale~Locale} [locale] The locale instance.\n   */\n  constructor(locale) {\n    super(locale);\n    const bind = this.bindTemplate;\n    this.setTemplate({\n      tag: 'iframe',\n      attributes: {\n        class: ['ck', 'ck-reset_all'],\n        // It seems that we need to allow scripts in order to be able to listen to events.\n        // TODO: Research that. Perhaps the src must be set?\n        sandbox: 'allow-same-origin allow-scripts'\n      },\n      on: {\n        load: bind.to('loaded')\n      }\n    });\n  }\n  /**\n   * Renders the iframe's {@link #element} and returns a `Promise` for asynchronous\n   * child `contentDocument` loading process.\n   *\n   * @returns {Promise} A promise which resolves once the iframe `contentDocument` has\n   * been {@link #event:loaded}.\n   */\n\n\n  render() {\n    return new Promise(resolve => {\n      this.on('loaded', resolve);\n      super.render();\n    });\n  }\n\n}\n/**\n * Fired when the DOM iframe's `contentDocument` finished loading.\n *\n * @event loaded\n */","map":{"version":3,"sources":["D:/Project/nhap_mon_cnpm/my-app/node_modules/@ckeditor/ckeditor5-ui/src/iframe/iframeview.js"],"names":["View","IframeView","constructor","locale","bind","bindTemplate","setTemplate","tag","attributes","class","sandbox","on","load","to","render","Promise","resolve"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAEA,OAAOA,IAAP,MAAiB,SAAjB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,MAAMC,UAAN,SAAyBD,IAAzB,CAA8B;AAC5C;AACD;AACA;AACA;AACA;AACCE,EAAAA,WAAW,CAAEC,MAAF,EAAW;AACrB,UAAOA,MAAP;AAEA,UAAMC,IAAI,GAAG,KAAKC,YAAlB;AAEA,SAAKC,WAAL,CAAkB;AACjBC,MAAAA,GAAG,EAAE,QADY;AAEjBC,MAAAA,UAAU,EAAE;AACXC,QAAAA,KAAK,EAAE,CACN,IADM,EAEN,cAFM,CADI;AAKX;AACA;AACAC,QAAAA,OAAO,EAAE;AAPE,OAFK;AAWjBC,MAAAA,EAAE,EAAE;AACHC,QAAAA,IAAI,EAAER,IAAI,CAACS,EAAL,CAAS,QAAT;AADH;AAXa,KAAlB;AAeA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;;;AACCC,EAAAA,MAAM,GAAG;AACR,WAAO,IAAIC,OAAJ,CAAaC,OAAO,IAAI;AAC9B,WAAKL,EAAL,CAAS,QAAT,EAAmBK,OAAnB;AACA,YAAMF,MAAN;AACA,KAHM,CAAP;AAIA;;AAxC2C;AA2C7C;AACA;AACA;AACA;AACA","sourcesContent":["/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module ui/iframe/iframeview\n */\n\nimport View from '../view';\n\n/**\n * The iframe view class.\n *\n * \t\tconst iframe = new IframeView();\n *\n *\t\tiframe.render();\n *\t\tdocument.body.appendChild( iframe.element );\n *\n * \t\tiframe.on( 'loaded', () => {\n *\t\t\tconsole.log( 'The iframe has loaded', iframe.element.contentWindow );\n *\t\t} );\n *\n * \t\tiframe.element.src = 'https://ckeditor.com';\n *\n * @extends module:ui/view~View\n */\nexport default class IframeView extends View {\n\t/**\n\t * Creates a new instance of the iframe view.\n\t *\n\t * @param {module:utils/locale~Locale} [locale] The locale instance.\n\t */\n\tconstructor( locale ) {\n\t\tsuper( locale );\n\n\t\tconst bind = this.bindTemplate;\n\n\t\tthis.setTemplate( {\n\t\t\ttag: 'iframe',\n\t\t\tattributes: {\n\t\t\t\tclass: [\n\t\t\t\t\t'ck',\n\t\t\t\t\t'ck-reset_all'\n\t\t\t\t],\n\t\t\t\t// It seems that we need to allow scripts in order to be able to listen to events.\n\t\t\t\t// TODO: Research that. Perhaps the src must be set?\n\t\t\t\tsandbox: 'allow-same-origin allow-scripts'\n\t\t\t},\n\t\t\ton: {\n\t\t\t\tload: bind.to( 'loaded' )\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * Renders the iframe's {@link #element} and returns a `Promise` for asynchronous\n\t * child `contentDocument` loading process.\n\t *\n\t * @returns {Promise} A promise which resolves once the iframe `contentDocument` has\n\t * been {@link #event:loaded}.\n\t */\n\trender() {\n\t\treturn new Promise( resolve => {\n\t\t\tthis.on( 'loaded', resolve );\n\t\t\tsuper.render();\n\t\t} );\n\t}\n}\n\n/**\n * Fired when the DOM iframe's `contentDocument` finished loading.\n *\n * @event loaded\n */\n"]},"metadata":{},"sourceType":"module"}