{"ast":null,"code":"/**\r\n * Copyright 2013-2015, Facebook, Inc.\r\n * All rights reserved.\r\n *\r\n * This source code is licensed under the BSD-style license found in the\r\n * LICENSE file in the root directory of this source tree. An additional grant\r\n * of patent rights can be found in the PATENTS file in the same directory.\r\n *\r\n * @providesModule ReactReconciler\r\n */\n'use strict';\n\nvar ReactRef = require('./ReactRef');\n/**\r\n * Helper to call ReactRef.attachRefs with this composite component, split out\r\n * to avoid allocations in the transaction mount-ready queue.\r\n */\n\n\nfunction attachRefs() {\n  ReactRef.attachRefs(this, this._currentElement);\n}\n\nvar ReactReconciler = {\n  /**\r\n   * Initializes the component, renders markup, and registers event listeners.\r\n   *\r\n   * @param {ReactComponent} internalInstance\r\n   * @param {string} rootID DOM ID of the root node.\r\n   * @param {ReactReconcileTransaction|ReactServerRenderingTransaction} transaction\r\n   * @return {?string} Rendered markup to be inserted into the DOM.\r\n   * @final\r\n   * @internal\r\n   */\n  mountComponent: function (internalInstance, rootID, transaction, context) {\n    var markup = internalInstance.mountComponent(rootID, transaction, context);\n\n    if (internalInstance._currentElement && internalInstance._currentElement.ref != null) {\n      transaction.getReactMountReady().enqueue(attachRefs, internalInstance);\n    }\n\n    return markup;\n  },\n\n  /**\r\n   * Releases any resources allocated by `mountComponent`.\r\n   *\r\n   * @final\r\n   * @internal\r\n   */\n  unmountComponent: function (internalInstance) {\n    ReactRef.detachRefs(internalInstance, internalInstance._currentElement);\n    internalInstance.unmountComponent();\n  },\n\n  /**\r\n   * Update a component using a new element.\r\n   *\r\n   * @param {ReactComponent} internalInstance\r\n   * @param {ReactElement} nextElement\r\n   * @param {ReactReconcileTransaction} transaction\r\n   * @param {object} context\r\n   * @internal\r\n   */\n  receiveComponent: function (internalInstance, nextElement, transaction, context) {\n    var prevElement = internalInstance._currentElement;\n\n    if (nextElement === prevElement && context === internalInstance._context) {\n      // Since elements are immutable after the owner is rendered,\n      // we can do a cheap identity compare here to determine if this is a\n      // superfluous reconcile. It's possible for state to be mutable but such\n      // change should trigger an update of the owner which would recreate\n      // the element. We explicitly check for the existence of an owner since\n      // it's possible for an element created outside a composite to be\n      // deeply mutated and reused.\n      // TODO: Bailing out early is just a perf optimization right?\n      // TODO: Removing the return statement should affect correctness?\n      return;\n    }\n\n    var refsChanged = ReactRef.shouldUpdateRefs(prevElement, nextElement);\n\n    if (refsChanged) {\n      ReactRef.detachRefs(internalInstance, prevElement);\n    }\n\n    internalInstance.receiveComponent(nextElement, transaction, context);\n\n    if (refsChanged && internalInstance._currentElement && internalInstance._currentElement.ref != null) {\n      transaction.getReactMountReady().enqueue(attachRefs, internalInstance);\n    }\n  },\n\n  /**\r\n   * Flush any dirty changes in a component.\r\n   *\r\n   * @param {ReactComponent} internalInstance\r\n   * @param {ReactReconcileTransaction} transaction\r\n   * @internal\r\n   */\n  performUpdateIfNecessary: function (internalInstance, transaction) {\n    internalInstance.performUpdateIfNecessary(transaction);\n  }\n};\nmodule.exports = ReactReconciler;","map":{"version":3,"sources":["C:/Users/nvtung/Các project thực hiện/RubyGYM/client/node_modules/jsx-to-string/node_modules/react/lib/ReactReconciler.js"],"names":["ReactRef","require","attachRefs","_currentElement","ReactReconciler","mountComponent","internalInstance","rootID","transaction","context","markup","ref","getReactMountReady","enqueue","unmountComponent","detachRefs","receiveComponent","nextElement","prevElement","_context","refsChanged","shouldUpdateRefs","performUpdateIfNecessary","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,YAAD,CAAtB;AAEA;AACA;AACA;AACA;;;AACA,SAASC,UAAT,GAAsB;AACpBF,EAAAA,QAAQ,CAACE,UAAT,CAAoB,IAApB,EAA0B,KAAKC,eAA/B;AACD;;AAED,IAAIC,eAAe,GAAG;AAEpB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEC,EAAAA,cAAc,EAAE,UAAUC,gBAAV,EAA4BC,MAA5B,EAAoCC,WAApC,EAAiDC,OAAjD,EAA0D;AACxE,QAAIC,MAAM,GAAGJ,gBAAgB,CAACD,cAAjB,CAAgCE,MAAhC,EAAwCC,WAAxC,EAAqDC,OAArD,CAAb;;AACA,QAAIH,gBAAgB,CAACH,eAAjB,IAAoCG,gBAAgB,CAACH,eAAjB,CAAiCQ,GAAjC,IAAwC,IAAhF,EAAsF;AACpFH,MAAAA,WAAW,CAACI,kBAAZ,GAAiCC,OAAjC,CAAyCX,UAAzC,EAAqDI,gBAArD;AACD;;AACD,WAAOI,MAAP;AACD,GAlBmB;;AAoBpB;AACF;AACA;AACA;AACA;AACA;AACEI,EAAAA,gBAAgB,EAAE,UAAUR,gBAAV,EAA4B;AAC5CN,IAAAA,QAAQ,CAACe,UAAT,CAAoBT,gBAApB,EAAsCA,gBAAgB,CAACH,eAAvD;AACAG,IAAAA,gBAAgB,CAACQ,gBAAjB;AACD,GA7BmB;;AA+BpB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEE,EAAAA,gBAAgB,EAAE,UAAUV,gBAAV,EAA4BW,WAA5B,EAAyCT,WAAzC,EAAsDC,OAAtD,EAA+D;AAC/E,QAAIS,WAAW,GAAGZ,gBAAgB,CAACH,eAAnC;;AAEA,QAAIc,WAAW,KAAKC,WAAhB,IAA+BT,OAAO,KAAKH,gBAAgB,CAACa,QAAhE,EAA0E;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACD;;AAED,QAAIC,WAAW,GAAGpB,QAAQ,CAACqB,gBAAT,CAA0BH,WAA1B,EAAuCD,WAAvC,CAAlB;;AAEA,QAAIG,WAAJ,EAAiB;AACfpB,MAAAA,QAAQ,CAACe,UAAT,CAAoBT,gBAApB,EAAsCY,WAAtC;AACD;;AAEDZ,IAAAA,gBAAgB,CAACU,gBAAjB,CAAkCC,WAAlC,EAA+CT,WAA/C,EAA4DC,OAA5D;;AAEA,QAAIW,WAAW,IAAId,gBAAgB,CAACH,eAAhC,IAAmDG,gBAAgB,CAACH,eAAjB,CAAiCQ,GAAjC,IAAwC,IAA/F,EAAqG;AACnGH,MAAAA,WAAW,CAACI,kBAAZ,GAAiCC,OAAjC,CAAyCX,UAAzC,EAAqDI,gBAArD;AACD;AACF,GApEmB;;AAsEpB;AACF;AACA;AACA;AACA;AACA;AACA;AACEgB,EAAAA,wBAAwB,EAAE,UAAUhB,gBAAV,EAA4BE,WAA5B,EAAyC;AACjEF,IAAAA,gBAAgB,CAACgB,wBAAjB,CAA0Cd,WAA1C;AACD;AA/EmB,CAAtB;AAmFAe,MAAM,CAACC,OAAP,GAAiBpB,eAAjB","sourcesContent":["/**\r\n * Copyright 2013-2015, Facebook, Inc.\r\n * All rights reserved.\r\n *\r\n * This source code is licensed under the BSD-style license found in the\r\n * LICENSE file in the root directory of this source tree. An additional grant\r\n * of patent rights can be found in the PATENTS file in the same directory.\r\n *\r\n * @providesModule ReactReconciler\r\n */\r\n\r\n'use strict';\r\n\r\nvar ReactRef = require('./ReactRef');\r\n\r\n/**\r\n * Helper to call ReactRef.attachRefs with this composite component, split out\r\n * to avoid allocations in the transaction mount-ready queue.\r\n */\r\nfunction attachRefs() {\r\n  ReactRef.attachRefs(this, this._currentElement);\r\n}\r\n\r\nvar ReactReconciler = {\r\n\r\n  /**\r\n   * Initializes the component, renders markup, and registers event listeners.\r\n   *\r\n   * @param {ReactComponent} internalInstance\r\n   * @param {string} rootID DOM ID of the root node.\r\n   * @param {ReactReconcileTransaction|ReactServerRenderingTransaction} transaction\r\n   * @return {?string} Rendered markup to be inserted into the DOM.\r\n   * @final\r\n   * @internal\r\n   */\r\n  mountComponent: function (internalInstance, rootID, transaction, context) {\r\n    var markup = internalInstance.mountComponent(rootID, transaction, context);\r\n    if (internalInstance._currentElement && internalInstance._currentElement.ref != null) {\r\n      transaction.getReactMountReady().enqueue(attachRefs, internalInstance);\r\n    }\r\n    return markup;\r\n  },\r\n\r\n  /**\r\n   * Releases any resources allocated by `mountComponent`.\r\n   *\r\n   * @final\r\n   * @internal\r\n   */\r\n  unmountComponent: function (internalInstance) {\r\n    ReactRef.detachRefs(internalInstance, internalInstance._currentElement);\r\n    internalInstance.unmountComponent();\r\n  },\r\n\r\n  /**\r\n   * Update a component using a new element.\r\n   *\r\n   * @param {ReactComponent} internalInstance\r\n   * @param {ReactElement} nextElement\r\n   * @param {ReactReconcileTransaction} transaction\r\n   * @param {object} context\r\n   * @internal\r\n   */\r\n  receiveComponent: function (internalInstance, nextElement, transaction, context) {\r\n    var prevElement = internalInstance._currentElement;\r\n\r\n    if (nextElement === prevElement && context === internalInstance._context) {\r\n      // Since elements are immutable after the owner is rendered,\r\n      // we can do a cheap identity compare here to determine if this is a\r\n      // superfluous reconcile. It's possible for state to be mutable but such\r\n      // change should trigger an update of the owner which would recreate\r\n      // the element. We explicitly check for the existence of an owner since\r\n      // it's possible for an element created outside a composite to be\r\n      // deeply mutated and reused.\r\n\r\n      // TODO: Bailing out early is just a perf optimization right?\r\n      // TODO: Removing the return statement should affect correctness?\r\n      return;\r\n    }\r\n\r\n    var refsChanged = ReactRef.shouldUpdateRefs(prevElement, nextElement);\r\n\r\n    if (refsChanged) {\r\n      ReactRef.detachRefs(internalInstance, prevElement);\r\n    }\r\n\r\n    internalInstance.receiveComponent(nextElement, transaction, context);\r\n\r\n    if (refsChanged && internalInstance._currentElement && internalInstance._currentElement.ref != null) {\r\n      transaction.getReactMountReady().enqueue(attachRefs, internalInstance);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Flush any dirty changes in a component.\r\n   *\r\n   * @param {ReactComponent} internalInstance\r\n   * @param {ReactReconcileTransaction} transaction\r\n   * @internal\r\n   */\r\n  performUpdateIfNecessary: function (internalInstance, transaction) {\r\n    internalInstance.performUpdateIfNecessary(transaction);\r\n  }\r\n\r\n};\r\n\r\nmodule.exports = ReactReconciler;"]},"metadata":{},"sourceType":"script"}