{"ast":null,"code":"/**\r\n * Template Engine Bridge\r\n */\nimport { compile as render } from './template';\nimport { createElement } from './dom';\nimport { isNullOrUndefined, isBlazor } from './util';\nvar HAS_ROW = /^[\\n\\r.]+<tr|^<tr/;\nvar HAS_SVG = /^[\\n\\r.]+<svg|^<path|^<g/;\nexport var blazorTemplates = {};\n/**\r\n *\r\n * @returns {string} ?\r\n */\n\nexport function getRandomId() {\n  return '-' + Math.random().toString(36).substr(2, 5);\n}\n/**\r\n * Compile the template string into template function.\r\n *\r\n * @param {string} templateString - The template string which is going to convert.\r\n * @param {Object} helper - Helper functions as an object.\r\n * @param {boolean} ignorePrefix ?\r\n * @returns {NodeList} ?\r\n * @private\r\n */\n// eslint-disable-next-line\n\nexport function compile(templateString, helper, ignorePrefix) {\n  var compiler = engineObj.compile(templateString, helper, ignorePrefix); // eslint-disable-next-line\n\n  return function (data, component, propName, templateId, isStringTemplate, index, element) {\n    var result = compiler(data, component, propName, element);\n    var blazorTemplateId = 'BlazorTemplateId';\n\n    if (isBlazor() && !isStringTemplate) {\n      var randomId = getRandomId();\n      var blazorId = templateId + randomId;\n\n      if (!blazorTemplates[templateId]) {\n        blazorTemplates[templateId] = [];\n      }\n\n      if (!isNullOrUndefined(index)) {\n        var keys = Object.keys(blazorTemplates[templateId][index]);\n\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n          var key = keys_1[_i];\n\n          if (key !== blazorTemplateId && data[key]) {\n            blazorTemplates[templateId][index][key] = data[key];\n          }\n\n          if (key === blazorTemplateId) {\n            blazorId = blazorTemplates[templateId][index][key];\n          }\n        }\n      } else {\n        data[blazorTemplateId] = blazorId;\n        blazorTemplates[templateId].push(data);\n      } // eslint-disable-next-line\n\n\n      return propName === 'rowTemplate' ? [createElement('tr', {\n        id: blazorId,\n        className: 'e-blazor-template'\n      })] : // eslint-disable-next-line\n      [createElement('div', {\n        id: blazorId,\n        className: 'e-blazor-template'\n      })];\n    }\n\n    if (typeof result === 'string') {\n      if (HAS_SVG.test(result)) {\n        var ele = createElement('svg', {\n          innerHTML: result\n        });\n        return ele.childNodes;\n      } else {\n        var ele = createElement(HAS_ROW.test(result) ? 'table' : 'div', {\n          innerHTML: result\n        });\n        return ele.childNodes;\n      }\n    } else {\n      return result;\n    }\n  };\n}\n/**\r\n *\r\n * @param {string} templateId ?\r\n * @param {string} templateName ?\r\n * @param {string} comp ?\r\n * @param {boolean} isEmpty ?\r\n * @param {Function} callBack ?\r\n * @returns {void} ?\r\n */\n\nexport function updateBlazorTemplate(templateId, templateName, comp, isEmpty, callBack) {\n  if (isBlazor()) {\n    var ejsIntrop = 'sfBlazor';\n    window[ejsIntrop].updateTemplate(templateName, blazorTemplates[templateId], templateId, comp, callBack);\n\n    if (isEmpty !== false) {\n      blazorTemplates[templateId] = [];\n    }\n  }\n}\n/**\r\n *\r\n * @param {string} templateId ?\r\n * @param {string} templateName ?\r\n * @param {number} index ?\r\n * @returns {void} ?\r\n */\n\nexport function resetBlazorTemplate(templateId, templateName, index) {\n  var templateDiv = document.getElementById(templateId);\n\n  if (templateDiv) {\n    // eslint-disable-next-line\n    var innerTemplates = templateDiv.getElementsByClassName('blazor-inner-template');\n\n    for (var i = 0; i < innerTemplates.length; i++) {\n      var tempId = ' ';\n\n      if (!isNullOrUndefined(index)) {\n        tempId = innerTemplates[index].getAttribute('data-templateId');\n      } else {\n        tempId = innerTemplates[i].getAttribute('data-templateId');\n      }\n\n      var tempElement = document.getElementById(tempId);\n\n      if (tempElement) {\n        var length_1 = tempElement.childNodes.length;\n\n        for (var j = 0; j < length_1; j++) {\n          if (!isNullOrUndefined(index)) {\n            innerTemplates[index].appendChild(tempElement.childNodes[0]);\n            i = innerTemplates.length;\n          } else {\n            innerTemplates[i].appendChild(tempElement.childNodes[0]);\n          }\n        }\n      }\n    }\n  }\n}\n/**\r\n * Set your custom template engine for template rendering.\r\n *\r\n * @param  {ITemplateEngine} classObj - Class object for custom template.\r\n * @returns {void} ?\r\n * @private\r\n */\n\nexport function setTemplateEngine(classObj) {\n  engineObj.compile = classObj.compile;\n}\n/**\r\n * Get current template engine for template rendering\r\n *\r\n * @returns {string} ?\r\n * @private\r\n */\n\nexport function getTemplateEngine() {\n  return engineObj.compile;\n} //Default Engine Class\n\nvar Engine =\n/** @class */\nfunction () {\n  function Engine() {} // eslint-disable-next-line\n\n\n  Engine.prototype.compile = function (templateString, helper, ignorePrefix) {\n    if (helper === void 0) {\n      helper = {};\n    }\n\n    return render(templateString, helper);\n  };\n\n  return Engine;\n}();\n\nvar engineObj = {\n  compile: new Engine().compile\n};","map":{"version":3,"sources":["D:/4_PROJECTS/RubyGYM/client/node_modules/@syncfusion/ej2-base/src/template-engine.js"],"names":["compile","render","createElement","isNullOrUndefined","isBlazor","HAS_ROW","HAS_SVG","blazorTemplates","getRandomId","Math","random","toString","substr","templateString","helper","ignorePrefix","compiler","engineObj","data","component","propName","templateId","isStringTemplate","index","element","result","blazorTemplateId","randomId","blazorId","keys","Object","_i","keys_1","length","key","push","id","className","test","ele","innerHTML","childNodes","updateBlazorTemplate","templateName","comp","isEmpty","callBack","ejsIntrop","window","updateTemplate","resetBlazorTemplate","templateDiv","document","getElementById","innerTemplates","getElementsByClassName","i","tempId","getAttribute","tempElement","length_1","j","appendChild","setTemplateEngine","classObj","getTemplateEngine","Engine","prototype"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,OAAO,IAAIC,MAApB,QAAkC,YAAlC;AACA,SAASC,aAAT,QAA8B,OAA9B;AACA,SAASC,iBAAT,EAA4BC,QAA5B,QAA4C,QAA5C;AACA,IAAIC,OAAO,GAAG,mBAAd;AACA,IAAIC,OAAO,GAAG,0BAAd;AACA,OAAO,IAAIC,eAAe,GAAG,EAAtB;AACP;AACA;AACA;AACA;;AACA,OAAO,SAASC,WAAT,GAAuB;AAC1B,SAAO,MAAMC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAlC,EAAqC,CAArC,CAAb;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASZ,OAAT,CAAiBa,cAAjB,EAAiCC,MAAjC,EAAyCC,YAAzC,EAAuD;AAC1D,MAAIC,QAAQ,GAAGC,SAAS,CAACjB,OAAV,CAAkBa,cAAlB,EAAkCC,MAAlC,EAA0CC,YAA1C,CAAf,CAD0D,CAE1D;;AACA,SAAO,UAAUG,IAAV,EAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,EAAiDC,gBAAjD,EAAmEC,KAAnE,EAA0EC,OAA1E,EAAmF;AACtF,QAAIC,MAAM,GAAGT,QAAQ,CAACE,IAAD,EAAOC,SAAP,EAAkBC,QAAlB,EAA4BI,OAA5B,CAArB;AACA,QAAIE,gBAAgB,GAAG,kBAAvB;;AACA,QAAItB,QAAQ,MAAM,CAACkB,gBAAnB,EAAqC;AACjC,UAAIK,QAAQ,GAAGnB,WAAW,EAA1B;AACA,UAAIoB,QAAQ,GAAGP,UAAU,GAAGM,QAA5B;;AACA,UAAI,CAACpB,eAAe,CAACc,UAAD,CAApB,EAAkC;AAC9Bd,QAAAA,eAAe,CAACc,UAAD,CAAf,GAA8B,EAA9B;AACH;;AACD,UAAI,CAAClB,iBAAiB,CAACoB,KAAD,CAAtB,EAA+B;AAC3B,YAAIM,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYtB,eAAe,CAACc,UAAD,CAAf,CAA4BE,KAA5B,CAAZ,CAAX;;AACA,aAAK,IAAIQ,EAAE,GAAG,CAAT,EAAYC,MAAM,GAAGH,IAA1B,EAAgCE,EAAE,GAAGC,MAAM,CAACC,MAA5C,EAAoDF,EAAE,EAAtD,EAA0D;AACtD,cAAIG,GAAG,GAAGF,MAAM,CAACD,EAAD,CAAhB;;AACA,cAAIG,GAAG,KAAKR,gBAAR,IAA4BR,IAAI,CAACgB,GAAD,CAApC,EAA2C;AACvC3B,YAAAA,eAAe,CAACc,UAAD,CAAf,CAA4BE,KAA5B,EAAmCW,GAAnC,IAA0ChB,IAAI,CAACgB,GAAD,CAA9C;AACH;;AACD,cAAIA,GAAG,KAAKR,gBAAZ,EAA8B;AAC1BE,YAAAA,QAAQ,GAAGrB,eAAe,CAACc,UAAD,CAAf,CAA4BE,KAA5B,EAAmCW,GAAnC,CAAX;AACH;AACJ;AACJ,OAXD,MAYK;AACDhB,QAAAA,IAAI,CAACQ,gBAAD,CAAJ,GAAyBE,QAAzB;AACArB,QAAAA,eAAe,CAACc,UAAD,CAAf,CAA4Bc,IAA5B,CAAiCjB,IAAjC;AACH,OArBgC,CAsBjC;;;AACA,aAAOE,QAAQ,KAAK,aAAb,GAA6B,CAAClB,aAAa,CAAC,IAAD,EAAO;AAAEkC,QAAAA,EAAE,EAAER,QAAN;AAAgBS,QAAAA,SAAS,EAAE;AAA3B,OAAP,CAAd,CAA7B,GACH;AACA,OAACnC,aAAa,CAAC,KAAD,EAAQ;AAAEkC,QAAAA,EAAE,EAAER,QAAN;AAAgBS,QAAAA,SAAS,EAAE;AAA3B,OAAR,CAAd,CAFJ;AAGH;;AACD,QAAI,OAAOZ,MAAP,KAAkB,QAAtB,EAAgC;AAC5B,UAAInB,OAAO,CAACgC,IAAR,CAAab,MAAb,CAAJ,EAA0B;AACtB,YAAIc,GAAG,GAAGrC,aAAa,CAAC,KAAD,EAAQ;AAAEsC,UAAAA,SAAS,EAAEf;AAAb,SAAR,CAAvB;AACA,eAAOc,GAAG,CAACE,UAAX;AACH,OAHD,MAIK;AACD,YAAIF,GAAG,GAAGrC,aAAa,CAAEG,OAAO,CAACiC,IAAR,CAAab,MAAb,IAAuB,OAAvB,GAAiC,KAAnC,EAA2C;AAAEe,UAAAA,SAAS,EAAEf;AAAb,SAA3C,CAAvB;AACA,eAAOc,GAAG,CAACE,UAAX;AACH;AACJ,KATD,MAUK;AACD,aAAOhB,MAAP;AACH;AACJ,GA3CD;AA4CH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASiB,oBAAT,CAA8BrB,UAA9B,EAA0CsB,YAA1C,EAAwDC,IAAxD,EAA8DC,OAA9D,EAAuEC,QAAvE,EAAiF;AACpF,MAAI1C,QAAQ,EAAZ,EAAgB;AACZ,QAAI2C,SAAS,GAAG,UAAhB;AACAC,IAAAA,MAAM,CAACD,SAAD,CAAN,CAAkBE,cAAlB,CAAiCN,YAAjC,EAA+CpC,eAAe,CAACc,UAAD,CAA9D,EAA4EA,UAA5E,EAAwFuB,IAAxF,EAA8FE,QAA9F;;AACA,QAAID,OAAO,KAAK,KAAhB,EAAuB;AACnBtC,MAAAA,eAAe,CAACc,UAAD,CAAf,GAA8B,EAA9B;AACH;AACJ;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS6B,mBAAT,CAA6B7B,UAA7B,EAAyCsB,YAAzC,EAAuDpB,KAAvD,EAA8D;AACjE,MAAI4B,WAAW,GAAGC,QAAQ,CAACC,cAAT,CAAwBhC,UAAxB,CAAlB;;AACA,MAAI8B,WAAJ,EAAiB;AACb;AACA,QAAIG,cAAc,GAAGH,WAAW,CAACI,sBAAZ,CAAmC,uBAAnC,CAArB;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,cAAc,CAACrB,MAAnC,EAA2CuB,CAAC,EAA5C,EAAgD;AAC5C,UAAIC,MAAM,GAAG,GAAb;;AACA,UAAI,CAACtD,iBAAiB,CAACoB,KAAD,CAAtB,EAA+B;AAC3BkC,QAAAA,MAAM,GAAGH,cAAc,CAAC/B,KAAD,CAAd,CAAsBmC,YAAtB,CAAmC,iBAAnC,CAAT;AACH,OAFD,MAGK;AACDD,QAAAA,MAAM,GAAGH,cAAc,CAACE,CAAD,CAAd,CAAkBE,YAAlB,CAA+B,iBAA/B,CAAT;AACH;;AACD,UAAIC,WAAW,GAAGP,QAAQ,CAACC,cAAT,CAAwBI,MAAxB,CAAlB;;AACA,UAAIE,WAAJ,EAAiB;AACb,YAAIC,QAAQ,GAAGD,WAAW,CAAClB,UAAZ,CAAuBR,MAAtC;;AACA,aAAK,IAAI4B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,QAApB,EAA8BC,CAAC,EAA/B,EAAmC;AAC/B,cAAI,CAAC1D,iBAAiB,CAACoB,KAAD,CAAtB,EAA+B;AAC3B+B,YAAAA,cAAc,CAAC/B,KAAD,CAAd,CAAsBuC,WAAtB,CAAkCH,WAAW,CAAClB,UAAZ,CAAuB,CAAvB,CAAlC;AACAe,YAAAA,CAAC,GAAGF,cAAc,CAACrB,MAAnB;AACH,WAHD,MAIK;AACDqB,YAAAA,cAAc,CAACE,CAAD,CAAd,CAAkBM,WAAlB,CAA8BH,WAAW,CAAClB,UAAZ,CAAuB,CAAvB,CAA9B;AACH;AACJ;AACJ;AACJ;AACJ;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASsB,iBAAT,CAA2BC,QAA3B,EAAqC;AACxC/C,EAAAA,SAAS,CAACjB,OAAV,GAAoBgE,QAAQ,CAAChE,OAA7B;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASiE,iBAAT,GAA6B;AAChC,SAAOhD,SAAS,CAACjB,OAAjB;AACH,C,CACD;;AACA,IAAIkE,MAAM;AAAG;AAAe,YAAY;AACpC,WAASA,MAAT,GAAkB,CACjB,CAFmC,CAGpC;;;AACAA,EAAAA,MAAM,CAACC,SAAP,CAAiBnE,OAAjB,GAA2B,UAAUa,cAAV,EAA0BC,MAA1B,EAAkCC,YAAlC,EAAgD;AACvE,QAAID,MAAM,KAAK,KAAK,CAApB,EAAuB;AAAEA,MAAAA,MAAM,GAAG,EAAT;AAAc;;AACvC,WAAOb,MAAM,CAACY,cAAD,EAAiBC,MAAjB,CAAb;AACH,GAHD;;AAIA,SAAOoD,MAAP;AACH,CAT2B,EAA5B;;AAUA,IAAIjD,SAAS,GAAG;AAAEjB,EAAAA,OAAO,EAAE,IAAIkE,MAAJ,GAAalE;AAAxB,CAAhB","sourcesContent":["/**\r\n * Template Engine Bridge\r\n */\r\nimport { compile as render } from './template';\r\nimport { createElement } from './dom';\r\nimport { isNullOrUndefined, isBlazor } from './util';\r\nvar HAS_ROW = /^[\\n\\r.]+<tr|^<tr/;\r\nvar HAS_SVG = /^[\\n\\r.]+<svg|^<path|^<g/;\r\nexport var blazorTemplates = {};\r\n/**\r\n *\r\n * @returns {string} ?\r\n */\r\nexport function getRandomId() {\r\n    return '-' + Math.random().toString(36).substr(2, 5);\r\n}\r\n/**\r\n * Compile the template string into template function.\r\n *\r\n * @param {string} templateString - The template string which is going to convert.\r\n * @param {Object} helper - Helper functions as an object.\r\n * @param {boolean} ignorePrefix ?\r\n * @returns {NodeList} ?\r\n * @private\r\n */\r\n// eslint-disable-next-line\r\nexport function compile(templateString, helper, ignorePrefix) {\r\n    var compiler = engineObj.compile(templateString, helper, ignorePrefix);\r\n    // eslint-disable-next-line\r\n    return function (data, component, propName, templateId, isStringTemplate, index, element) {\r\n        var result = compiler(data, component, propName, element);\r\n        var blazorTemplateId = 'BlazorTemplateId';\r\n        if (isBlazor() && !isStringTemplate) {\r\n            var randomId = getRandomId();\r\n            var blazorId = templateId + randomId;\r\n            if (!blazorTemplates[templateId]) {\r\n                blazorTemplates[templateId] = [];\r\n            }\r\n            if (!isNullOrUndefined(index)) {\r\n                var keys = Object.keys(blazorTemplates[templateId][index]);\r\n                for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n                    var key = keys_1[_i];\r\n                    if (key !== blazorTemplateId && data[key]) {\r\n                        blazorTemplates[templateId][index][key] = data[key];\r\n                    }\r\n                    if (key === blazorTemplateId) {\r\n                        blazorId = blazorTemplates[templateId][index][key];\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                data[blazorTemplateId] = blazorId;\r\n                blazorTemplates[templateId].push(data);\r\n            }\r\n            // eslint-disable-next-line\r\n            return propName === 'rowTemplate' ? [createElement('tr', { id: blazorId, className: 'e-blazor-template' })] :\r\n                // eslint-disable-next-line\r\n                [createElement('div', { id: blazorId, className: 'e-blazor-template' })];\r\n        }\r\n        if (typeof result === 'string') {\r\n            if (HAS_SVG.test(result)) {\r\n                var ele = createElement('svg', { innerHTML: result });\r\n                return ele.childNodes;\r\n            }\r\n            else {\r\n                var ele = createElement((HAS_ROW.test(result) ? 'table' : 'div'), { innerHTML: result });\r\n                return ele.childNodes;\r\n            }\r\n        }\r\n        else {\r\n            return result;\r\n        }\r\n    };\r\n}\r\n/**\r\n *\r\n * @param {string} templateId ?\r\n * @param {string} templateName ?\r\n * @param {string} comp ?\r\n * @param {boolean} isEmpty ?\r\n * @param {Function} callBack ?\r\n * @returns {void} ?\r\n */\r\nexport function updateBlazorTemplate(templateId, templateName, comp, isEmpty, callBack) {\r\n    if (isBlazor()) {\r\n        var ejsIntrop = 'sfBlazor';\r\n        window[ejsIntrop].updateTemplate(templateName, blazorTemplates[templateId], templateId, comp, callBack);\r\n        if (isEmpty !== false) {\r\n            blazorTemplates[templateId] = [];\r\n        }\r\n    }\r\n}\r\n/**\r\n *\r\n * @param {string} templateId ?\r\n * @param {string} templateName ?\r\n * @param {number} index ?\r\n * @returns {void} ?\r\n */\r\nexport function resetBlazorTemplate(templateId, templateName, index) {\r\n    var templateDiv = document.getElementById(templateId);\r\n    if (templateDiv) {\r\n        // eslint-disable-next-line\r\n        var innerTemplates = templateDiv.getElementsByClassName('blazor-inner-template');\r\n        for (var i = 0; i < innerTemplates.length; i++) {\r\n            var tempId = ' ';\r\n            if (!isNullOrUndefined(index)) {\r\n                tempId = innerTemplates[index].getAttribute('data-templateId');\r\n            }\r\n            else {\r\n                tempId = innerTemplates[i].getAttribute('data-templateId');\r\n            }\r\n            var tempElement = document.getElementById(tempId);\r\n            if (tempElement) {\r\n                var length_1 = tempElement.childNodes.length;\r\n                for (var j = 0; j < length_1; j++) {\r\n                    if (!isNullOrUndefined(index)) {\r\n                        innerTemplates[index].appendChild(tempElement.childNodes[0]);\r\n                        i = innerTemplates.length;\r\n                    }\r\n                    else {\r\n                        innerTemplates[i].appendChild(tempElement.childNodes[0]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * Set your custom template engine for template rendering.\r\n *\r\n * @param  {ITemplateEngine} classObj - Class object for custom template.\r\n * @returns {void} ?\r\n * @private\r\n */\r\nexport function setTemplateEngine(classObj) {\r\n    engineObj.compile = classObj.compile;\r\n}\r\n/**\r\n * Get current template engine for template rendering\r\n *\r\n * @returns {string} ?\r\n * @private\r\n */\r\nexport function getTemplateEngine() {\r\n    return engineObj.compile;\r\n}\r\n//Default Engine Class\r\nvar Engine = /** @class */ (function () {\r\n    function Engine() {\r\n    }\r\n    // eslint-disable-next-line\r\n    Engine.prototype.compile = function (templateString, helper, ignorePrefix) {\r\n        if (helper === void 0) { helper = {}; }\r\n        return render(templateString, helper);\r\n    };\r\n    return Engine;\r\n}());\r\nvar engineObj = { compile: new Engine().compile };\r\n"]},"metadata":{},"sourceType":"module"}