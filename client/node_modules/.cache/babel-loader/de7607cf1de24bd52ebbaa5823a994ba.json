{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nimport { EventHandler, Property, Internationalization, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Animation, Browser } from '@syncfusion/ej2-base';\nimport { cldrData, L10n, Component, getDefaultDateObject, rippleEffect, Event } from '@syncfusion/ej2-base';\nimport { remove, addClass, detach, removeClass, closest, append, attributes, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, getValue, extend, getUniqueID, ChildProperty } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { ListBase } from '@syncfusion/ej2-lists';\nvar WRAPPERCLASS = 'e-time-wrapper';\nvar POPUP = 'e-popup';\nvar ERROR = 'e-error';\nvar POPUPDIMENSION = '240px';\nvar DAY = new Date().getDate();\nvar MONTH = new Date().getMonth();\nvar YEAR = new Date().getFullYear();\nvar ROOT = 'e-timepicker';\nvar LIBRARY = 'e-lib';\nvar CONTROL = 'e-control';\nvar CONTENT = 'e-content';\nvar SELECTED = 'e-active';\nvar HOVER = 'e-hover';\nvar NAVIGATION = 'e-navigation';\nvar DISABLED = 'e-disabled';\nvar ICONANIMATION = 'e-icon-anim';\nvar TIMEICON = 'e-time-icon';\nvar CLEARICON = 'e-clear-icon';\nvar FOCUS = 'e-input-focus';\nvar LISTCLASS = 'e-list-item';\nvar HALFPOSITION = 2;\nvar ANIMATIONDURATION = 50;\nvar OVERFLOW = 'e-time-overflow';\nvar OFFSETVAL = 4;\nvar EDITABLE = 'e-non-edit';\nvar wrapperAttributes = ['title', 'class', 'style']; // eslint-disable-next-line @typescript-eslint/no-namespace\n\nexport var TimePickerBase;\n\n(function (TimePickerBase) {\n  // eslint-disable-next-line max-len, jsdoc/require-jsdoc\n  function createListItems(createdEl, min, max, globalize, timeFormat, step) {\n    var formatOptions;\n\n    if (this.calendarMode === 'Gregorian') {\n      formatOptions = {\n        format: timeFormat,\n        type: 'time'\n      };\n    } else {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      formatOptions = {\n        format: timeFormat,\n        type: 'time',\n        calendar: 'islamic'\n      };\n    }\n\n    var start;\n    var interval = step * 60000;\n    var listItems = [];\n    var timeCollections = [];\n    start = +min.setMilliseconds(0);\n    var end = +max.setMilliseconds(0);\n\n    while (end >= start) {\n      timeCollections.push(start);\n      listItems.push(globalize.formatDate(new Date(start), {\n        format: timeFormat,\n        type: 'time'\n      }));\n      start += interval;\n    }\n\n    var listTag = ListBase.createList(createdEl, listItems, null, true);\n    return {\n      collection: timeCollections,\n      list: listTag\n    };\n  }\n\n  TimePickerBase.createListItems = createListItems;\n})(TimePickerBase || (TimePickerBase = {}));\n\nvar TimeMaskPlaceholder =\n/** @class */\nfunction (_super) {\n  __extends(TimeMaskPlaceholder, _super);\n\n  function TimeMaskPlaceholder() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property('day')], TimeMaskPlaceholder.prototype, \"day\", void 0);\n\n  __decorate([Property('month')], TimeMaskPlaceholder.prototype, \"month\", void 0);\n\n  __decorate([Property('year')], TimeMaskPlaceholder.prototype, \"year\", void 0);\n\n  __decorate([Property('day of the week')], TimeMaskPlaceholder.prototype, \"dayOfTheWeek\", void 0);\n\n  __decorate([Property('hour')], TimeMaskPlaceholder.prototype, \"hour\", void 0);\n\n  __decorate([Property('minute')], TimeMaskPlaceholder.prototype, \"minute\", void 0);\n\n  __decorate([Property('second')], TimeMaskPlaceholder.prototype, \"second\", void 0);\n\n  return TimeMaskPlaceholder;\n}(ChildProperty);\n\nexport { TimeMaskPlaceholder };\n/**\r\n * TimePicker is an intuitive interface component which provides an options to select a time value\r\n * from popup list or to set a desired time value.\r\n * ```\r\n * <input id='timepicker' type='text'/>\r\n * <script>\r\n *   var timePickerObj = new TimePicker({ value: new Date() });\r\n *   timePickerObj.appendTo('#timepicker');\r\n * </script>\r\n * ```\r\n */\n\nvar TimePicker =\n/** @class */\nfunction (_super) {\n  __extends(TimePicker, _super);\n  /**\r\n   * Constructor for creating the widget\r\n   *\r\n   * @param {TimePickerModel} options - Specifies the TimePicker model.\r\n   * @param {string | HTMLInputElement} element - Specifies the element to render as component.\r\n   * @private\r\n   */\n\n\n  function TimePicker(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.liCollections = [];\n    _this.timeCollections = [];\n    _this.disableItemCollection = [];\n    _this.invalidValueString = null;\n    _this.isAngular = false;\n    _this.preventChange = false;\n    _this.maskedDateValue = '';\n    _this.moduleName = _this.getModuleName();\n    _this.timeOptions = options;\n    return _this;\n  }\n  /**\r\n   * Initialize the event handler\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  TimePicker.prototype.preRender = function () {\n    this.keyConfigure = {\n      enter: 'enter',\n      escape: 'escape',\n      end: 'end',\n      tab: 'tab',\n      home: 'home',\n      down: 'downarrow',\n      up: 'uparrow',\n      left: 'leftarrow',\n      right: 'rightarrow',\n      open: 'alt+downarrow',\n      close: 'alt+uparrow'\n    };\n    this.cloneElement = this.element.cloneNode(true);\n    removeClass([this.cloneElement], [ROOT, CONTROL, LIBRARY]);\n    this.inputElement = this.element;\n    this.angularTag = null;\n    this.formElement = closest(this.element, 'form');\n\n    if (this.element.tagName === 'EJS-TIMEPICKER') {\n      this.angularTag = this.element.tagName;\n      this.inputElement = this.createElement('input');\n      this.element.appendChild(this.inputElement);\n    }\n\n    this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n    this.element.removeAttribute('tabindex');\n    this.openPopupEventArgs = {\n      appendTo: document.body\n    };\n  }; // element creation\n\n\n  TimePicker.prototype.render = function () {\n    this.initialize();\n    this.createInputElement();\n    this.updateHtmlAttributeToWrapper();\n    this.setTimeAllowEdit();\n    this.setEnable();\n    this.validateInterval();\n    this.bindEvents();\n    this.validateDisable();\n    this.setValue(this.getFormattedValue(this.value));\n\n    if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n      this.updateInputValue(this.maskedDateValue);\n      this.checkErrorState(this.maskedDateValue);\n    }\n\n    this.anchor = this.inputElement;\n    this.inputElement.setAttribute('value', this.inputElement.value);\n    this.inputEleValue = this.getDateObject(this.inputElement.value);\n    this.renderComplete();\n  };\n\n  TimePicker.prototype.setTimeAllowEdit = function () {\n    if (this.allowEdit) {\n      if (!this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    } else {\n      attributes(this.inputElement, {\n        'readonly': ''\n      });\n    }\n\n    this.clearIconState();\n  };\n\n  TimePicker.prototype.clearIconState = function () {\n    if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n      if (this.inputElement.value === '') {\n        removeClass([this.inputWrapper.container], [EDITABLE]);\n      } else {\n        addClass([this.inputWrapper.container], [EDITABLE]);\n      }\n    } else if (this.inputWrapper) {\n      removeClass([this.inputWrapper.container], [EDITABLE]);\n    }\n  };\n\n  TimePicker.prototype.validateDisable = function () {\n    this.setMinMax(this.initMin, this.initMax);\n    this.popupCreation();\n    this.popupObj.destroy();\n    this.popupWrapper = this.popupObj = null;\n\n    if (!isNaN(+this.value) && this.value !== null) {\n      if (!this.valueIsDisable(this.value)) {\n        //disable value given in value property so reset the date based on current date\n        if (this.strictMode) {\n          this.resetState();\n        }\n\n        this.initValue = null;\n        this.initMax = this.getDateObject(this.initMax);\n        this.initMin = this.getDateObject(this.initMin);\n        this.timeCollections = this.liCollections = [];\n        this.setMinMax(this.initMin, this.initMax);\n      }\n    }\n  };\n\n  TimePicker.prototype.validationAttribute = function (target, input) {\n    var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n    input.setAttribute('name', name);\n    target.removeAttribute('name');\n    var attributes = ['required', 'aria-required', 'form'];\n\n    for (var i = 0; i < attributes.length; i++) {\n      if (isNullOrUndefined(target.getAttribute(attributes[i]))) {\n        continue;\n      }\n\n      var attr = target.getAttribute(attributes[i]);\n      input.setAttribute(attributes[i], attr);\n      target.removeAttribute(attributes[i]);\n    }\n  };\n\n  TimePicker.prototype.initialize = function () {\n    this.globalize = new Internationalization(this.locale);\n    this.defaultCulture = new Internationalization('en');\n    this.checkTimeFormat();\n    this.checkInvalidValue(this.value); // persist the value property.\n\n    this.setProperties({\n      value: this.checkDateValue(new Date(this.checkInValue(this.value)))\n    }, true);\n    this.setProperties({\n      min: this.checkDateValue(new Date(this.checkInValue(this.min)))\n    }, true);\n    this.setProperties({\n      max: this.checkDateValue(new Date(this.checkInValue(this.max)))\n    }, true);\n    this.setProperties({\n      scrollTo: this.checkDateValue(new Date(this.checkInValue(this.scrollTo)))\n    }, true);\n\n    if (this.angularTag !== null) {\n      this.validationAttribute(this.element, this.inputElement);\n    }\n\n    this.updateHtmlAttributeToElement();\n    this.checkAttributes(false); //check the input element attributes\n\n    var localeText = {\n      placeholder: this.placeholder\n    };\n    this.l10n = new L10n('timepicker', localeText, this.locale);\n    this.setProperties({\n      placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n    }, true);\n    this.initValue = this.checkDateValue(this.value);\n    this.initMin = this.checkDateValue(this.min);\n    this.initMax = this.checkDateValue(this.max);\n    this.isNavigate = this.isPreventBlur = this.isTextSelected = false;\n    this.activeIndex = this.valueWithMinutes = this.prevDate = null;\n\n    if (!isNullOrUndefined(this.element.getAttribute('id'))) {\n      if (this.angularTag !== null) {\n        this.inputElement.id = this.element.getAttribute('id') + '_input';\n      }\n    } else {\n      //for angular case\n      this.element.id = getUniqueID('ej2_timepicker');\n\n      if (this.angularTag !== null) {\n        attributes(this.inputElement, {\n          'id': this.element.id + '_input'\n        });\n      }\n    }\n\n    if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n      attributes(this.inputElement, {\n        'name': this.element.id\n      });\n    }\n\n    if (this.enableMask) {\n      this.notify(\"createMask\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n  };\n\n  TimePicker.prototype.checkTimeFormat = function () {\n    if (this.format) {\n      if (typeof this.format === 'string') {\n        this.formatString = this.format;\n      } else if (!isNullOrUndefined(this.format.skeleton) && this.format.skeleton !== '') {\n        var skeletonString = this.format.skeleton;\n        this.formatString = this.globalize.getDatePattern({\n          type: 'time',\n          skeleton: skeletonString\n        });\n      } else {\n        this.formatString = this.globalize.getDatePattern({\n          type: 'time',\n          skeleton: 'short'\n        });\n      }\n    } else {\n      this.formatString = null;\n    }\n  };\n\n  TimePicker.prototype.checkDateValue = function (value) {\n    return !isNullOrUndefined(value) && value instanceof Date && !isNaN(+value) ? value : null;\n  };\n\n  TimePicker.prototype.createInputElement = function () {\n    var updatedCssClassesValue = this.cssClass;\n    var isBindClearAction = this.enableMask ? false : true;\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      updatedCssClassesValue = this.cssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    this.inputWrapper = Input.createInput({\n      element: this.inputElement,\n      bindClearAction: isBindClearAction,\n      floatLabelType: this.floatLabelType,\n      properties: {\n        readonly: this.readonly,\n        placeholder: this.placeholder,\n        cssClass: updatedCssClassesValue,\n        enabled: this.enabled,\n        enableRtl: this.enableRtl,\n        showClearButton: this.showClearButton\n      },\n      buttons: [' e-input-group-icon e-time-icon e-icons']\n    }, this.createElement);\n    this.inputWrapper.container.style.width = this.setWidth(this.width);\n    attributes(this.inputElement, {\n      'aria-haspopup': 'true',\n      'aria-autocomplete': 'list',\n      'tabindex': '0',\n      'aria-activedescendant': 'null',\n      'aria-owns': this.element.id + '_options',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false',\n      'aria-disabled': 'false',\n      'aria-invalid': 'false'\n    });\n\n    if (!this.isNullOrEmpty(this.inputStyle)) {\n      Input.addAttributes({\n        'style': this.inputStyle\n      }, this.inputElement);\n    }\n\n    addClass([this.inputWrapper.container], WRAPPERCLASS);\n  };\n\n  TimePicker.prototype.getCldrDateTimeFormat = function () {\n    var culture = new Internationalization(this.locale);\n    var cldrTime;\n    var dateFormat = culture.getDatePattern({\n      skeleton: 'yMd'\n    });\n\n    if (this.isNullOrEmpty(this.formatString)) {\n      cldrTime = dateFormat + ' ' + this.cldrFormat('time');\n    } else {\n      cldrTime = this.formatString;\n    }\n\n    return cldrTime;\n  };\n\n  TimePicker.prototype.checkInvalidValue = function (value) {\n    var isInvalid = false;\n\n    if (typeof value !== 'object' && !isNullOrUndefined(value)) {\n      var valueString = value;\n\n      if (typeof valueString === 'string') {\n        valueString = valueString.trim();\n      }\n\n      var valueExpression = null;\n      var valueExp = null;\n\n      if (typeof value === 'number') {\n        valueString = value.toString();\n      } else if (typeof value === 'string') {\n        if (!/^[a-zA-Z0-9- ]*$/.test(value)) {\n          valueExpression = this.setCurrentDate(this.getDateObject(value));\n\n          if (isNullOrUndefined(valueExpression)) {\n            valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n              format: this.getCldrDateTimeFormat(),\n              type: 'datetime'\n            }));\n\n            if (isNullOrUndefined(valueExpression)) {\n              valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                format: this.formatString,\n                type: 'dateTime',\n                skeleton: 'yMd'\n              }));\n            }\n          }\n        }\n      }\n\n      valueExp = this.globalize.parseDate(valueString, {\n        format: this.getCldrDateTimeFormat(),\n        type: 'datetime'\n      });\n      valueExpression = !isNullOrUndefined(valueExp) && valueExp instanceof Date && !isNaN(+valueExp) ? valueExp : null;\n\n      if (isNullOrUndefined(valueExpression) && valueString.replace(/\\s/g, '').length) {\n        var extISOString = null;\n        var basicISOString = null; // eslint-disable-next-line\n\n        extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/; // eslint-disable-next-line\n\n        basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n\n        if (!extISOString.test(valueString) && !basicISOString.test(valueString) || /^[a-zA-Z0-9- ]*$/.test(value) || isNaN(+new Date('' + valueString))) {\n          isInvalid = true;\n        } else {\n          valueExpression = new Date('' + valueString);\n        }\n      }\n\n      if (isInvalid) {\n        if (!this.strictMode) {\n          this.invalidValueString = valueString;\n        }\n\n        this.setProperties({\n          value: null\n        }, true);\n        this.initValue = null;\n      } else {\n        this.setProperties({\n          value: valueExpression\n        }, true);\n        this.initValue = this.value;\n      }\n    }\n  };\n\n  TimePicker.prototype.requiredModules = function () {\n    var modules = [];\n\n    if (this.enableMask) {\n      modules.push({\n        args: [this],\n        member: 'MaskedDateTime'\n      });\n    }\n\n    return modules;\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  TimePicker.prototype.cldrFormat = function (type) {\n    var cldrDateTimeString;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrDateTimeString = getValue('timeFormats.short', getDefaultDateObject());\n    } else {\n      cldrDateTimeString = this.getCultureTimeObject(cldrData, '' + this.locale);\n    }\n\n    return cldrDateTimeString;\n  }; // destroy function\n\n\n  TimePicker.prototype.destroy = function () {\n    this.hide();\n    this.unBindEvents();\n    var ariaAttribute = {\n      'aria-haspopup': 'true',\n      'aria-autocomplete': 'list',\n      'tabindex': '0',\n      'aria-activedescendant': 'null',\n      'aria-owns': this.element.id + '_options',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false',\n      'aria-disabled': 'true',\n      'aria-invalid': 'false'\n    };\n\n    if (this.inputElement) {\n      Input.removeAttributes(ariaAttribute, this.inputElement);\n\n      if (this.angularTag === null) {\n        this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n      }\n\n      if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\n        this.inputElement.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.inputElement.removeAttribute('tabindex');\n      }\n\n      this.ensureInputAttribute();\n      this.enableElement([this.inputElement]);\n      this.inputElement.classList.remove('e-input');\n\n      if (isNullOrUndefined(this.cloneElement.getAttribute('disabled'))) {\n        Input.setEnabled(true, this.inputElement, this.floatLabelType);\n      }\n    }\n\n    if (this.inputWrapper.container) {\n      detach(this.inputWrapper.container);\n    }\n\n    this.inputWrapper = this.popupWrapper = this.cloneElement = undefined;\n    this.liCollections = this.timeCollections = this.disableItemCollection = [];\n\n    if (!isNullOrUndefined(this.rippleFn)) {\n      this.rippleFn();\n    }\n\n    _super.prototype.destroy.call(this);\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n    }\n  };\n\n  TimePicker.prototype.ensureInputAttribute = function () {\n    var propertyList = [];\n\n    for (var i = 0; i < this.inputElement.attributes.length; i++) {\n      propertyList[i] = this.inputElement.attributes[i].name;\n    }\n\n    for (var i = 0; i < propertyList.length; i++) {\n      if (!isNullOrUndefined(this.cloneElement.getAttribute(propertyList[i]))) {\n        this.inputElement.setAttribute(propertyList[i], this.cloneElement.getAttribute(propertyList[i]));\n\n        if (propertyList[i].toLowerCase() === 'value') {\n          this.inputElement.value = this.cloneElement.getAttribute(propertyList[i]);\n        }\n      } else {\n        this.inputElement.removeAttribute(propertyList[i]);\n\n        if (propertyList[i].toLowerCase() === 'value') {\n          this.inputElement.value = '';\n        }\n      }\n    }\n  }; //popup creation\n\n\n  TimePicker.prototype.popupCreation = function () {\n    this.popupWrapper = this.createElement('div', {\n      className: ROOT + ' ' + POPUP,\n      attrs: {\n        'id': this.element.id + '_popup',\n        'style': 'visibility:hidden'\n      }\n    });\n\n    if (!isNullOrUndefined(this.cssClass)) {\n      this.popupWrapper.className += ' ' + this.cssClass;\n    }\n\n    if (!isNullOrUndefined(this.step) && this.step > 0) {\n      this.generateList();\n      append([this.listWrapper], this.popupWrapper);\n    }\n\n    this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper);\n    this.addSelection();\n    this.renderPopup();\n    detach(this.popupWrapper);\n  };\n\n  TimePicker.prototype.getPopupHeight = function () {\n    var height = parseInt(POPUPDIMENSION, 10);\n    var popupHeight = this.popupWrapper.getBoundingClientRect().height;\n    return popupHeight > height ? height : popupHeight;\n  };\n\n  TimePicker.prototype.generateList = function () {\n    this.createListItems();\n    this.wireListEvents();\n    var rippleModel = {\n      duration: 300,\n      selector: '.' + LISTCLASS\n    };\n    this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n    this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS);\n  };\n\n  TimePicker.prototype.renderPopup = function () {\n    var _this = this;\n\n    this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n    this.popupObj = new Popup(this.popupWrapper, {\n      width: this.setPopupWidth(this.width),\n      zIndex: this.zIndex,\n      targetType: 'relative',\n      position: Browser.isDevice ? {\n        X: 'center',\n        Y: 'center'\n      } : {\n        X: 'left',\n        Y: 'bottom'\n      },\n      collision: Browser.isDevice ? {\n        X: 'fit',\n        Y: 'fit'\n      } : {\n        X: 'flip',\n        Y: 'flip'\n      },\n      enableRtl: this.enableRtl,\n      relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n      offsetY: OFFSETVAL,\n      open: function () {\n        _this.popupWrapper.style.visibility = 'visible';\n        addClass([_this.inputWrapper.buttons[0]], SELECTED);\n      },\n      close: function () {\n        removeClass([_this.inputWrapper.buttons[0]], SELECTED);\n\n        _this.unWireListEvents();\n\n        _this.inputElement.setAttribute('aria-activedescendant', 'null');\n\n        remove(_this.popupObj.element);\n\n        _this.popupObj.destroy();\n\n        _this.popupWrapper.innerHTML = '';\n        _this.listWrapper = _this.popupWrapper = _this.listTag = undefined;\n      },\n      targetExitViewport: function () {\n        if (!Browser.isDevice) {\n          _this.hide();\n        }\n      }\n    });\n\n    if (!Browser.isDevice) {\n      this.popupObj.collision = {\n        X: 'none',\n        Y: 'flip'\n      };\n    }\n\n    this.popupObj.element.style.maxHeight = POPUPDIMENSION;\n  }; //util function\n\n\n  TimePicker.prototype.getFormattedValue = function (value) {\n    if (isNullOrUndefined(this.checkDateValue(value))) {\n      return null;\n    } else {\n      return this.globalize.formatDate(value, {\n        skeleton: 'medium',\n        type: 'time'\n      });\n    }\n  };\n\n  TimePicker.prototype.getDateObject = function (text) {\n    if (!this.isNullOrEmpty(text)) {\n      var dateValue = this.createDateObj(text);\n      var value = !this.isNullOrEmpty(this.initValue);\n\n      if (this.checkDateValue(dateValue)) {\n        var date = value ? this.initValue.getDate() : DAY;\n        var month = value ? this.initValue.getMonth() : MONTH;\n        var year = value ? this.initValue.getFullYear() : YEAR;\n        return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds());\n      }\n    }\n\n    return null;\n  };\n\n  TimePicker.prototype.updateHtmlAttributeToWrapper = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var key = _a[_i];\n\n        if (wrapperAttributes.indexOf(key) > -1) {\n          if (key === 'class') {\n            var updatedClassesValue = this.htmlAttributes[key].replace(/\\s+/g, ' ').trim();\n\n            if (updatedClassesValue !== '') {\n              addClass([this.inputWrapper.container], updatedClassesValue.split(' '));\n            }\n          } else if (key === 'style') {\n            var timeStyle = this.inputWrapper.container.getAttribute(key);\n            timeStyle = !isNullOrUndefined(timeStyle) ? timeStyle + this.htmlAttributes[key] : this.htmlAttributes[key];\n            this.inputWrapper.container.setAttribute(key, timeStyle);\n          } else {\n            this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n          }\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.updateHtmlAttributeToElement = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var key = _a[_i];\n\n        if (wrapperAttributes.indexOf(key) < 0) {\n          this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.updateCssClass = function (cssClassNew, cssClassOld) {\n    if (!isNullOrUndefined(cssClassOld)) {\n      cssClassOld = cssClassOld.replace(/\\s+/g, ' ').trim();\n    }\n\n    if (!isNullOrUndefined(cssClassNew)) {\n      cssClassNew = cssClassNew.replace(/\\s+/g, ' ').trim();\n    }\n\n    Input.setCssClass(cssClassNew, [this.inputWrapper.container], cssClassOld);\n\n    if (this.popupWrapper) {\n      Input.setCssClass(cssClassNew, [this.popupWrapper], cssClassOld);\n    }\n  };\n\n  TimePicker.prototype.removeErrorClass = function () {\n    removeClass([this.inputWrapper.container], ERROR);\n    attributes(this.inputElement, {\n      'aria-invalid': 'false'\n    });\n  };\n\n  TimePicker.prototype.checkErrorState = function (val) {\n    var value = this.getDateObject(val);\n\n    if (this.validateState(value) && !this.invalidValueString || this.enableMask && this.inputElement.value === this.maskedDateValue) {\n      this.removeErrorClass();\n    } else {\n      addClass([this.inputWrapper.container], ERROR);\n      attributes(this.inputElement, {\n        'aria-invalid': 'true'\n      });\n    }\n  };\n\n  TimePicker.prototype.validateInterval = function () {\n    if (!isNullOrUndefined(this.step) && this.step > 0) {\n      this.enableElement([this.inputWrapper.buttons[0]]);\n    } else {\n      this.disableTimeIcon();\n    }\n  };\n\n  TimePicker.prototype.disableTimeIcon = function () {\n    this.disableElement([this.inputWrapper.buttons[0]]);\n    this.hide();\n  };\n\n  TimePicker.prototype.disableElement = function (element) {\n    addClass(element, DISABLED);\n  };\n\n  TimePicker.prototype.enableElement = function (element) {\n    removeClass(element, DISABLED);\n  };\n\n  TimePicker.prototype.selectInputText = function () {\n    this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n  };\n\n  TimePicker.prototype.setCursorToEnd = function () {\n    this.inputElement.setSelectionRange(this.inputElement.value.length, this.inputElement.value.length);\n  };\n\n  TimePicker.prototype.getMeridianText = function () {\n    var meridian;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      meridian = getValue('dayPeriods.format.wide', getDefaultDateObject());\n    } else {\n      var gregorianFormat = '.dates.calendars.gregorian.dayPeriods.format.abbreviated';\n      var mainVal = 'main.';\n      meridian = getValue(mainVal + '' + this.locale + gregorianFormat, cldrData);\n    }\n\n    return meridian;\n  };\n\n  TimePicker.prototype.getCursorSelection = function () {\n    var input = this.inputElement;\n    var start = 0;\n    var end = 0;\n\n    if (!isNaN(input.selectionStart)) {\n      start = input.selectionStart;\n      end = input.selectionEnd;\n    }\n\n    return {\n      start: Math.abs(start),\n      end: Math.abs(end)\n    };\n  };\n\n  TimePicker.prototype.getActiveElement = function () {\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      return this.popupWrapper.querySelectorAll('.' + SELECTED);\n    } else {\n      return null;\n    }\n  };\n\n  TimePicker.prototype.isNullOrEmpty = function (value) {\n    if (isNullOrUndefined(value) || typeof value === 'string' && value.trim() === '') {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  TimePicker.prototype.setWidth = function (width) {\n    if (typeof width === 'number') {\n      width = formatUnit(width);\n    } else if (typeof width === 'string') {\n      width = width.match(/px|%|em/) ? width : formatUnit(width);\n    } else {\n      width = '100%';\n    }\n\n    return width;\n  };\n\n  TimePicker.prototype.setPopupWidth = function (width) {\n    width = this.setWidth(width);\n\n    if (width.indexOf('%') > -1) {\n      var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n      width = inputWidth.toString() + 'px';\n    }\n\n    return width;\n  };\n\n  TimePicker.prototype.setScrollPosition = function () {\n    var element = this.selectedElement;\n\n    if (!isNullOrUndefined(element)) {\n      this.findScrollTop(element);\n    } else if (this.popupWrapper && this.checkDateValue(this.scrollTo)) {\n      this.setScrollTo();\n    }\n  };\n\n  TimePicker.prototype.findScrollTop = function (element) {\n    var listHeight = this.getPopupHeight();\n    var nextEle = element.nextElementSibling;\n    var height = nextEle ? nextEle.offsetTop : element.offsetTop;\n    var liHeight = element.getBoundingClientRect().height;\n\n    if (height + element.offsetTop > listHeight) {\n      this.popupWrapper.scrollTop = nextEle ? height - (listHeight / HALFPOSITION + liHeight / HALFPOSITION) : height;\n    } else {\n      this.popupWrapper.scrollTop = 0;\n    }\n  };\n\n  TimePicker.prototype.setScrollTo = function () {\n    var element;\n\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS);\n\n      if (items.length) {\n        var initialTime = this.timeCollections[0];\n        var scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n        element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n      }\n    } else {\n      this.popupWrapper.scrollTop = 0;\n    }\n\n    if (!isNullOrUndefined(element)) {\n      this.findScrollTop(element);\n    } else {\n      this.popupWrapper.scrollTop = 0;\n    }\n  };\n\n  TimePicker.prototype.getText = function () {\n    return isNullOrUndefined(this.checkDateValue(this.value)) ? '' : this.getValue(this.value);\n  };\n\n  TimePicker.prototype.getValue = function (value) {\n    return isNullOrUndefined(this.checkDateValue(value)) ? null : this.globalize.formatDate(value, {\n      format: this.cldrTimeFormat(),\n      type: 'time'\n    });\n  };\n\n  TimePicker.prototype.cldrDateFormat = function () {\n    var cldrDate;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrDate = getValue('dateFormats.short', getDefaultDateObject());\n    } else {\n      cldrDate = this.getCultureDateObject(cldrData, '' + this.locale);\n    }\n\n    return cldrDate;\n  };\n\n  TimePicker.prototype.cldrTimeFormat = function () {\n    var cldrTime;\n\n    if (this.isNullOrEmpty(this.formatString)) {\n      if (this.locale === 'en' || this.locale === 'en-US') {\n        cldrTime = getValue('timeFormats.short', getDefaultDateObject());\n      } else {\n        cldrTime = this.getCultureTimeObject(cldrData, '' + this.locale);\n      }\n    } else {\n      cldrTime = this.formatString;\n    }\n\n    return cldrTime;\n  };\n\n  TimePicker.prototype.dateToNumeric = function () {\n    var cldrTime;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrTime = getValue('timeFormats.medium', getDefaultDateObject());\n    } else {\n      cldrTime = getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.medium', cldrData);\n    }\n\n    return cldrTime;\n  };\n\n  TimePicker.prototype.getExactDateTime = function (value) {\n    if (isNullOrUndefined(this.checkDateValue(value))) {\n      return null;\n    } else {\n      return this.globalize.formatDate(value, {\n        format: this.dateToNumeric(),\n        type: 'time'\n      });\n    }\n  };\n\n  TimePicker.prototype.setValue = function (value) {\n    var time = this.checkValue(value);\n\n    if (!this.strictMode && !this.validateState(time)) {\n      if (this.checkDateValue(this.valueWithMinutes) === null) {\n        this.initValue = this.valueWithMinutes = null;\n      }\n\n      this.validateMinMax(this.value, this.min, this.max);\n    } else {\n      if (this.isNullOrEmpty(time)) {\n        this.initValue = null;\n        this.validateMinMax(this.value, this.min, this.max);\n      } else {\n        this.initValue = this.compareFormatChange(time);\n      }\n    }\n\n    this.updateInput(true, this.initValue);\n  };\n\n  TimePicker.prototype.compareFormatChange = function (value) {\n    if (isNullOrUndefined(value)) {\n      return null;\n    }\n\n    return value !== this.getText() ? this.getDateObject(value) : this.getDateObject(this.value);\n  };\n\n  TimePicker.prototype.updatePlaceHolder = function () {\n    Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n  }; //event related functions\n\n\n  TimePicker.prototype.updateInputValue = function (value) {\n    Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n  };\n\n  TimePicker.prototype.preventEventBubbling = function (e) {\n    e.preventDefault();\n    this.interopAdaptor.invokeMethodAsync('OnTimeIconClick');\n  };\n\n  TimePicker.prototype.popupHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (Browser.isDevice) {\n      this.inputElement.setAttribute('readonly', '');\n    }\n\n    e.preventDefault();\n\n    if (this.isPopupOpen()) {\n      this.closePopup(0, e);\n    } else {\n      this.inputElement.focus();\n      this.show(e);\n    }\n  };\n\n  TimePicker.prototype.mouseDownHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (!this.readonly) {\n      this.inputElement.setSelectionRange(0, 0);\n      EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n    }\n  };\n\n  TimePicker.prototype.mouseUpHandler = function (event) {\n    if (!this.readonly) {\n      event.preventDefault();\n\n      if (this.enableMask) {\n        event.preventDefault();\n        this.notify(\"setMaskSelection\", {\n          module: \"MaskedDateTime\"\n        });\n        return;\n      } else {\n        EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n        var curPos = this.getCursorSelection();\n\n        if (!(curPos.start === 0 && curPos.end === this.inputElement.value.length)) {\n          if (this.inputElement.value.length > 0) {\n            this.cursorDetails = this.focusSelection();\n          }\n\n          this.inputElement.setSelectionRange(this.cursorDetails.start, this.cursorDetails.end);\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.focusSelection = function () {\n    var regex = new RegExp('^[a-zA-Z0-9]+$');\n    var split = this.inputElement.value.split('');\n    split.push(' ');\n    var curPos = this.getCursorSelection();\n    var start = 0;\n    var end = 0;\n    var isSeparator = false;\n\n    if (!this.isTextSelected) {\n      for (var i = 0; i < split.length; i++) {\n        if (!regex.test(split[i])) {\n          end = i;\n          isSeparator = true;\n        }\n\n        if (isSeparator) {\n          if (curPos.start >= start && curPos.end <= end) {\n            // eslint-disable-next-line no-self-assign\n            end = end;\n            this.isTextSelected = true;\n            break;\n          } else {\n            start = i + 1;\n            isSeparator = false;\n          }\n        }\n      }\n    } else {\n      start = curPos.start;\n      end = curPos.end;\n      this.isTextSelected = false;\n    }\n\n    return {\n      start: start,\n      end: end\n    };\n  };\n\n  TimePicker.prototype.inputHandler = function (event) {\n    if (!this.readonly && this.enabled) {\n      if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n        event.preventDefault();\n      }\n\n      switch (event.action) {\n        case 'home':\n        case 'end':\n        case 'up':\n        case 'down':\n          if (this.enableMask && !this.readonly && !this.isPopupOpen()) {\n            event.preventDefault();\n            this.notify(\"keyDownHandler\", {\n              module: \"MaskedDateTime\",\n              e: event\n            });\n          }\n\n          if (!this.enableMask || this.isPopupOpen()) {\n            this.keyHandler(event);\n          }\n\n          break;\n\n        case 'enter':\n          if (this.isNavigate) {\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            this.updateValue(this.valueWithMinutes, event);\n          } else {\n            this.updateValue(this.inputElement.value, event);\n          }\n\n          this.hide();\n          this.isNavigate = false;\n\n          if (this.isPopupOpen()) {\n            event.stopPropagation();\n          }\n\n          break;\n\n        case 'open':\n          this.show(event);\n          break;\n\n        case 'escape':\n          this.updateInputValue(this.objToString(this.value));\n\n          if (this.enableMask) {\n            if (!this.value) {\n              this.updateInputValue(this.maskedDateValue);\n            }\n\n            this.createMask();\n          }\n\n          this.previousState(this.value);\n          this.hide();\n          break;\n\n        case 'close':\n          this.hide();\n          break;\n\n        case 'right':\n        case 'left':\n        case 'tab':\n        case 'shiftTab':\n          if (!this.isPopupOpen() && this.enableMask && !this.readonly) {\n            if (this.inputElement.selectionStart == 0 && this.inputElement.selectionEnd == this.inputElement.value.length || this.inputElement.selectionEnd !== this.inputElement.value.length && event.action == 'tab' || this.inputElement.selectionStart !== 0 && event.action == 'shiftTab' || event.action == 'left' || event.action == 'right') {\n              event.preventDefault();\n            }\n\n            this.notify(\"keyDownHandler\", {\n              module: \"MaskedDateTime\",\n              e: event\n            });\n          }\n\n          break;\n\n        default:\n          this.isNavigate = false;\n          break;\n      }\n    }\n  };\n\n  TimePicker.prototype.onMouseClick = function (event) {\n    var target = event.target;\n    var li = this.selectedElement = closest(target, '.' + LISTCLASS);\n    this.setSelection(li, event);\n\n    if (li && li.classList.contains(LISTCLASS)) {\n      this.hide();\n    }\n  };\n\n  TimePicker.prototype.closePopup = function (delay, e) {\n    var _this = this;\n\n    if (this.isPopupOpen() && this.popupWrapper) {\n      var args = {\n        popup: this.popupObj,\n        event: e || null,\n        cancel: false,\n        name: 'open'\n      };\n      removeClass([document.body], OVERFLOW);\n      this.trigger('close', args, function (args) {\n        if (!args.cancel) {\n          var animModel = {\n            name: 'FadeOut',\n            duration: ANIMATIONDURATION,\n            delay: delay ? delay : 0\n          };\n\n          _this.popupObj.hide(new Animation(animModel));\n\n          removeClass([_this.inputWrapper.container], [ICONANIMATION]);\n          attributes(_this.inputElement, {\n            'aria-expanded': 'false'\n          });\n          EventHandler.remove(document, 'mousedown touchstart', _this.documentClickHandler);\n        }\n\n        if (Browser.isDevice && _this.modal) {\n          _this.modal.style.display = 'none';\n          _this.modal.outerHTML = '';\n          _this.modal = null;\n        }\n\n        if (Browser.isDevice) {\n          if (!isNullOrUndefined(_this.mobileTimePopupWrap)) {\n            _this.mobileTimePopupWrap.remove();\n\n            _this.mobileTimePopupWrap = null;\n          }\n        }\n\n        if (Browser.isDevice && _this.allowEdit && !_this.readonly) {\n          _this.inputElement.removeAttribute('readonly');\n        }\n      });\n    } else {\n      if (Browser.isDevice && this.allowEdit && !this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    }\n  };\n\n  TimePicker.prototype.disposeServerPopup = function () {\n    if (this.popupWrapper) {\n      this.popupWrapper.style.visibility = 'hidden';\n      this.popupWrapper.style.top = '-9999px';\n      this.popupWrapper.style.left = '-9999px';\n      this.popupWrapper.style.width = '0px';\n      this.popupWrapper.style.height = '0px';\n    }\n  };\n\n  TimePicker.prototype.checkValueChange = function (event, isNavigation) {\n    if (!this.strictMode && !this.validateState(this.valueWithMinutes)) {\n      if (this.checkDateValue(this.valueWithMinutes) === null) {\n        this.initValue = this.valueWithMinutes = null;\n      }\n\n      this.setProperties({\n        value: this.compareFormatChange(this.inputElement.value)\n      }, true);\n      this.initValue = this.valueWithMinutes = this.compareFormatChange(this.inputElement.value);\n      this.prevValue = this.inputElement.value;\n\n      if (+this.prevDate !== +this.value) {\n        this.changeEvent(event);\n      }\n    } else {\n      if (!isNavigation) {\n        if (this.prevValue !== this.inputElement.value || isNullOrUndefined(this.checkDateValue(this.value))) {\n          this.valueProcess(event, this.compareFormatChange(this.inputElement.value));\n        }\n      } else {\n        var value = this.getDateObject(new Date(this.timeCollections[this.activeIndex]));\n\n        if (+this.prevDate !== +value) {\n          this.valueProcess(event, value);\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.onMouseOver = function (event) {\n    var currentLi = closest(event.target, '.' + LISTCLASS);\n    this.setHover(currentLi, HOVER);\n  };\n\n  TimePicker.prototype.setHover = function (li, className) {\n    if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n      this.removeHover(className);\n      addClass([li], className);\n\n      if (className === NAVIGATION) {\n        li.setAttribute('aria-selected', 'true');\n      }\n    }\n  };\n\n  TimePicker.prototype.setSelection = function (li, event) {\n    if (this.isValidLI(li)) {\n      this.checkValue(li.getAttribute('data-value'));\n\n      if (this.enableMask) {\n        this.notify(\"setMaskSelection\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n\n      this.selectedElement = li;\n      this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n      this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n      addClass([this.selectedElement], SELECTED);\n      this.selectedElement.setAttribute('aria-selected', 'true');\n      this.checkValueChange(event, true);\n    }\n  };\n\n  TimePicker.prototype.onMouseLeave = function () {\n    this.removeHover(HOVER);\n  };\n\n  TimePicker.prototype.scrollHandler = function () {\n    if (this.getModuleName() === 'timepicker' && Browser.isDevice) {\n      return;\n    } else {\n      this.hide();\n    }\n  };\n\n  TimePicker.prototype.setMinMax = function (minVal, maxVal) {\n    if (isNullOrUndefined(this.checkDateValue(minVal))) {\n      this.initMin = this.getDateObject('12:00:00 AM');\n    }\n\n    if (isNullOrUndefined(this.checkDateValue(maxVal))) {\n      this.initMax = this.getDateObject('11:59:59 PM');\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  TimePicker.prototype.validateMinMax = function (dateVal, minVal, maxVal) {\n    var value = dateVal instanceof Date ? dateVal : this.getDateObject(dateVal);\n\n    if (!isNullOrUndefined(this.checkDateValue(value))) {\n      dateVal = this.strictOperation(this.initMin, this.initMax, dateVal, value);\n    } else if (+this.createDateObj(this.getFormattedValue(this.initMin)) > +this.createDateObj(this.getFormattedValue(this.initMax))) {\n      this.disableTimeIcon();\n    }\n\n    if (this.strictMode) {\n      dateVal = this.valueIsDisable(dateVal) ? dateVal : null;\n    }\n\n    this.checkErrorState(dateVal);\n    return dateVal;\n  };\n\n  TimePicker.prototype.valueIsDisable = function (value) {\n    if (this.disableItemCollection.length > 0) {\n      if (this.disableItemCollection.length === this.timeCollections.length) {\n        return false;\n      }\n\n      var time = value instanceof Date ? this.objToString(value) : value;\n\n      for (var index = 0; index < this.disableItemCollection.length; index++) {\n        if (time === this.disableItemCollection[index]) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  TimePicker.prototype.validateState = function (val) {\n    if (!this.strictMode) {\n      if (this.valueIsDisable(val)) {\n        var value = typeof val === 'string' ? this.setCurrentDate(this.getDateObject(val)) : this.setCurrentDate(this.getDateObject(val));\n        var maxValue = this.setCurrentDate(this.getDateObject(this.initMax));\n        var minValue = this.setCurrentDate(this.getDateObject(this.initMin));\n\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n          if (+value > +maxValue || +value < +minValue) {\n            return false;\n          }\n        } else {\n          if (+maxValue < +minValue || this.inputElement.value !== '') {\n            return false;\n          }\n        }\n      } else {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  TimePicker.prototype.strictOperation = function (minimum, maximum, dateVal, val) {\n    var maxValue = this.createDateObj(this.getFormattedValue(maximum));\n    var minValue = this.createDateObj(this.getFormattedValue(minimum));\n    var value = this.createDateObj(this.getFormattedValue(val));\n\n    if (this.strictMode) {\n      if (+minValue > +maxValue) {\n        this.disableTimeIcon();\n        this.initValue = this.getDateObject(maxValue);\n        this.updateInputValue(this.getValue(this.initValue));\n\n        if (this.enableMask) {\n          this.createMask();\n        }\n\n        return this.inputElement.value;\n      } else if (+minValue >= +value) {\n        return this.getDateObject(minValue);\n      } else if (+value >= +maxValue || +minValue === +maxValue) {\n        return this.getDateObject(maxValue);\n      }\n    } else {\n      if (+minValue > +maxValue) {\n        this.disableTimeIcon();\n\n        if (!isNaN(+this.createDateObj(dateVal))) {\n          return dateVal;\n        }\n      }\n    }\n\n    return dateVal;\n  };\n\n  TimePicker.prototype.bindEvents = function () {\n    EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.popupHandler, this);\n    EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n    EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n    EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n    EventHandler.add(this.inputElement, 'input', this.inputEventHandler, this);\n\n    if (this.enableMask) {\n      EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n    }\n\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n    }\n\n    if (this.formElement) {\n      EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n    }\n\n    if (!Browser.isDevice) {\n      this.keyConfigure = extend(this.keyConfigure, this.keyConfigs);\n      this.inputEvent = new KeyboardEvents(this.inputWrapper.container, {\n        keyAction: this.inputHandler.bind(this),\n        keyConfigs: this.keyConfigure,\n        eventName: 'keydown'\n      });\n\n      if (this.showClearButton && this.inputElement) {\n        EventHandler.add(this.inputElement, 'mousedown', this.mouseDownHandler, this);\n      }\n    }\n  };\n\n  TimePicker.prototype.keydownHandler = function (e) {\n    switch (e.code) {\n      case 'Delete':\n        if (this.enableMask && !this.popupObj && !this.readonly) {\n          this.notify(\"keyDownHandler\", {\n            module: \"MaskedDateTime\",\n            e: e\n          });\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  TimePicker.prototype.formResetHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (!this.inputElement.disabled) {\n      var timeValue = this.inputElement.getAttribute('value');\n      var val = this.checkDateValue(this.inputEleValue);\n\n      if (this.element.tagName === 'EJS-TIMEPICKER') {\n        val = null;\n        timeValue = '';\n        this.inputElement.setAttribute('value', '');\n      }\n\n      this.setProperties({\n        value: val\n      }, true);\n      this.prevDate = this.value;\n      this.valueWithMinutes = this.value;\n      this.initValue = this.value;\n\n      if (this.inputElement) {\n        this.updateInputValue(timeValue);\n\n        if (this.enableMask) {\n          if (!timeValue) {\n            this.updateInputValue(this.maskedDateValue);\n          }\n\n          this.createMask();\n        }\n\n        this.checkErrorState(timeValue);\n        this.prevValue = this.inputElement.value;\n      }\n    }\n  };\n\n  TimePicker.prototype.inputChangeHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.stopPropagation();\n  };\n\n  TimePicker.prototype.inputEventHandler = function () {\n    if (this.enableMask) {\n      this.notify(\"inputHandler\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n  };\n\n  TimePicker.prototype.unBindEvents = function () {\n    if (this.inputWrapper) {\n      EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.popupHandler);\n    }\n\n    EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n    EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n    EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n    EventHandler.remove(this.inputElement, 'input', this.inputEventHandler);\n\n    if (this.inputEvent) {\n      this.inputEvent.destroy();\n    }\n\n    EventHandler.remove(this.inputElement, 'mousedown touchstart', this.mouseDownHandler);\n\n    if (this.showClearButton && !isNullOrUndefined(this.inputWrapper.clearButton)) {\n      EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.clearHandler);\n    }\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n    }\n  };\n\n  TimePicker.prototype.bindClearEvent = function () {\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n    }\n  };\n\n  TimePicker.prototype.raiseClearedEvent = function (e) {\n    var clearedArgs = {\n      event: e\n    };\n    this.trigger('cleared', clearedArgs);\n  };\n\n  TimePicker.prototype.clearHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (!isNullOrUndefined(this.value)) {\n      this.clear(e);\n    } else {\n      this.resetState();\n      this.raiseClearedEvent(e);\n    }\n\n    if (this.popupWrapper) {\n      this.popupWrapper.scrollTop = 0;\n    }\n\n    if (this.enableMask) {\n      this.notify(\"clearHandler\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n  };\n\n  TimePicker.prototype.clear = function (event) {\n    this.setProperties({\n      value: null\n    }, true);\n    this.initValue = null;\n    this.resetState();\n    this.raiseClearedEvent(event);\n    this.changeEvent(event);\n  };\n\n  TimePicker.prototype.setZIndex = function () {\n    if (this.popupObj) {\n      this.popupObj.zIndex = this.zIndex;\n      this.popupObj.dataBind();\n    }\n  };\n\n  TimePicker.prototype.checkAttributes = function (isDynamic) {\n    var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['step', 'disabled', 'readonly', 'style', 'name', 'value', 'min', 'max', 'placeholder'];\n    var value;\n\n    for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n      var prop = attributes_1[_i];\n\n      if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n        switch (prop) {\n          case 'disabled':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['enabled'] === undefined || isDynamic) {\n              var enabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? false : true;\n              this.setProperties({\n                enabled: enabled\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'style':\n            this.inputStyle = this.inputElement.getAttribute(prop);\n            break;\n\n          case 'readonly':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['readonly'] === undefined || isDynamic) {\n              var readonly = this.inputElement.getAttribute(prop) === 'readonly' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n              this.setProperties({\n                readonly: readonly\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'name':\n            this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n            break;\n\n          case 'step':\n            this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n            break;\n\n          case 'placeholder':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['placeholder'] === undefined || isDynamic) {\n              this.setProperties({\n                placeholder: this.inputElement.getAttribute(prop)\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'min':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['min'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!isNullOrUndefined(this.checkDateValue(value))) {\n                this.setProperties({\n                  min: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'max':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['max'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!isNullOrUndefined(this.checkDateValue(value))) {\n                this.setProperties({\n                  max: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'value':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['value'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!isNullOrUndefined(this.checkDateValue(value))) {\n                this.initValue = value;\n                this.updateInput(false, this.initValue);\n                this.setProperties({\n                  value: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.setCurrentDate = function (value) {\n    if (isNullOrUndefined(this.checkDateValue(value))) {\n      return null;\n    }\n\n    return new Date(YEAR, MONTH, DAY, value.getHours(), value.getMinutes(), value.getSeconds());\n  };\n\n  TimePicker.prototype.getTextFormat = function () {\n    var time = 0;\n\n    if (this.cldrTimeFormat().split(' ')[0] === 'a' || this.cldrTimeFormat().indexOf('a') === 0) {\n      time = 1;\n    } else if (this.cldrTimeFormat().indexOf('a') < 0) {\n      var strArray = this.cldrTimeFormat().split(' ');\n\n      for (var i = 0; i < strArray.length; i++) {\n        if (strArray[i].toLowerCase().indexOf('h') >= 0) {\n          time = i;\n          break;\n        }\n      }\n    }\n\n    return time;\n  };\n\n  TimePicker.prototype.updateValue = function (value, event) {\n    var val;\n\n    if (this.isNullOrEmpty(value)) {\n      this.resetState();\n    } else {\n      val = this.checkValue(value);\n\n      if (this.strictMode) {\n        // this case set previous value to the text box when set invalid date\n        var inputVal = val === null && value.trim().length > 0 ? this.previousState(this.prevDate) : this.inputElement.value;\n        this.updateInputValue(inputVal);\n\n        if (this.enableMask) {\n          if (!inputVal) {\n            this.updateInputValue(this.maskedDateValue);\n          }\n\n          if (isNullOrUndefined(val) && value != this.maskedDateValue) {\n            this.createMask();\n          }\n\n          if (isNullOrUndefined(val) && value == this.maskedDateValue) {\n            this.updateInputValue(this.maskedDateValue);\n          }\n        }\n      }\n    }\n\n    this.checkValueChange(event, typeof value === 'string' ? false : true);\n  };\n\n  TimePicker.prototype.previousState = function (date) {\n    var value = this.getDateObject(date);\n\n    for (var i = 0; i < this.timeCollections.length; i++) {\n      if (+value === this.timeCollections[i]) {\n        this.activeIndex = i;\n        this.selectedElement = this.liCollections[i];\n        this.valueWithMinutes = new Date(this.timeCollections[i]);\n        break;\n      }\n    }\n\n    return this.prevValue;\n  };\n\n  TimePicker.prototype.resetState = function () {\n    this.removeSelection();\n    Input.setValue('', this.inputElement, this.floatLabelType, false);\n    this.valueWithMinutes = this.activeIndex = null;\n\n    if (!this.strictMode) {\n      this.checkErrorState(null);\n    }\n  };\n\n  TimePicker.prototype.objToString = function (val) {\n    if (isNullOrUndefined(this.checkDateValue(val))) {\n      return null;\n    } else {\n      return this.globalize.formatDate(val, {\n        format: this.cldrTimeFormat(),\n        type: 'time'\n      });\n    }\n  };\n\n  TimePicker.prototype.checkValue = function (value) {\n    if (!this.isNullOrEmpty(value)) {\n      var date = value instanceof Date ? value : this.getDateObject(value);\n      return this.validateValue(date, value);\n    }\n\n    this.resetState();\n    return this.valueWithMinutes = null;\n  };\n\n  TimePicker.prototype.validateValue = function (date, value) {\n    var time;\n    var val = this.validateMinMax(value, this.min, this.max);\n    var newval = this.createDateObj(val);\n\n    if (this.getFormattedValue(newval) !== this.getFormattedValue(this.value)) {\n      this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n      time = this.objToString(this.valueWithMinutes);\n    } else {\n      if (this.strictMode) {\n        //for strict mode case, when value not present within a range. Reset the nearest range value.\n        date = newval;\n      }\n\n      this.valueWithMinutes = this.checkDateValue(date);\n      time = this.objToString(this.valueWithMinutes);\n    }\n\n    if (!this.strictMode && isNullOrUndefined(time)) {\n      var value_1 = val.trim().length > 0 ? val : '';\n      this.updateInputValue(value_1);\n\n      if (this.enableMask) {\n        if (!value_1) {\n          this.updateInputValue(this.maskedDateValue);\n        }\n      }\n    } else {\n      this.updateInputValue(time);\n\n      if (this.enableMask) {\n        if (time == '') {\n          this.updateInputValue(this.maskedDateValue);\n        }\n\n        if (isNullOrUndefined(time) && value != this.maskedDateValue) {\n          this.createMask();\n        }\n\n        if (isNullOrUndefined(time) && value == this.maskedDateValue) {\n          this.updateInputValue(this.maskedDateValue);\n        }\n      }\n    }\n\n    return time;\n  };\n\n  TimePicker.prototype.createMask = function () {\n    this.notify(\"createMask\", {\n      module: \"MaskedDateTime\"\n    });\n  };\n\n  TimePicker.prototype.findNextElement = function (event) {\n    var textVal = this.inputElement.value;\n    var value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) : this.getDateObject(this.valueWithMinutes);\n    var timeVal = null;\n    var count = this.liCollections.length;\n    var collections = this.timeCollections;\n\n    if (!isNullOrUndefined(this.checkDateValue(value)) || !isNullOrUndefined(this.activeIndex)) {\n      if (event.action === 'home') {\n        var index = this.validLiElement(0);\n        timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n        this.activeIndex = index;\n      } else if (event.action === 'end') {\n        var index = this.validLiElement(collections.length - 1, true);\n        timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n        this.activeIndex = index;\n      } else {\n        if (event.action === 'down') {\n          for (var i = 0; i < count; i++) {\n            if (+value < this.timeCollections[i]) {\n              var index = this.validLiElement(i);\n              timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              this.activeIndex = index;\n              break;\n            } else if (i === count - 1) {\n              var index = this.validLiElement(0);\n              timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              this.activeIndex = index;\n              break;\n            }\n          }\n        } else {\n          for (var i = count - 1; i >= 0; i--) {\n            if (+value > this.timeCollections[i]) {\n              var index = this.validLiElement(i, true);\n              timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              this.activeIndex = index;\n              break;\n            } else if (i === 0) {\n              var index = this.validLiElement(count - 1);\n              timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              this.activeIndex = index;\n              break;\n            }\n          }\n        }\n      }\n\n      this.selectedElement = this.liCollections[this.activeIndex];\n      this.elementValue(isNullOrUndefined(timeVal) ? null : new Date(timeVal));\n    } else {\n      this.selectNextItem(event);\n    }\n  };\n\n  TimePicker.prototype.selectNextItem = function (event) {\n    var index = this.validLiElement(0, event.action === 'down' ? false : true);\n    this.activeIndex = index;\n    this.selectedElement = this.liCollections[index];\n    this.elementValue(new Date(this.timeCollections[index]));\n  };\n\n  TimePicker.prototype.elementValue = function (value) {\n    if (!isNullOrUndefined(this.checkDateValue(value))) {\n      this.checkValue(value);\n    }\n  };\n\n  TimePicker.prototype.validLiElement = function (index, backward) {\n    var elementIndex = null;\n    var items = isNullOrUndefined(this.popupWrapper) ? this.liCollections : this.popupWrapper.querySelectorAll('.' + LISTCLASS);\n    var isCheck = true;\n\n    if (items.length) {\n      if (backward) {\n        for (var i = index; i >= 0; i--) {\n          if (!items[i].classList.contains(DISABLED)) {\n            elementIndex = i;\n            break;\n          } else if (i === 0) {\n            if (isCheck) {\n              index = i = items.length;\n              isCheck = false;\n            }\n          }\n        }\n      } else {\n        for (var i = index; i <= items.length - 1; i++) {\n          if (!items[i].classList.contains(DISABLED)) {\n            elementIndex = i;\n            break;\n          } else if (i === items.length - 1) {\n            if (isCheck) {\n              index = i = -1;\n              isCheck = false;\n            }\n          }\n        }\n      }\n    }\n\n    return elementIndex;\n  };\n\n  TimePicker.prototype.keyHandler = function (event) {\n    if (isNullOrUndefined(this.step) || this.step <= 0 || this.inputWrapper.buttons[0].classList.contains(DISABLED)) {\n      return;\n    }\n\n    var count = this.timeCollections.length;\n\n    if (isNullOrUndefined(this.getActiveElement()) || this.getActiveElement().length === 0) {\n      if (this.liCollections.length > 0) {\n        if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n          var index = this.validLiElement(0, event.action === 'down' ? false : true);\n          this.activeIndex = index;\n          this.selectedElement = this.liCollections[index];\n          this.elementValue(new Date(this.timeCollections[index]));\n        } else {\n          this.findNextElement(event);\n        }\n      } else {\n        this.findNextElement(event);\n      }\n    } else {\n      var nextItem = void 0;\n\n      if (event.keyCode >= 37 && event.keyCode <= 40) {\n        var index = event.keyCode === 40 || event.keyCode === 39 ? ++this.activeIndex : --this.activeIndex;\n        this.activeIndex = index = this.activeIndex === count ? 0 : this.activeIndex;\n        this.activeIndex = index = this.activeIndex < 0 ? count - 1 : this.activeIndex;\n        this.activeIndex = index = this.validLiElement(this.activeIndex, event.keyCode === 40 || event.keyCode === 39 ? false : true);\n        nextItem = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n      } else if (event.action === 'home') {\n        var index = this.validLiElement(0);\n        this.activeIndex = index;\n        nextItem = this.timeCollections[index];\n      } else if (event.action === 'end') {\n        var index = this.validLiElement(count - 1, true);\n        this.activeIndex = index;\n        nextItem = this.timeCollections[index];\n      }\n\n      this.selectedElement = this.liCollections[this.activeIndex];\n      this.elementValue(new Date(nextItem));\n    }\n\n    this.isNavigate = true;\n    this.setHover(this.selectedElement, NAVIGATION);\n    this.setActiveDescendant();\n    this.selectInputText();\n\n    if (this.isPopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n      this.setScrollPosition();\n    }\n  };\n\n  TimePicker.prototype.getCultureTimeObject = function (ld, c) {\n    return getValue('main.' + c + '.dates.calendars.gregorian.timeFormats.short', ld);\n  };\n\n  TimePicker.prototype.getCultureDateObject = function (ld, c) {\n    return getValue('main.' + c + '.dates.calendars.gregorian.dateFormats.short', ld);\n  };\n\n  TimePicker.prototype.wireListEvents = function () {\n    EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n\n    if (!Browser.isDevice) {\n      EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n      EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n    }\n  };\n\n  TimePicker.prototype.unWireListEvents = function () {\n    if (this.listWrapper) {\n      EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n\n      if (!Browser.isDevice) {\n        EventHandler.remove(this.listWrapper, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.listWrapper, 'mouseout', this.onMouseLeave);\n      }\n    }\n  };\n\n  TimePicker.prototype.valueProcess = function (event, value) {\n    var result = isNullOrUndefined(this.checkDateValue(value)) ? null : value;\n\n    if (+this.prevDate !== +result) {\n      this.initValue = result;\n      this.changeEvent(event);\n    }\n  };\n\n  TimePicker.prototype.changeEvent = function (e) {\n    this.addSelection();\n    this.updateInput(true, this.initValue);\n    var eventArgs = {\n      event: e || null,\n      value: this.value,\n      text: this.inputElement.value,\n      isInteracted: !isNullOrUndefined(e),\n      element: this.element\n    };\n    eventArgs.value = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n    this.prevDate = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n\n    if (this.isAngular && this.preventChange) {\n      this.preventChange = false;\n    } else {\n      this.trigger('change', eventArgs);\n    }\n\n    this.invalidValueString = null;\n    this.checkErrorState(this.value);\n  };\n\n  TimePicker.prototype.updateInput = function (isUpdate, date) {\n    if (isUpdate) {\n      this.prevValue = this.getValue(date);\n    }\n\n    this.prevDate = this.valueWithMinutes = date;\n\n    if (typeof date !== 'number' || (this.value && +new Date(+this.value).setMilliseconds(0)) !== +date) {\n      this.setProperties({\n        value: date\n      }, true);\n\n      if (this.enableMask) {\n        this.createMask();\n      }\n    }\n\n    if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n      this.checkErrorState(this.invalidValueString);\n      this.updateInputValue(this.invalidValueString);\n    }\n\n    this.clearIconState();\n  };\n\n  TimePicker.prototype.setActiveDescendant = function () {\n    if (!isNullOrUndefined(this.selectedElement)) {\n      attributes(this.inputElement, {\n        'aria-activedescendant': this.selectedElement.getAttribute('id')\n      });\n    } else {\n      attributes(this.inputElement, {\n        'aria-activedescendant': 'null'\n      });\n    }\n  };\n\n  TimePicker.prototype.removeSelection = function () {\n    this.removeHover(HOVER);\n\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      var items = this.popupWrapper.querySelectorAll('.' + SELECTED);\n\n      if (items.length) {\n        removeClass(items, SELECTED);\n        items[0].removeAttribute('aria-selected');\n      }\n    }\n  };\n\n  TimePicker.prototype.removeHover = function (className) {\n    var hoveredItem = this.getHoverItem(className);\n\n    if (hoveredItem && hoveredItem.length) {\n      removeClass(hoveredItem, className);\n\n      if (className === NAVIGATION) {\n        hoveredItem[0].removeAttribute('aria-selected');\n      }\n    }\n  };\n\n  TimePicker.prototype.getHoverItem = function (className) {\n    var hoveredItem;\n\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      hoveredItem = this.popupWrapper.querySelectorAll('.' + className);\n    }\n\n    return hoveredItem;\n  };\n\n  TimePicker.prototype.setActiveClass = function () {\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS);\n\n      if (items.length) {\n        for (var i = 0; i < items.length; i++) {\n          if (this.timeCollections[i] === +this.getDateObject(this.valueWithMinutes)) {\n            items[i].setAttribute('aria-selected', 'true');\n            this.selectedElement = items[i];\n            this.activeIndex = i;\n            break;\n          }\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.addSelection = function () {\n    this.selectedElement = null;\n    this.removeSelection();\n    this.setActiveClass();\n\n    if (!isNullOrUndefined(this.selectedElement)) {\n      addClass([this.selectedElement], SELECTED);\n      this.selectedElement.setAttribute('aria-selected', 'true');\n    }\n  };\n\n  TimePicker.prototype.isValidLI = function (li) {\n    return li && li.classList.contains(LISTCLASS) && !li.classList.contains(DISABLED);\n  };\n\n  TimePicker.prototype.createDateObj = function (val) {\n    var formatStr = null;\n    var today = this.globalize.formatDate(new Date(), {\n      format: formatStr,\n      skeleton: 'short',\n      type: 'date'\n    });\n    var value = null;\n\n    if (typeof val === 'string') {\n      if (val.toUpperCase().indexOf('AM') > -1 || val.toUpperCase().indexOf('PM') > -1) {\n        today = this.defaultCulture.formatDate(new Date(), {\n          format: formatStr,\n          skeleton: 'short',\n          type: 'date'\n        });\n        value = isNaN(+new Date(today + ' ' + val)) ? null : new Date(new Date(today + ' ' + val).setMilliseconds(0));\n\n        if (isNullOrUndefined(value)) {\n          value = this.timeParse(today, val);\n        }\n      } else {\n        value = this.timeParse(today, val);\n      }\n    } else if (val instanceof Date) {\n      value = val;\n    }\n\n    return value;\n  };\n\n  TimePicker.prototype.timeParse = function (today, val) {\n    var value;\n    value = this.globalize.parseDate(today + ' ' + val, {\n      format: this.cldrDateFormat() + ' ' + this.cldrTimeFormat(),\n      type: 'datetime'\n    });\n    value = isNullOrUndefined(value) ? this.globalize.parseDate(today + ' ' + val, {\n      format: this.cldrDateFormat() + ' ' + this.dateToNumeric(),\n      type: 'datetime'\n    }) : value;\n    value = isNullOrUndefined(value) ? value : new Date(value.setMilliseconds(0));\n    return value;\n  };\n\n  TimePicker.prototype.createListItems = function () {\n    var _this = this;\n\n    this.listWrapper = this.createElement('div', {\n      className: CONTENT,\n      attrs: {\n        'tabindex': '0'\n      }\n    });\n    var start;\n    var interval = this.step * 60000;\n    var listItems = [];\n    this.timeCollections = [];\n    this.disableItemCollection = [];\n    start = +this.getDateObject(this.initMin).setMilliseconds(0);\n    var end = +this.getDateObject(this.initMax).setMilliseconds(0);\n\n    while (end >= start) {\n      this.timeCollections.push(start);\n      listItems.push(this.globalize.formatDate(new Date(start), {\n        format: this.cldrTimeFormat(),\n        type: 'time'\n      }));\n      start += interval;\n    }\n\n    var listBaseOptions = {\n      itemCreated: function (args) {\n        var eventArgs = {\n          element: args.item,\n          text: args.text,\n          value: _this.getDateObject(args.text),\n          isDisabled: false\n        };\n\n        _this.trigger('itemRender', eventArgs, function (eventArgs) {\n          if (eventArgs.isDisabled) {\n            eventArgs.element.classList.add(DISABLED);\n          }\n\n          if (eventArgs.element.classList.contains(DISABLED)) {\n            _this.disableItemCollection.push(eventArgs.element.getAttribute('data-value'));\n          }\n        });\n      }\n    };\n    this.listTag = ListBase.createList(this.createElement, listItems, listBaseOptions, true);\n    attributes(this.listTag, {\n      'role': 'listbox',\n      'aria-hidden': 'false',\n      'id': this.element.id + '_options'\n    });\n    append([this.listTag], this.listWrapper);\n  };\n\n  TimePicker.prototype.documentClickHandler = function (event) {\n    var target = event.target;\n\n    if (!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(target) || this.popupObj.element && this.popupObj.element.contains(target)) && event.type !== 'touchstart') {\n      event.preventDefault();\n    }\n\n    if (!closest(target, '[id=\"' + this.popupObj.element.id + '\"]') && target !== this.inputElement && target !== (this.inputWrapper && this.inputWrapper.buttons[0]) && target !== (this.inputWrapper && this.inputWrapper.clearButton) && target !== (this.inputWrapper && this.inputWrapper.container)) {\n      if (this.isPopupOpen()) {\n        this.hide();\n        this.focusOut();\n      }\n    } else if (target !== this.inputElement) {\n      if (!Browser.isDevice) {\n        this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && document.activeElement === this.inputElement && target === this.popupWrapper;\n      }\n    }\n  };\n\n  TimePicker.prototype.setEnableRtl = function () {\n    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n\n    if (this.popupObj) {\n      this.popupObj.enableRtl = this.enableRtl;\n      this.popupObj.dataBind();\n    }\n  };\n\n  TimePicker.prototype.setEnable = function () {\n    Input.setEnabled(this.enabled, this.inputElement, this.floatLabelType);\n\n    if (this.enabled) {\n      removeClass([this.inputWrapper.container], DISABLED);\n      attributes(this.inputElement, {\n        'aria-disabled': 'false'\n      });\n      this.inputElement.setAttribute('tabindex', this.tabIndex);\n    } else {\n      this.hide();\n      addClass([this.inputWrapper.container], DISABLED);\n      attributes(this.inputElement, {\n        'aria-disabled': 'true'\n      });\n      this.inputElement.tabIndex = -1;\n    }\n  };\n\n  TimePicker.prototype.getProperty = function (date, val) {\n    if (val === 'min') {\n      this.initMin = this.checkDateValue(new Date(this.checkInValue(date.min)));\n      this.setProperties({\n        min: this.initMin\n      }, true);\n    } else {\n      this.initMax = this.checkDateValue(new Date(this.checkInValue(date.max)));\n      this.setProperties({\n        max: this.initMax\n      }, true);\n    }\n\n    if (this.inputElement.value === '') {\n      this.validateMinMax(this.value, this.min, this.max);\n    } else {\n      this.checkValue(this.inputElement.value);\n    }\n\n    this.checkValueChange(null, false);\n  };\n\n  TimePicker.prototype.inputBlurHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    } // IE popup closing issue when click over the scrollbar\n\n\n    if (this.isPreventBlur && this.isPopupOpen()) {\n      this.inputElement.focus();\n      return;\n    }\n\n    this.closePopup(0, e);\n\n    if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n      if (this.inputElement.value == this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n        this.updateInputValue('');\n      }\n    }\n\n    removeClass([this.inputWrapper.container], [FOCUS]);\n    var blurArguments = {\n      model: this\n    };\n    this.trigger('blur', blurArguments);\n\n    if (this.getText() !== this.inputElement.value) {\n      this.updateValue(this.inputElement.value, e);\n    } else if (this.inputElement.value.trim().length === 0) {\n      this.resetState();\n    }\n\n    this.cursorDetails = null;\n    this.isNavigate = false;\n\n    if (this.inputElement.value === '') {\n      this.invalidValueString = null;\n    }\n  };\n  /**\r\n   * Focuses out the TimePicker textbox element.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  TimePicker.prototype.focusOut = function () {\n    if (document.activeElement === this.inputElement) {\n      this.inputElement.blur();\n      removeClass([this.inputWrapper.container], [FOCUS]);\n      var blurArguments = {\n        model: this\n      };\n      this.trigger('blur', blurArguments);\n    }\n  };\n\n  TimePicker.prototype.isPopupOpen = function () {\n    if (this.popupWrapper && this.popupWrapper.classList.contains('' + ROOT)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  TimePicker.prototype.inputFocusHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    var focusArguments = {\n      model: this\n    };\n\n    if (!this.readonly && !Browser.isDevice && !this.enableMask) {\n      this.selectInputText();\n    }\n\n    if (this.enableMask && !this.inputElement.value && this.placeholder) {\n      if (this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n        this.updateInputValue(this.maskedDateValue);\n        this.inputElement.selectionStart = 0;\n        this.inputElement.selectionEnd = this.inputElement.value.length;\n      }\n    }\n\n    this.trigger('focus', focusArguments);\n    this.clearIconState();\n\n    if (this.openOnFocus) {\n      this.show();\n    }\n  };\n  /**\r\n   * Focused the TimePicker textbox element.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  TimePicker.prototype.focusIn = function () {\n    if (document.activeElement !== this.inputElement && this.enabled) {\n      this.inputElement.focus();\n    }\n  };\n  /**\r\n   * Hides the TimePicker popup.\r\n   *\r\n   * @returns {void}\r\n     */\n\n\n  TimePicker.prototype.hide = function () {\n    this.closePopup(100, null);\n    this.clearIconState();\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n\n  /**\r\n   * Opens the popup to show the list items.\r\n   *\r\n   * @returns {void}\r\n     */\n\n\n  TimePicker.prototype.show = function (event) {\n    var _this = this;\n\n    if (this.enabled && this.readonly || !this.enabled || this.popupWrapper) {\n      return;\n    } else {\n      this.popupCreation();\n\n      if (Browser.isDevice && this.listWrapper) {\n        this.modal = this.createElement('div');\n        this.modal.className = '' + ROOT + ' e-time-modal';\n        document.body.className += ' ' + OVERFLOW;\n        document.body.appendChild(this.modal);\n      }\n\n      if (Browser.isDevice) {\n        this.mobileTimePopupWrap = this.createElement('div', {\n          className: 'e-timepicker-mob-popup-wrap'\n        });\n        document.body.appendChild(this.mobileTimePopupWrap);\n      }\n\n      this.openPopupEventArgs = {\n        popup: this.popupObj || null,\n        cancel: false,\n        event: event || null,\n        name: 'open',\n        appendTo: Browser.isDevice ? this.mobileTimePopupWrap : document.body\n      };\n      var eventArgs = this.openPopupEventArgs;\n      this.trigger('open', eventArgs, function (eventArgs) {\n        _this.openPopupEventArgs = eventArgs;\n\n        if (!_this.openPopupEventArgs.cancel && !_this.inputWrapper.buttons[0].classList.contains(DISABLED)) {\n          _this.openPopupEventArgs.appendTo.appendChild(_this.popupWrapper);\n\n          _this.popupAlignment(_this.openPopupEventArgs);\n\n          _this.setScrollPosition();\n\n          if (!Browser.isDevice) {\n            _this.inputElement.focus();\n          }\n\n          var openAnimation = {\n            name: 'FadeIn',\n            duration: ANIMATIONDURATION\n          };\n\n          _this.popupObj.refreshPosition(_this.anchor);\n\n          if (_this.zIndex === 1000) {\n            _this.popupObj.show(new Animation(openAnimation), _this.element);\n          } else {\n            _this.popupObj.show(new Animation(openAnimation), null);\n          }\n\n          _this.setActiveDescendant();\n\n          attributes(_this.inputElement, {\n            'aria-expanded': 'true'\n          });\n          addClass([_this.inputWrapper.container], FOCUS);\n          EventHandler.add(document, 'mousedown touchstart', _this.documentClickHandler, _this);\n\n          _this.setOverlayIndex(_this.mobileTimePopupWrap, _this.popupObj.element, _this.modal, Browser.isDevice);\n        } else {\n          _this.popupObj.destroy();\n\n          _this.popupWrapper = _this.listTag = undefined;\n          _this.liCollections = _this.timeCollections = _this.disableItemCollection = [];\n          _this.popupObj = null;\n        }\n      });\n    }\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-param */\n\n\n  TimePicker.prototype.setOverlayIndex = function (popupWrapper, timePopupElement, modal, isDevice) {\n    if (isDevice && !isNullOrUndefined(timePopupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n      var index = parseInt(timePopupElement.style.zIndex, 10) ? parseInt(timePopupElement.style.zIndex, 10) : 1000;\n      modal.style.zIndex = (index - 1).toString();\n      popupWrapper.style.zIndex = index.toString();\n    }\n  };\n\n  TimePicker.prototype.formatValues = function (type) {\n    var value;\n\n    if (typeof type === 'number') {\n      value = formatUnit(type);\n    } else if (typeof type === 'string') {\n      value = type.match(/px|%|em/) ? type : isNaN(parseInt(type, 10)) ? type : formatUnit(type);\n    }\n\n    return value;\n  };\n\n  TimePicker.prototype.popupAlignment = function (args) {\n    args.popup.position.X = this.formatValues(args.popup.position.X);\n    args.popup.position.Y = this.formatValues(args.popup.position.Y);\n\n    if (!isNaN(parseFloat(args.popup.position.X)) || !isNaN(parseFloat(args.popup.position.Y))) {\n      this.popupObj.relateTo = this.anchor = document.body;\n      this.popupObj.targetType = 'container';\n    }\n\n    if (!isNaN(parseFloat(args.popup.position.X))) {\n      this.popupObj.offsetX = parseFloat(args.popup.position.X);\n    }\n\n    if (!isNaN(parseFloat(args.popup.position.Y))) {\n      this.popupObj.offsetY = parseFloat(args.popup.position.Y);\n    }\n\n    if (!Browser.isDevice) {\n      switch (args.popup.position.X) {\n        case 'left':\n          break;\n\n        case 'right':\n          args.popup.offsetX = this.containerStyle.width;\n          break;\n\n        case 'center':\n          args.popup.offsetX = -(this.containerStyle.width / 2);\n          break;\n      }\n\n      switch (args.popup.position.Y) {\n        case 'top':\n          break;\n\n        case 'bottom':\n          break;\n\n        case 'center':\n          args.popup.offsetY = -(this.containerStyle.height / 2);\n          break;\n      }\n\n      if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n        this.popupObj.relateTo = this.inputWrapper.container;\n        this.anchor = this.inputElement;\n        this.popupObj.targetType = 'relative';\n      }\n    } else {\n      if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n        this.popupObj.relateTo = this.anchor = document.body;\n        this.popupObj.offsetY = 0;\n        this.popupObj.targetType = 'container';\n        this.popupObj.collision = {\n          X: 'fit',\n          Y: 'fit'\n        };\n      }\n    }\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\r\n   * Gets the properties to be maintained upon browser refresh.\r\n   *\r\n   * @returns {string}\r\n   */\n\n\n  TimePicker.prototype.getPersistData = function () {\n    var keyEntity = ['value'];\n    return this.addOnPersist(keyEntity);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\r\n   * To get component name\r\n   *\r\n   * @returns {string} Returns the component name.\r\n   * @private\r\n   */\n\n\n  TimePicker.prototype.getModuleName = function () {\n    return 'timepicker';\n  };\n  /**\r\n   * Called internally if any of the property value changed.\r\n   *\r\n   * @param {TimePickerModel} newProp - Returns the dynamic property value of the component.\r\n   * @param {TimePickerModel} oldProp - Returns the previous property value of the component.\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  TimePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this.inputElement);\n          this.inputElement.setAttribute('aria-placeholder', newProp.placeholder);\n          break;\n\n        case 'readonly':\n          Input.setReadonly(this.readonly, this.inputElement, this.floatLabelType);\n\n          if (this.readonly) {\n            this.hide();\n          }\n\n          this.setTimeAllowEdit();\n          break;\n\n        case 'enabled':\n          this.setProperties({\n            enabled: newProp.enabled\n          }, true);\n          this.setEnable();\n          break;\n\n        case 'allowEdit':\n          this.setTimeAllowEdit();\n          break;\n\n        case 'enableRtl':\n          this.setProperties({\n            enableRtl: newProp.enableRtl\n          }, true);\n          this.setEnableRtl();\n          break;\n\n        case 'cssClass':\n          this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n          break;\n\n        case 'zIndex':\n          this.setProperties({\n            zIndex: newProp.zIndex\n          }, true);\n          this.setZIndex();\n          break;\n\n        case 'htmlAttributes':\n          this.updateHtmlAttributeToElement();\n          this.updateHtmlAttributeToWrapper();\n          this.checkAttributes(true);\n          break;\n\n        case 'min':\n        case 'max':\n          this.getProperty(newProp, prop);\n          break;\n\n        case 'showClearButton':\n          Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n          this.bindClearEvent();\n          break;\n\n        case 'locale':\n          this.setProperties({\n            locale: newProp.locale\n          }, true);\n          this.globalize = new Internationalization(this.locale);\n          this.l10n.setLocale(this.locale);\n          this.updatePlaceHolder();\n          this.setValue(this.value);\n\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n          }\n\n          break;\n\n        case 'width':\n          setStyleAttribute(this.inputWrapper.container, {\n            'width': this.setWidth(newProp.width)\n          });\n          this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n          break;\n\n        case 'format':\n          this.setProperties({\n            format: newProp.format\n          }, true);\n          this.checkTimeFormat();\n          this.setValue(this.value);\n\n          if (this.enableMask) {\n            this.createMask();\n\n            if (!this.value) {\n              this.updateInputValue(this.maskedDateValue);\n            }\n          }\n\n          break;\n\n        case 'value':\n          this.invalidValueString = null;\n          this.checkInvalidValue(newProp.value);\n          newProp.value = this.value;\n\n          if (!this.invalidValueString) {\n            if (typeof newProp.value === 'string') {\n              this.setProperties({\n                value: this.checkDateValue(new Date(newProp.value))\n              }, true);\n              newProp.value = this.value;\n            } else {\n              if ((newProp.value && +new Date(+newProp.value).setMilliseconds(0)) !== +this.value) {\n                newProp.value = this.checkDateValue(new Date('' + newProp.value));\n              }\n            }\n\n            this.initValue = newProp.value;\n            newProp.value = this.compareFormatChange(this.checkValue(newProp.value));\n          } else {\n            this.updateInputValue(this.invalidValueString);\n            this.checkErrorState(this.invalidValueString);\n          }\n\n          this.checkValueChange(null, false);\n\n          if (this.isPopupOpen()) {\n            this.setScrollPosition();\n          }\n\n          if (this.isAngular && this.preventChange) {\n            this.preventChange = false;\n          }\n\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n          }\n\n          break;\n\n        case 'floatLabelType':\n          this.floatLabelType = newProp.floatLabelType;\n          Input.removeFloating(this.inputWrapper);\n          Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n          break;\n\n        case 'strictMode':\n          this.invalidValueString = null;\n\n          if (newProp.strictMode) {\n            this.checkErrorState(null);\n          }\n\n          this.setProperties({\n            strictMode: newProp.strictMode\n          }, true);\n          this.checkValue(this.inputElement.value);\n          this.checkValueChange(null, false);\n          break;\n\n        case 'scrollTo':\n          if (this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))) {\n            if (this.popupWrapper) {\n              this.setScrollTo();\n            }\n\n            this.setProperties({\n              scrollTo: this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))\n            }, true);\n          } else {\n            this.setProperties({\n              scrollTo: null\n            }, true);\n          }\n\n          break;\n\n        case 'enableMask':\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n            this.updateInputValue(this.maskedDateValue);\n          } else {\n            if (this.inputElement.value === this.maskedDateValue) {\n              this.updateInputValue('');\n            }\n          }\n\n          break;\n      }\n    }\n  };\n\n  TimePicker.prototype.checkInValue = function (inValue) {\n    if (inValue instanceof Date) {\n      return inValue.toUTCString();\n    } else {\n      return '' + inValue;\n    }\n  };\n\n  __decorate([Property(null)], TimePicker.prototype, \"width\", void 0);\n\n  __decorate([Property(null)], TimePicker.prototype, \"cssClass\", void 0);\n\n  __decorate([Property(false)], TimePicker.prototype, \"strictMode\", void 0);\n\n  __decorate([Property(null)], TimePicker.prototype, \"keyConfigs\", void 0);\n\n  __decorate([Property(null)], TimePicker.prototype, \"format\", void 0);\n\n  __decorate([Property(true)], TimePicker.prototype, \"enabled\", void 0);\n\n  __decorate([Property(false)], TimePicker.prototype, \"readonly\", void 0);\n\n  __decorate([Property({})], TimePicker.prototype, \"htmlAttributes\", void 0);\n\n  __decorate([Property('Never')], TimePicker.prototype, \"floatLabelType\", void 0);\n\n  __decorate([Property(null)], TimePicker.prototype, \"placeholder\", void 0);\n\n  __decorate([Property(1000)], TimePicker.prototype, \"zIndex\", void 0);\n\n  __decorate([Property(false)], TimePicker.prototype, \"enablePersistence\", void 0);\n\n  __decorate([Property(true)], TimePicker.prototype, \"showClearButton\", void 0);\n\n  __decorate([Property(30)], TimePicker.prototype, \"step\", void 0);\n\n  __decorate([Property(null)], TimePicker.prototype, \"scrollTo\", void 0);\n\n  __decorate([Property(null)], TimePicker.prototype, \"value\", void 0);\n\n  __decorate([Property(null)], TimePicker.prototype, \"min\", void 0);\n\n  __decorate([Property(null)], TimePicker.prototype, \"max\", void 0);\n\n  __decorate([Property(true)], TimePicker.prototype, \"allowEdit\", void 0);\n\n  __decorate([Property(false)], TimePicker.prototype, \"openOnFocus\", void 0);\n\n  __decorate([Property(false)], TimePicker.prototype, \"enableMask\", void 0);\n\n  __decorate([Property({\n    day: 'day',\n    month: 'month',\n    year: 'year',\n    hour: 'hour',\n    minute: 'minute',\n    second: 'second',\n    dayOfTheWeek: 'day of the week'\n  })], TimePicker.prototype, \"maskPlaceholder\", void 0);\n\n  __decorate([Event()], TimePicker.prototype, \"change\", void 0);\n\n  __decorate([Event()], TimePicker.prototype, \"created\", void 0);\n\n  __decorate([Event()], TimePicker.prototype, \"destroyed\", void 0);\n\n  __decorate([Event()], TimePicker.prototype, \"open\", void 0);\n\n  __decorate([Event()], TimePicker.prototype, \"itemRender\", void 0);\n\n  __decorate([Event()], TimePicker.prototype, \"close\", void 0);\n\n  __decorate([Event()], TimePicker.prototype, \"cleared\", void 0);\n\n  __decorate([Event()], TimePicker.prototype, \"blur\", void 0);\n\n  __decorate([Event()], TimePicker.prototype, \"focus\", void 0);\n\n  TimePicker = __decorate([NotifyPropertyChanges], TimePicker);\n  return TimePicker;\n}(Component);\n\nexport { TimePicker };\n/* eslint-enable @typescript-eslint/no-explicit-any */","map":{"version":3,"sources":["D:/HUST/20211/Introduction to Software Engineering/Project/Sprint 2/RubyGYM/client/node_modules/@syncfusion/ej2-calendars/src/timepicker/timepicker.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","EventHandler","Property","Internationalization","NotifyPropertyChanges","KeyboardEvents","Animation","Browser","cldrData","L10n","Component","getDefaultDateObject","rippleEffect","Event","remove","addClass","detach","removeClass","closest","append","attributes","setStyleAttribute","isNullOrUndefined","formatUnit","getValue","extend","getUniqueID","ChildProperty","Popup","Input","ListBase","WRAPPERCLASS","POPUP","ERROR","POPUPDIMENSION","DAY","Date","getDate","MONTH","getMonth","YEAR","getFullYear","ROOT","LIBRARY","CONTROL","CONTENT","SELECTED","HOVER","NAVIGATION","DISABLED","ICONANIMATION","TIMEICON","CLEARICON","FOCUS","LISTCLASS","HALFPOSITION","ANIMATIONDURATION","OVERFLOW","OFFSETVAL","EDITABLE","wrapperAttributes","TimePickerBase","createListItems","createdEl","min","max","globalize","timeFormat","step","formatOptions","calendarMode","format","type","calendar","start","interval","listItems","timeCollections","setMilliseconds","end","push","formatDate","listTag","createList","collection","list","TimeMaskPlaceholder","_super","apply","TimePicker","options","element","_this","call","liCollections","disableItemCollection","invalidValueString","isAngular","preventChange","maskedDateValue","moduleName","getModuleName","timeOptions","preRender","keyConfigure","enter","escape","tab","home","down","up","left","right","open","close","cloneElement","cloneNode","inputElement","angularTag","formElement","tagName","createElement","appendChild","tabIndex","hasAttribute","getAttribute","removeAttribute","openPopupEventArgs","appendTo","document","body","render","initialize","createInputElement","updateHtmlAttributeToWrapper","setTimeAllowEdit","setEnable","validateInterval","bindEvents","validateDisable","setValue","getFormattedValue","value","enableMask","floatLabelType","placeholder","updateInputValue","checkErrorState","anchor","setAttribute","inputEleValue","getDateObject","renderComplete","allowEdit","readonly","clearIconState","inputWrapper","container","setMinMax","initMin","initMax","popupCreation","popupObj","destroy","popupWrapper","isNaN","valueIsDisable","strictMode","resetState","initValue","validationAttribute","input","name","attr","locale","defaultCulture","checkTimeFormat","checkInvalidValue","setProperties","checkDateValue","checkInValue","scrollTo","updateHtmlAttributeToElement","checkAttributes","localeText","l10n","getConstant","isNavigate","isPreventBlur","isTextSelected","activeIndex","valueWithMinutes","prevDate","id","notify","module","formatString","skeleton","skeletonString","getDatePattern","updatedCssClassesValue","cssClass","isBindClearAction","replace","trim","createInput","bindClearAction","properties","enabled","enableRtl","showClearButton","buttons","style","width","setWidth","isNullOrEmpty","inputStyle","addAttributes","getCldrDateTimeFormat","culture","cldrTime","dateFormat","cldrFormat","isInvalid","valueString","valueExpression","valueExp","toString","test","setCurrentDate","parseDate","extISOString","basicISOString","requiredModules","modules","args","member","cldrDateTimeString","getCultureTimeObject","hide","unBindEvents","ariaAttribute","removeAttributes","parentElement","ensureInputAttribute","enableElement","classList","setEnabled","undefined","rippleFn","formResetHandler","propertyList","toLowerCase","className","attrs","generateList","listWrapper","addSelection","renderPopup","getPopupHeight","height","parseInt","popupHeight","getBoundingClientRect","wireListEvents","rippleModel","duration","selector","querySelectorAll","containerStyle","setPopupWidth","zIndex","targetType","position","isDevice","X","Y","collision","relateTo","offsetY","visibility","unWireListEvents","innerHTML","targetExitViewport","maxHeight","text","dateValue","createDateObj","date","month","year","getHours","getMinutes","getSeconds","htmlAttributes","_i","_a","keys","indexOf","updatedClassesValue","split","timeStyle","updateCssClass","cssClassNew","cssClassOld","setCssClass","removeErrorClass","val","validateState","disableTimeIcon","disableElement","selectInputText","setSelectionRange","setCursorToEnd","getMeridianText","meridian","gregorianFormat","mainVal","getCursorSelection","selectionStart","selectionEnd","Math","abs","getActiveElement","match","inputWidth","parseFloat","setScrollPosition","selectedElement","findScrollTop","setScrollTo","listHeight","nextEle","nextElementSibling","offsetTop","liHeight","scrollTop","items","initialTime","scrollTime","getTime","round","getText","cldrTimeFormat","cldrDateFormat","cldrDate","getCultureDateObject","dateToNumeric","getExactDateTime","time","checkValue","validateMinMax","compareFormatChange","updateInput","updatePlaceHolder","setPlaceholder","preventEventBubbling","e","preventDefault","interopAdaptor","invokeMethodAsync","popupHandler","isPopupOpen","closePopup","focus","show","mouseDownHandler","add","mouseUpHandler","event","curPos","cursorDetails","focusSelection","regex","RegExp","isSeparator","inputHandler","action","keyHandler","updateValue","stopPropagation","objToString","createMask","previousState","onMouseClick","li","setSelection","contains","delay","popup","cancel","trigger","animModel","documentClickHandler","modal","display","outerHTML","mobileTimePopupWrap","disposeServerPopup","top","checkValueChange","isNavigation","prevValue","changeEvent","valueProcess","onMouseOver","currentLi","setHover","isValidLI","removeHover","slice","onMouseLeave","scrollHandler","minVal","maxVal","dateVal","strictOperation","index","maxValue","minValue","minimum","maximum","inputBlurHandler","inputFocusHandler","inputChangeHandler","inputEventHandler","keydownHandler","clearButton","clearHandler","keyConfigs","inputEvent","keyAction","bind","eventName","code","disabled","timeValue","bindClearEvent","raiseClearedEvent","clearedArgs","clear","setZIndex","dataBind","isDynamic","attributes_1","prop","getTextFormat","strArray","inputVal","removeSelection","validateValue","newval","value_1","findNextElement","textVal","timeVal","count","collections","validLiElement","elementValue","selectNextItem","backward","elementIndex","isCheck","nextItem","keyCode","setActiveDescendant","ld","result","eventArgs","isInteracted","isUpdate","hoveredItem","getHoverItem","setActiveClass","formatStr","today","toUpperCase","timeParse","listBaseOptions","itemCreated","item","isDisabled","focusOut","isIE","info","activeElement","setEnableRtl","getProperty","blurArguments","model","blur","focusArguments","openOnFocus","focusIn","popupAlignment","openAnimation","refreshPosition","setOverlayIndex","timePopupElement","formatValues","offsetX","getPersistData","keyEntity","addOnPersist","onPropertyChanged","newProp","oldProp","setReadonly","setClearButton","setLocale","removeFloating","addFloating","inValue","toUTCString","day","hour","minute","second","dayOfTheWeek"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { EventHandler, Property, Internationalization, NotifyPropertyChanges } from '@syncfusion/ej2-base';\r\nimport { KeyboardEvents, Animation, Browser } from '@syncfusion/ej2-base';\r\nimport { cldrData, L10n, Component, getDefaultDateObject, rippleEffect, Event } from '@syncfusion/ej2-base';\r\nimport { remove, addClass, detach, removeClass, closest, append, attributes, setStyleAttribute } from '@syncfusion/ej2-base';\r\nimport { isNullOrUndefined, formatUnit, getValue, extend, getUniqueID, ChildProperty } from '@syncfusion/ej2-base';\r\nimport { Popup } from '@syncfusion/ej2-popups';\r\nimport { Input } from '@syncfusion/ej2-inputs';\r\nimport { ListBase } from '@syncfusion/ej2-lists';\r\nvar WRAPPERCLASS = 'e-time-wrapper';\r\nvar POPUP = 'e-popup';\r\nvar ERROR = 'e-error';\r\nvar POPUPDIMENSION = '240px';\r\nvar DAY = new Date().getDate();\r\nvar MONTH = new Date().getMonth();\r\nvar YEAR = new Date().getFullYear();\r\nvar ROOT = 'e-timepicker';\r\nvar LIBRARY = 'e-lib';\r\nvar CONTROL = 'e-control';\r\nvar CONTENT = 'e-content';\r\nvar SELECTED = 'e-active';\r\nvar HOVER = 'e-hover';\r\nvar NAVIGATION = 'e-navigation';\r\nvar DISABLED = 'e-disabled';\r\nvar ICONANIMATION = 'e-icon-anim';\r\nvar TIMEICON = 'e-time-icon';\r\nvar CLEARICON = 'e-clear-icon';\r\nvar FOCUS = 'e-input-focus';\r\nvar LISTCLASS = 'e-list-item';\r\nvar HALFPOSITION = 2;\r\nvar ANIMATIONDURATION = 50;\r\nvar OVERFLOW = 'e-time-overflow';\r\nvar OFFSETVAL = 4;\r\nvar EDITABLE = 'e-non-edit';\r\nvar wrapperAttributes = ['title', 'class', 'style'];\r\n// eslint-disable-next-line @typescript-eslint/no-namespace\r\nexport var TimePickerBase;\r\n(function (TimePickerBase) {\r\n    // eslint-disable-next-line max-len, jsdoc/require-jsdoc\r\n    function createListItems(createdEl, min, max, globalize, timeFormat, step) {\r\n        var formatOptions;\r\n        if (this.calendarMode === 'Gregorian') {\r\n            formatOptions = { format: timeFormat, type: 'time' };\r\n        }\r\n        else {\r\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n            formatOptions = { format: timeFormat, type: 'time', calendar: 'islamic' };\r\n        }\r\n        var start;\r\n        var interval = step * 60000;\r\n        var listItems = [];\r\n        var timeCollections = [];\r\n        start = +(min.setMilliseconds(0));\r\n        var end = +(max.setMilliseconds(0));\r\n        while (end >= start) {\r\n            timeCollections.push(start);\r\n            listItems.push(globalize.formatDate(new Date(start), { format: timeFormat, type: 'time' }));\r\n            start += interval;\r\n        }\r\n        var listTag = ListBase.createList(createdEl, listItems, null, true);\r\n        return { collection: timeCollections, list: listTag };\r\n    }\r\n    TimePickerBase.createListItems = createListItems;\r\n})(TimePickerBase || (TimePickerBase = {}));\r\nvar TimeMaskPlaceholder = /** @class */ (function (_super) {\r\n    __extends(TimeMaskPlaceholder, _super);\r\n    function TimeMaskPlaceholder() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    __decorate([\r\n        Property('day')\r\n    ], TimeMaskPlaceholder.prototype, \"day\", void 0);\r\n    __decorate([\r\n        Property('month')\r\n    ], TimeMaskPlaceholder.prototype, \"month\", void 0);\r\n    __decorate([\r\n        Property('year')\r\n    ], TimeMaskPlaceholder.prototype, \"year\", void 0);\r\n    __decorate([\r\n        Property('day of the week')\r\n    ], TimeMaskPlaceholder.prototype, \"dayOfTheWeek\", void 0);\r\n    __decorate([\r\n        Property('hour')\r\n    ], TimeMaskPlaceholder.prototype, \"hour\", void 0);\r\n    __decorate([\r\n        Property('minute')\r\n    ], TimeMaskPlaceholder.prototype, \"minute\", void 0);\r\n    __decorate([\r\n        Property('second')\r\n    ], TimeMaskPlaceholder.prototype, \"second\", void 0);\r\n    return TimeMaskPlaceholder;\r\n}(ChildProperty));\r\nexport { TimeMaskPlaceholder };\r\n/**\r\n * TimePicker is an intuitive interface component which provides an options to select a time value\r\n * from popup list or to set a desired time value.\r\n * ```\r\n * <input id='timepicker' type='text'/>\r\n * <script>\r\n *   var timePickerObj = new TimePicker({ value: new Date() });\r\n *   timePickerObj.appendTo('#timepicker');\r\n * </script>\r\n * ```\r\n */\r\nvar TimePicker = /** @class */ (function (_super) {\r\n    __extends(TimePicker, _super);\r\n    /**\r\n     * Constructor for creating the widget\r\n     *\r\n     * @param {TimePickerModel} options - Specifies the TimePicker model.\r\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\r\n     * @private\r\n     */\r\n    function TimePicker(options, element) {\r\n        var _this = _super.call(this, options, element) || this;\r\n        _this.liCollections = [];\r\n        _this.timeCollections = [];\r\n        _this.disableItemCollection = [];\r\n        _this.invalidValueString = null;\r\n        _this.isAngular = false;\r\n        _this.preventChange = false;\r\n        _this.maskedDateValue = '';\r\n        _this.moduleName = _this.getModuleName();\r\n        _this.timeOptions = options;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Initialize the event handler\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    TimePicker.prototype.preRender = function () {\r\n        this.keyConfigure = {\r\n            enter: 'enter',\r\n            escape: 'escape',\r\n            end: 'end',\r\n            tab: 'tab',\r\n            home: 'home',\r\n            down: 'downarrow',\r\n            up: 'uparrow',\r\n            left: 'leftarrow',\r\n            right: 'rightarrow',\r\n            open: 'alt+downarrow',\r\n            close: 'alt+uparrow'\r\n        };\r\n        this.cloneElement = this.element.cloneNode(true);\r\n        removeClass([this.cloneElement], [ROOT, CONTROL, LIBRARY]);\r\n        this.inputElement = this.element;\r\n        this.angularTag = null;\r\n        this.formElement = closest(this.element, 'form');\r\n        if (this.element.tagName === 'EJS-TIMEPICKER') {\r\n            this.angularTag = this.element.tagName;\r\n            this.inputElement = this.createElement('input');\r\n            this.element.appendChild(this.inputElement);\r\n        }\r\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\r\n        this.element.removeAttribute('tabindex');\r\n        this.openPopupEventArgs = {\r\n            appendTo: document.body\r\n        };\r\n    };\r\n    // element creation\r\n    TimePicker.prototype.render = function () {\r\n        this.initialize();\r\n        this.createInputElement();\r\n        this.updateHtmlAttributeToWrapper();\r\n        this.setTimeAllowEdit();\r\n        this.setEnable();\r\n        this.validateInterval();\r\n        this.bindEvents();\r\n        this.validateDisable();\r\n        this.setValue(this.getFormattedValue(this.value));\r\n        if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\r\n            this.updateInputValue(this.maskedDateValue);\r\n            this.checkErrorState(this.maskedDateValue);\r\n        }\r\n        this.anchor = this.inputElement;\r\n        this.inputElement.setAttribute('value', this.inputElement.value);\r\n        this.inputEleValue = this.getDateObject(this.inputElement.value);\r\n        this.renderComplete();\r\n    };\r\n    TimePicker.prototype.setTimeAllowEdit = function () {\r\n        if (this.allowEdit) {\r\n            if (!this.readonly) {\r\n                this.inputElement.removeAttribute('readonly');\r\n            }\r\n        }\r\n        else {\r\n            attributes(this.inputElement, { 'readonly': '' });\r\n        }\r\n        this.clearIconState();\r\n    };\r\n    TimePicker.prototype.clearIconState = function () {\r\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\r\n            if (this.inputElement.value === '') {\r\n                removeClass([this.inputWrapper.container], [EDITABLE]);\r\n            }\r\n            else {\r\n                addClass([this.inputWrapper.container], [EDITABLE]);\r\n            }\r\n        }\r\n        else if (this.inputWrapper) {\r\n            removeClass([this.inputWrapper.container], [EDITABLE]);\r\n        }\r\n    };\r\n    TimePicker.prototype.validateDisable = function () {\r\n        this.setMinMax(this.initMin, this.initMax);\r\n        this.popupCreation();\r\n        this.popupObj.destroy();\r\n        this.popupWrapper = this.popupObj = null;\r\n        if ((!isNaN(+this.value) && this.value !== null)) {\r\n            if (!this.valueIsDisable(this.value)) {\r\n                //disable value given in value property so reset the date based on current date\r\n                if (this.strictMode) {\r\n                    this.resetState();\r\n                }\r\n                this.initValue = null;\r\n                this.initMax = this.getDateObject(this.initMax);\r\n                this.initMin = this.getDateObject(this.initMin);\r\n                this.timeCollections = this.liCollections = [];\r\n                this.setMinMax(this.initMin, this.initMax);\r\n            }\r\n        }\r\n    };\r\n    TimePicker.prototype.validationAttribute = function (target, input) {\r\n        var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\r\n        input.setAttribute('name', name);\r\n        target.removeAttribute('name');\r\n        var attributes = ['required', 'aria-required', 'form'];\r\n        for (var i = 0; i < attributes.length; i++) {\r\n            if (isNullOrUndefined(target.getAttribute(attributes[i]))) {\r\n                continue;\r\n            }\r\n            var attr = target.getAttribute(attributes[i]);\r\n            input.setAttribute(attributes[i], attr);\r\n            target.removeAttribute(attributes[i]);\r\n        }\r\n    };\r\n    TimePicker.prototype.initialize = function () {\r\n        this.globalize = new Internationalization(this.locale);\r\n        this.defaultCulture = new Internationalization('en');\r\n        this.checkTimeFormat();\r\n        this.checkInvalidValue(this.value);\r\n        // persist the value property.\r\n        this.setProperties({ value: this.checkDateValue(new Date(this.checkInValue(this.value))) }, true);\r\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkInValue(this.min))) }, true);\r\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkInValue(this.max))) }, true);\r\n        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkInValue(this.scrollTo))) }, true);\r\n        if (this.angularTag !== null) {\r\n            this.validationAttribute(this.element, this.inputElement);\r\n        }\r\n        this.updateHtmlAttributeToElement();\r\n        this.checkAttributes(false); //check the input element attributes\r\n        var localeText = { placeholder: this.placeholder };\r\n        this.l10n = new L10n('timepicker', localeText, this.locale);\r\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\r\n        this.initValue = this.checkDateValue(this.value);\r\n        this.initMin = this.checkDateValue(this.min);\r\n        this.initMax = this.checkDateValue(this.max);\r\n        this.isNavigate = this.isPreventBlur = this.isTextSelected = false;\r\n        this.activeIndex = this.valueWithMinutes = this.prevDate = null;\r\n        if (!isNullOrUndefined(this.element.getAttribute('id'))) {\r\n            if (this.angularTag !== null) {\r\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\r\n            }\r\n        }\r\n        else {\r\n            //for angular case\r\n            this.element.id = getUniqueID('ej2_timepicker');\r\n            if (this.angularTag !== null) {\r\n                attributes(this.inputElement, { 'id': this.element.id + '_input' });\r\n            }\r\n        }\r\n        if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\r\n            attributes(this.inputElement, { 'name': this.element.id });\r\n        }\r\n        if (this.enableMask) {\r\n            this.notify(\"createMask\", {\r\n                module: \"MaskedDateTime\",\r\n            });\r\n        }\r\n    };\r\n    TimePicker.prototype.checkTimeFormat = function () {\r\n        if (this.format) {\r\n            if (typeof this.format === 'string') {\r\n                this.formatString = this.format;\r\n            }\r\n            else if (!isNullOrUndefined(this.format.skeleton) && this.format.skeleton !== '') {\r\n                var skeletonString = this.format.skeleton;\r\n                this.formatString = this.globalize.getDatePattern({ type: 'time', skeleton: skeletonString });\r\n            }\r\n            else {\r\n                this.formatString = this.globalize.getDatePattern({ type: 'time', skeleton: 'short' });\r\n            }\r\n        }\r\n        else {\r\n            this.formatString = null;\r\n        }\r\n    };\r\n    TimePicker.prototype.checkDateValue = function (value) {\r\n        return (!isNullOrUndefined(value) && value instanceof Date && !isNaN(+value)) ? value : null;\r\n    };\r\n    TimePicker.prototype.createInputElement = function () {\r\n        var updatedCssClassesValue = this.cssClass;\r\n        var isBindClearAction = this.enableMask ? false : true;\r\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\r\n            updatedCssClassesValue = (this.cssClass.replace(/\\s+/g, ' ')).trim();\r\n        }\r\n        this.inputWrapper = Input.createInput({\r\n            element: this.inputElement,\r\n            bindClearAction: isBindClearAction,\r\n            floatLabelType: this.floatLabelType,\r\n            properties: {\r\n                readonly: this.readonly,\r\n                placeholder: this.placeholder,\r\n                cssClass: updatedCssClassesValue,\r\n                enabled: this.enabled,\r\n                enableRtl: this.enableRtl,\r\n                showClearButton: this.showClearButton\r\n            },\r\n            buttons: [' e-input-group-icon e-time-icon e-icons']\r\n        }, this.createElement);\r\n        this.inputWrapper.container.style.width = this.setWidth(this.width);\r\n        attributes(this.inputElement, {\r\n            'aria-haspopup': 'true', 'aria-autocomplete': 'list', 'tabindex': '0', 'aria-activedescendant': 'null',\r\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\r\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false', 'aria-disabled': 'false', 'aria-invalid': 'false'\r\n        });\r\n        if (!this.isNullOrEmpty(this.inputStyle)) {\r\n            Input.addAttributes({ 'style': this.inputStyle }, this.inputElement);\r\n        }\r\n        addClass([this.inputWrapper.container], WRAPPERCLASS);\r\n    };\r\n    TimePicker.prototype.getCldrDateTimeFormat = function () {\r\n        var culture = new Internationalization(this.locale);\r\n        var cldrTime;\r\n        var dateFormat = culture.getDatePattern({ skeleton: 'yMd' });\r\n        if (this.isNullOrEmpty(this.formatString)) {\r\n            cldrTime = dateFormat + ' ' + this.cldrFormat('time');\r\n        }\r\n        else {\r\n            cldrTime = this.formatString;\r\n        }\r\n        return cldrTime;\r\n    };\r\n    TimePicker.prototype.checkInvalidValue = function (value) {\r\n        var isInvalid = false;\r\n        if (typeof value !== 'object' && !isNullOrUndefined(value)) {\r\n            var valueString = value;\r\n            if (typeof valueString === 'string') {\r\n                valueString = valueString.trim();\r\n            }\r\n            var valueExpression = null;\r\n            var valueExp = null;\r\n            if (typeof value === 'number') {\r\n                valueString = value.toString();\r\n            }\r\n            else if (typeof value === 'string') {\r\n                if (!(/^[a-zA-Z0-9- ]*$/).test(value)) {\r\n                    valueExpression = this.setCurrentDate(this.getDateObject(value));\r\n                    if (isNullOrUndefined(valueExpression)) {\r\n                        valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\r\n                            format: this.getCldrDateTimeFormat(), type: 'datetime'\r\n                        }));\r\n                        if (isNullOrUndefined(valueExpression)) {\r\n                            valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\r\n                                format: this.formatString, type: 'dateTime', skeleton: 'yMd'\r\n                            }));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            valueExp = this.globalize.parseDate(valueString, {\r\n                format: this.getCldrDateTimeFormat(), type: 'datetime'\r\n            });\r\n            valueExpression = (!isNullOrUndefined(valueExp) && valueExp instanceof Date && !isNaN(+valueExp)) ? valueExp : null;\r\n            if (isNullOrUndefined(valueExpression) && valueString.replace(/\\s/g, '').length) {\r\n                var extISOString = null;\r\n                var basicISOString = null;\r\n                // eslint-disable-next-line\r\n                extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\r\n                // eslint-disable-next-line\r\n                basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\r\n                if ((!extISOString.test(valueString) && !basicISOString.test(valueString))\r\n                    || ((/^[a-zA-Z0-9- ]*$/).test(value)) || isNaN(+new Date('' + valueString))) {\r\n                    isInvalid = true;\r\n                }\r\n                else {\r\n                    valueExpression = new Date('' + valueString);\r\n                }\r\n            }\r\n            if (isInvalid) {\r\n                if (!this.strictMode) {\r\n                    this.invalidValueString = valueString;\r\n                }\r\n                this.setProperties({ value: null }, true);\r\n                this.initValue = null;\r\n            }\r\n            else {\r\n                this.setProperties({ value: valueExpression }, true);\r\n                this.initValue = this.value;\r\n            }\r\n        }\r\n    };\r\n    TimePicker.prototype.requiredModules = function () {\r\n        var modules = [];\r\n        if (this.enableMask) {\r\n            modules.push({ args: [this], member: 'MaskedDateTime' });\r\n        }\r\n        return modules;\r\n    };\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    TimePicker.prototype.cldrFormat = function (type) {\r\n        var cldrDateTimeString;\r\n        if (this.locale === 'en' || this.locale === 'en-US') {\r\n            cldrDateTimeString = (getValue('timeFormats.short', getDefaultDateObject()));\r\n        }\r\n        else {\r\n            cldrDateTimeString = (this.getCultureTimeObject(cldrData, '' + this.locale));\r\n        }\r\n        return cldrDateTimeString;\r\n    };\r\n    // destroy function\r\n    TimePicker.prototype.destroy = function () {\r\n        this.hide();\r\n        this.unBindEvents();\r\n        var ariaAttribute = {\r\n            'aria-haspopup': 'true', 'aria-autocomplete': 'list', 'tabindex': '0', 'aria-activedescendant': 'null',\r\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\r\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false', 'aria-disabled': 'true', 'aria-invalid': 'false'\r\n        };\r\n        if (this.inputElement) {\r\n            Input.removeAttributes(ariaAttribute, this.inputElement);\r\n            if (this.angularTag === null) {\r\n                this.inputWrapper.container.parentElement.appendChild(this.inputElement);\r\n            }\r\n            if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\r\n                this.inputElement.setAttribute('tabindex', this.tabIndex);\r\n            }\r\n            else {\r\n                this.inputElement.removeAttribute('tabindex');\r\n            }\r\n            this.ensureInputAttribute();\r\n            this.enableElement([this.inputElement]);\r\n            this.inputElement.classList.remove('e-input');\r\n            if (isNullOrUndefined(this.cloneElement.getAttribute('disabled'))) {\r\n                Input.setEnabled(true, this.inputElement, this.floatLabelType);\r\n            }\r\n        }\r\n        if (this.inputWrapper.container) {\r\n            detach(this.inputWrapper.container);\r\n        }\r\n        this.inputWrapper = this.popupWrapper = this.cloneElement = undefined;\r\n        this.liCollections = this.timeCollections = this.disableItemCollection = [];\r\n        if (!isNullOrUndefined(this.rippleFn)) {\r\n            this.rippleFn();\r\n        }\r\n        _super.prototype.destroy.call(this);\r\n        if (this.formElement) {\r\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\r\n        }\r\n    };\r\n    TimePicker.prototype.ensureInputAttribute = function () {\r\n        var propertyList = [];\r\n        for (var i = 0; i < this.inputElement.attributes.length; i++) {\r\n            propertyList[i] = this.inputElement.attributes[i].name;\r\n        }\r\n        for (var i = 0; i < propertyList.length; i++) {\r\n            if (!isNullOrUndefined(this.cloneElement.getAttribute(propertyList[i]))) {\r\n                this.inputElement.setAttribute(propertyList[i], this.cloneElement.getAttribute(propertyList[i]));\r\n                if (propertyList[i].toLowerCase() === 'value') {\r\n                    this.inputElement.value = this.cloneElement.getAttribute(propertyList[i]);\r\n                }\r\n            }\r\n            else {\r\n                this.inputElement.removeAttribute(propertyList[i]);\r\n                if (propertyList[i].toLowerCase() === 'value') {\r\n                    this.inputElement.value = '';\r\n                }\r\n            }\r\n        }\r\n    };\r\n    //popup creation\r\n    TimePicker.prototype.popupCreation = function () {\r\n        this.popupWrapper = this.createElement('div', {\r\n            className: ROOT + ' ' + POPUP,\r\n            attrs: { 'id': this.element.id + '_popup', 'style': 'visibility:hidden' }\r\n        });\r\n        if (!isNullOrUndefined(this.cssClass)) {\r\n            this.popupWrapper.className += ' ' + this.cssClass;\r\n        }\r\n        if (!isNullOrUndefined(this.step) && this.step > 0) {\r\n            this.generateList();\r\n            append([this.listWrapper], this.popupWrapper);\r\n        }\r\n        this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper);\r\n        this.addSelection();\r\n        this.renderPopup();\r\n        detach(this.popupWrapper);\r\n    };\r\n    TimePicker.prototype.getPopupHeight = function () {\r\n        var height = parseInt(POPUPDIMENSION, 10);\r\n        var popupHeight = this.popupWrapper.getBoundingClientRect().height;\r\n        return popupHeight > height ? height : popupHeight;\r\n    };\r\n    TimePicker.prototype.generateList = function () {\r\n        this.createListItems();\r\n        this.wireListEvents();\r\n        var rippleModel = { duration: 300, selector: '.' + LISTCLASS };\r\n        this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\r\n        this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS);\r\n    };\r\n    TimePicker.prototype.renderPopup = function () {\r\n        var _this = this;\r\n        this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\r\n        this.popupObj = new Popup(this.popupWrapper, {\r\n            width: this.setPopupWidth(this.width),\r\n            zIndex: this.zIndex,\r\n            targetType: 'relative',\r\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\r\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\r\n            enableRtl: this.enableRtl,\r\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\r\n            offsetY: OFFSETVAL,\r\n            open: function () {\r\n                _this.popupWrapper.style.visibility = 'visible';\r\n                addClass([_this.inputWrapper.buttons[0]], SELECTED);\r\n            }, close: function () {\r\n                removeClass([_this.inputWrapper.buttons[0]], SELECTED);\r\n                _this.unWireListEvents();\r\n                _this.inputElement.setAttribute('aria-activedescendant', 'null');\r\n                remove(_this.popupObj.element);\r\n                _this.popupObj.destroy();\r\n                _this.popupWrapper.innerHTML = '';\r\n                _this.listWrapper = _this.popupWrapper = _this.listTag = undefined;\r\n            }, targetExitViewport: function () {\r\n                if (!Browser.isDevice) {\r\n                    _this.hide();\r\n                }\r\n            }\r\n        });\r\n        if (!Browser.isDevice) {\r\n            this.popupObj.collision = { X: 'none', Y: 'flip' };\r\n        }\r\n        this.popupObj.element.style.maxHeight = POPUPDIMENSION;\r\n    };\r\n    //util function\r\n    TimePicker.prototype.getFormattedValue = function (value) {\r\n        if (isNullOrUndefined(this.checkDateValue(value))) {\r\n            return null;\r\n        }\r\n        else {\r\n            return this.globalize.formatDate(value, { skeleton: 'medium', type: 'time' });\r\n        }\r\n    };\r\n    TimePicker.prototype.getDateObject = function (text) {\r\n        if (!this.isNullOrEmpty(text)) {\r\n            var dateValue = this.createDateObj(text);\r\n            var value = !this.isNullOrEmpty(this.initValue);\r\n            if (this.checkDateValue(dateValue)) {\r\n                var date = value ? this.initValue.getDate() : DAY;\r\n                var month = value ? this.initValue.getMonth() : MONTH;\r\n                var year = value ? this.initValue.getFullYear() : YEAR;\r\n                return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds());\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    TimePicker.prototype.updateHtmlAttributeToWrapper = function () {\r\n        if (!isNullOrUndefined(this.htmlAttributes)) {\r\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\r\n                var key = _a[_i];\r\n                if (wrapperAttributes.indexOf(key) > -1) {\r\n                    if (key === 'class') {\r\n                        var updatedClassesValue = (this.htmlAttributes[key].replace(/\\s+/g, ' ')).trim();\r\n                        if (updatedClassesValue !== '') {\r\n                            addClass([this.inputWrapper.container], updatedClassesValue.split(' '));\r\n                        }\r\n                    }\r\n                    else if (key === 'style') {\r\n                        var timeStyle = this.inputWrapper.container.getAttribute(key);\r\n                        timeStyle = !isNullOrUndefined(timeStyle) ? (timeStyle + this.htmlAttributes[key]) :\r\n                            this.htmlAttributes[key];\r\n                        this.inputWrapper.container.setAttribute(key, timeStyle);\r\n                    }\r\n                    else {\r\n                        this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TimePicker.prototype.updateHtmlAttributeToElement = function () {\r\n        if (!isNullOrUndefined(this.htmlAttributes)) {\r\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\r\n                var key = _a[_i];\r\n                if (wrapperAttributes.indexOf(key) < 0) {\r\n                    this.inputElement.setAttribute(key, this.htmlAttributes[key]);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TimePicker.prototype.updateCssClass = function (cssClassNew, cssClassOld) {\r\n        if (!isNullOrUndefined(cssClassOld)) {\r\n            cssClassOld = (cssClassOld.replace(/\\s+/g, ' ')).trim();\r\n        }\r\n        if (!isNullOrUndefined(cssClassNew)) {\r\n            cssClassNew = (cssClassNew.replace(/\\s+/g, ' ')).trim();\r\n        }\r\n        Input.setCssClass(cssClassNew, [this.inputWrapper.container], cssClassOld);\r\n        if (this.popupWrapper) {\r\n            Input.setCssClass(cssClassNew, [this.popupWrapper], cssClassOld);\r\n        }\r\n    };\r\n    TimePicker.prototype.removeErrorClass = function () {\r\n        removeClass([this.inputWrapper.container], ERROR);\r\n        attributes(this.inputElement, { 'aria-invalid': 'false' });\r\n    };\r\n    TimePicker.prototype.checkErrorState = function (val) {\r\n        var value = this.getDateObject(val);\r\n        if ((this.validateState(value) && !this.invalidValueString) || (this.enableMask && this.inputElement.value === this.maskedDateValue)) {\r\n            this.removeErrorClass();\r\n        }\r\n        else {\r\n            addClass([this.inputWrapper.container], ERROR);\r\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\r\n        }\r\n    };\r\n    TimePicker.prototype.validateInterval = function () {\r\n        if (!isNullOrUndefined(this.step) && this.step > 0) {\r\n            this.enableElement([this.inputWrapper.buttons[0]]);\r\n        }\r\n        else {\r\n            this.disableTimeIcon();\r\n        }\r\n    };\r\n    TimePicker.prototype.disableTimeIcon = function () {\r\n        this.disableElement([this.inputWrapper.buttons[0]]);\r\n        this.hide();\r\n    };\r\n    TimePicker.prototype.disableElement = function (element) {\r\n        addClass(element, DISABLED);\r\n    };\r\n    TimePicker.prototype.enableElement = function (element) {\r\n        removeClass(element, DISABLED);\r\n    };\r\n    TimePicker.prototype.selectInputText = function () {\r\n        this.inputElement.setSelectionRange(0, (this.inputElement).value.length);\r\n    };\r\n    TimePicker.prototype.setCursorToEnd = function () {\r\n        this.inputElement.setSelectionRange((this.inputElement).value.length, (this.inputElement).value.length);\r\n    };\r\n    TimePicker.prototype.getMeridianText = function () {\r\n        var meridian;\r\n        if (this.locale === 'en' || this.locale === 'en-US') {\r\n            meridian = getValue('dayPeriods.format.wide', getDefaultDateObject());\r\n        }\r\n        else {\r\n            var gregorianFormat = '.dates.calendars.gregorian.dayPeriods.format.abbreviated';\r\n            var mainVal = 'main.';\r\n            meridian = getValue(mainVal + '' + this.locale + gregorianFormat, cldrData);\r\n        }\r\n        return meridian;\r\n    };\r\n    TimePicker.prototype.getCursorSelection = function () {\r\n        var input = (this.inputElement);\r\n        var start = 0;\r\n        var end = 0;\r\n        if (!isNaN(input.selectionStart)) {\r\n            start = input.selectionStart;\r\n            end = input.selectionEnd;\r\n        }\r\n        return { start: Math.abs(start), end: Math.abs(end) };\r\n    };\r\n    TimePicker.prototype.getActiveElement = function () {\r\n        if (!isNullOrUndefined(this.popupWrapper)) {\r\n            return this.popupWrapper.querySelectorAll('.' + SELECTED);\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    TimePicker.prototype.isNullOrEmpty = function (value) {\r\n        if (isNullOrUndefined(value) || (typeof value === 'string' && value.trim() === '')) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    TimePicker.prototype.setWidth = function (width) {\r\n        if (typeof width === 'number') {\r\n            width = formatUnit(width);\r\n        }\r\n        else if (typeof width === 'string') {\r\n            width = (width.match(/px|%|em/)) ? width : formatUnit(width);\r\n        }\r\n        else {\r\n            width = '100%';\r\n        }\r\n        return width;\r\n    };\r\n    TimePicker.prototype.setPopupWidth = function (width) {\r\n        width = this.setWidth(width);\r\n        if (width.indexOf('%') > -1) {\r\n            var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\r\n            width = inputWidth.toString() + 'px';\r\n        }\r\n        return width;\r\n    };\r\n    TimePicker.prototype.setScrollPosition = function () {\r\n        var element = this.selectedElement;\r\n        if (!isNullOrUndefined(element)) {\r\n            this.findScrollTop(element);\r\n        }\r\n        else if (this.popupWrapper && this.checkDateValue(this.scrollTo)) {\r\n            this.setScrollTo();\r\n        }\r\n    };\r\n    TimePicker.prototype.findScrollTop = function (element) {\r\n        var listHeight = this.getPopupHeight();\r\n        var nextEle = element.nextElementSibling;\r\n        var height = nextEle ? nextEle.offsetTop : element.offsetTop;\r\n        var liHeight = element.getBoundingClientRect().height;\r\n        if ((height + element.offsetTop) > listHeight) {\r\n            this.popupWrapper.scrollTop = nextEle ? (height - (listHeight / HALFPOSITION + liHeight / HALFPOSITION)) : height;\r\n        }\r\n        else {\r\n            this.popupWrapper.scrollTop = 0;\r\n        }\r\n    };\r\n    TimePicker.prototype.setScrollTo = function () {\r\n        var element;\r\n        if (!isNullOrUndefined(this.popupWrapper)) {\r\n            var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS);\r\n            if (items.length) {\r\n                var initialTime = this.timeCollections[0];\r\n                var scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\r\n                element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\r\n            }\r\n        }\r\n        else {\r\n            this.popupWrapper.scrollTop = 0;\r\n        }\r\n        if (!isNullOrUndefined(element)) {\r\n            this.findScrollTop(element);\r\n        }\r\n        else {\r\n            this.popupWrapper.scrollTop = 0;\r\n        }\r\n    };\r\n    TimePicker.prototype.getText = function () {\r\n        return (isNullOrUndefined(this.checkDateValue(this.value))) ? '' : this.getValue(this.value);\r\n    };\r\n    TimePicker.prototype.getValue = function (value) {\r\n        return (isNullOrUndefined(this.checkDateValue(value))) ? null : this.globalize.formatDate(value, {\r\n            format: this.cldrTimeFormat(), type: 'time'\r\n        });\r\n    };\r\n    TimePicker.prototype.cldrDateFormat = function () {\r\n        var cldrDate;\r\n        if (this.locale === 'en' || this.locale === 'en-US') {\r\n            cldrDate = (getValue('dateFormats.short', getDefaultDateObject()));\r\n        }\r\n        else {\r\n            cldrDate = (this.getCultureDateObject(cldrData, '' + this.locale));\r\n        }\r\n        return cldrDate;\r\n    };\r\n    TimePicker.prototype.cldrTimeFormat = function () {\r\n        var cldrTime;\r\n        if (this.isNullOrEmpty(this.formatString)) {\r\n            if (this.locale === 'en' || this.locale === 'en-US') {\r\n                cldrTime = (getValue('timeFormats.short', getDefaultDateObject()));\r\n            }\r\n            else {\r\n                cldrTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\r\n            }\r\n        }\r\n        else {\r\n            cldrTime = this.formatString;\r\n        }\r\n        return cldrTime;\r\n    };\r\n    TimePicker.prototype.dateToNumeric = function () {\r\n        var cldrTime;\r\n        if (this.locale === 'en' || this.locale === 'en-US') {\r\n            cldrTime = (getValue('timeFormats.medium', getDefaultDateObject()));\r\n        }\r\n        else {\r\n            cldrTime = (getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.medium', cldrData));\r\n        }\r\n        return cldrTime;\r\n    };\r\n    TimePicker.prototype.getExactDateTime = function (value) {\r\n        if (isNullOrUndefined(this.checkDateValue(value))) {\r\n            return null;\r\n        }\r\n        else {\r\n            return this.globalize.formatDate(value, { format: this.dateToNumeric(), type: 'time' });\r\n        }\r\n    };\r\n    TimePicker.prototype.setValue = function (value) {\r\n        var time = this.checkValue(value);\r\n        if (!this.strictMode && !this.validateState(time)) {\r\n            if (this.checkDateValue(this.valueWithMinutes) === null) {\r\n                this.initValue = this.valueWithMinutes = null;\r\n            }\r\n            this.validateMinMax(this.value, this.min, this.max);\r\n        }\r\n        else {\r\n            if (this.isNullOrEmpty(time)) {\r\n                this.initValue = null;\r\n                this.validateMinMax(this.value, this.min, this.max);\r\n            }\r\n            else {\r\n                this.initValue = this.compareFormatChange(time);\r\n            }\r\n        }\r\n        this.updateInput(true, this.initValue);\r\n    };\r\n    TimePicker.prototype.compareFormatChange = function (value) {\r\n        if (isNullOrUndefined(value)) {\r\n            return null;\r\n        }\r\n        return (value !== this.getText()) ? this.getDateObject(value) : this.getDateObject(this.value);\r\n    };\r\n    TimePicker.prototype.updatePlaceHolder = function () {\r\n        Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\r\n    };\r\n    //event related functions\r\n    TimePicker.prototype.updateInputValue = function (value) {\r\n        Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\r\n    };\r\n    TimePicker.prototype.preventEventBubbling = function (e) {\r\n        e.preventDefault();\r\n        this.interopAdaptor.invokeMethodAsync('OnTimeIconClick');\r\n    };\r\n    TimePicker.prototype.popupHandler = function (e) {\r\n        if (!this.enabled) {\r\n            return;\r\n        }\r\n        if (Browser.isDevice) {\r\n            this.inputElement.setAttribute('readonly', '');\r\n        }\r\n        e.preventDefault();\r\n        if (this.isPopupOpen()) {\r\n            this.closePopup(0, e);\r\n        }\r\n        else {\r\n            this.inputElement.focus();\r\n            this.show(e);\r\n        }\r\n    };\r\n    TimePicker.prototype.mouseDownHandler = function () {\r\n        if (!this.enabled) {\r\n            return;\r\n        }\r\n        if (!this.readonly) {\r\n            this.inputElement.setSelectionRange(0, 0);\r\n            EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\r\n        }\r\n    };\r\n    TimePicker.prototype.mouseUpHandler = function (event) {\r\n        if (!this.readonly) {\r\n            event.preventDefault();\r\n            if (this.enableMask) {\r\n                event.preventDefault();\r\n                this.notify(\"setMaskSelection\", {\r\n                    module: \"MaskedDateTime\"\r\n                });\r\n                return;\r\n            }\r\n            else {\r\n                EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\r\n                var curPos = this.getCursorSelection();\r\n                if (!(curPos.start === 0 && curPos.end === this.inputElement.value.length)) {\r\n                    if (this.inputElement.value.length > 0) {\r\n                        this.cursorDetails = this.focusSelection();\r\n                    }\r\n                    this.inputElement.setSelectionRange(this.cursorDetails.start, this.cursorDetails.end);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TimePicker.prototype.focusSelection = function () {\r\n        var regex = new RegExp('^[a-zA-Z0-9]+$');\r\n        var split = this.inputElement.value.split('');\r\n        split.push(' ');\r\n        var curPos = this.getCursorSelection();\r\n        var start = 0;\r\n        var end = 0;\r\n        var isSeparator = false;\r\n        if (!this.isTextSelected) {\r\n            for (var i = 0; i < split.length; i++) {\r\n                if (!regex.test(split[i])) {\r\n                    end = i;\r\n                    isSeparator = true;\r\n                }\r\n                if (isSeparator) {\r\n                    if (curPos.start >= start && curPos.end <= end) {\r\n                        // eslint-disable-next-line no-self-assign\r\n                        end = end;\r\n                        this.isTextSelected = true;\r\n                        break;\r\n                    }\r\n                    else {\r\n                        start = i + 1;\r\n                        isSeparator = false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            start = curPos.start;\r\n            end = curPos.end;\r\n            this.isTextSelected = false;\r\n        }\r\n        return { start: start, end: end };\r\n    };\r\n    TimePicker.prototype.inputHandler = function (event) {\r\n        if (!this.readonly && this.enabled) {\r\n            if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\r\n                event.preventDefault();\r\n            }\r\n            switch (event.action) {\r\n                case 'home':\r\n                case 'end':\r\n                case 'up':\r\n                case 'down':\r\n                    if (this.enableMask && !this.readonly && !this.isPopupOpen()) {\r\n                        event.preventDefault();\r\n                        this.notify(\"keyDownHandler\", {\r\n                            module: \"MaskedDateTime\",\r\n                            e: event\r\n                        });\r\n                    }\r\n                    if (!this.enableMask || this.isPopupOpen()) {\r\n                        this.keyHandler(event);\r\n                    }\r\n                    break;\r\n                case 'enter':\r\n                    if (this.isNavigate) {\r\n                        this.selectedElement = this.liCollections[this.activeIndex];\r\n                        this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\r\n                        this.updateValue(this.valueWithMinutes, event);\r\n                    }\r\n                    else {\r\n                        this.updateValue(this.inputElement.value, event);\r\n                    }\r\n                    this.hide();\r\n                    this.isNavigate = false;\r\n                    if (this.isPopupOpen()) {\r\n                        event.stopPropagation();\r\n                    }\r\n                    break;\r\n                case 'open':\r\n                    this.show(event);\r\n                    break;\r\n                case 'escape':\r\n                    this.updateInputValue(this.objToString(this.value));\r\n                    if (this.enableMask) {\r\n                        if (!this.value) {\r\n                            this.updateInputValue(this.maskedDateValue);\r\n                        }\r\n                        this.createMask();\r\n                    }\r\n                    this.previousState(this.value);\r\n                    this.hide();\r\n                    break;\r\n                case 'close':\r\n                    this.hide();\r\n                    break;\r\n                case 'right':\r\n                case 'left':\r\n                case 'tab':\r\n                case 'shiftTab':\r\n                    if (!this.isPopupOpen() && this.enableMask && !this.readonly) {\r\n                        if ((this.inputElement.selectionStart == 0 && this.inputElement.selectionEnd == this.inputElement.value.length) ||\r\n                            (this.inputElement.selectionEnd !== this.inputElement.value.length && event.action == 'tab') ||\r\n                            (this.inputElement.selectionStart !== 0 && event.action == 'shiftTab') || (event.action == 'left' || event.action == 'right')) {\r\n                            event.preventDefault();\r\n                        }\r\n                        this.notify(\"keyDownHandler\", { module: \"MaskedDateTime\",\r\n                            e: event\r\n                        });\r\n                    }\r\n                    break;\r\n                default:\r\n                    this.isNavigate = false;\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    TimePicker.prototype.onMouseClick = function (event) {\r\n        var target = event.target;\r\n        var li = this.selectedElement = closest(target, '.' + LISTCLASS);\r\n        this.setSelection(li, event);\r\n        if (li && li.classList.contains(LISTCLASS)) {\r\n            this.hide();\r\n        }\r\n    };\r\n    TimePicker.prototype.closePopup = function (delay, e) {\r\n        var _this = this;\r\n        if (this.isPopupOpen() && this.popupWrapper) {\r\n            var args = {\r\n                popup: this.popupObj,\r\n                event: e || null,\r\n                cancel: false,\r\n                name: 'open'\r\n            };\r\n            removeClass([document.body], OVERFLOW);\r\n            this.trigger('close', args, function (args) {\r\n                if (!args.cancel) {\r\n                    var animModel = {\r\n                        name: 'FadeOut',\r\n                        duration: ANIMATIONDURATION,\r\n                        delay: delay ? delay : 0\r\n                    };\r\n                    _this.popupObj.hide(new Animation(animModel));\r\n                    removeClass([_this.inputWrapper.container], [ICONANIMATION]);\r\n                    attributes(_this.inputElement, { 'aria-expanded': 'false' });\r\n                    EventHandler.remove(document, 'mousedown touchstart', _this.documentClickHandler);\r\n                }\r\n                if (Browser.isDevice && _this.modal) {\r\n                    _this.modal.style.display = 'none';\r\n                    _this.modal.outerHTML = '';\r\n                    _this.modal = null;\r\n                }\r\n                if (Browser.isDevice) {\r\n                    if (!isNullOrUndefined(_this.mobileTimePopupWrap)) {\r\n                        _this.mobileTimePopupWrap.remove();\r\n                        _this.mobileTimePopupWrap = null;\r\n                    }\r\n                }\r\n                if (Browser.isDevice && _this.allowEdit && !_this.readonly) {\r\n                    _this.inputElement.removeAttribute('readonly');\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\r\n                this.inputElement.removeAttribute('readonly');\r\n            }\r\n        }\r\n    };\r\n    TimePicker.prototype.disposeServerPopup = function () {\r\n        if (this.popupWrapper) {\r\n            this.popupWrapper.style.visibility = 'hidden';\r\n            this.popupWrapper.style.top = '-9999px';\r\n            this.popupWrapper.style.left = '-9999px';\r\n            this.popupWrapper.style.width = '0px';\r\n            this.popupWrapper.style.height = '0px';\r\n        }\r\n    };\r\n    TimePicker.prototype.checkValueChange = function (event, isNavigation) {\r\n        if (!this.strictMode && !this.validateState(this.valueWithMinutes)) {\r\n            if (this.checkDateValue(this.valueWithMinutes) === null) {\r\n                this.initValue = this.valueWithMinutes = null;\r\n            }\r\n            this.setProperties({ value: this.compareFormatChange(this.inputElement.value) }, true);\r\n            this.initValue = this.valueWithMinutes = this.compareFormatChange(this.inputElement.value);\r\n            this.prevValue = this.inputElement.value;\r\n            if (+this.prevDate !== +this.value) {\r\n                this.changeEvent(event);\r\n            }\r\n        }\r\n        else {\r\n            if (!isNavigation) {\r\n                if ((this.prevValue !== this.inputElement.value) || isNullOrUndefined(this.checkDateValue(this.value))) {\r\n                    this.valueProcess(event, this.compareFormatChange(this.inputElement.value));\r\n                }\r\n            }\r\n            else {\r\n                var value = this.getDateObject(new Date(this.timeCollections[this.activeIndex]));\r\n                if (+this.prevDate !== +value) {\r\n                    this.valueProcess(event, value);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TimePicker.prototype.onMouseOver = function (event) {\r\n        var currentLi = closest(event.target, '.' + LISTCLASS);\r\n        this.setHover(currentLi, HOVER);\r\n    };\r\n    TimePicker.prototype.setHover = function (li, className) {\r\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\r\n            this.removeHover(className);\r\n            addClass([li], className);\r\n            if (className === NAVIGATION) {\r\n                li.setAttribute('aria-selected', 'true');\r\n            }\r\n        }\r\n    };\r\n    TimePicker.prototype.setSelection = function (li, event) {\r\n        if (this.isValidLI(li)) {\r\n            this.checkValue(li.getAttribute('data-value'));\r\n            if (this.enableMask) {\r\n                this.notify(\"setMaskSelection\", {\r\n                    module: \"MaskedDateTime\"\r\n                });\r\n            }\r\n            this.selectedElement = li;\r\n            this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\r\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\r\n            addClass([this.selectedElement], SELECTED);\r\n            this.selectedElement.setAttribute('aria-selected', 'true');\r\n            this.checkValueChange(event, true);\r\n        }\r\n    };\r\n    TimePicker.prototype.onMouseLeave = function () {\r\n        this.removeHover(HOVER);\r\n    };\r\n    TimePicker.prototype.scrollHandler = function () {\r\n        if (this.getModuleName() === 'timepicker' && Browser.isDevice) {\r\n            return;\r\n        }\r\n        else {\r\n            this.hide();\r\n        }\r\n    };\r\n    TimePicker.prototype.setMinMax = function (minVal, maxVal) {\r\n        if (isNullOrUndefined(this.checkDateValue(minVal))) {\r\n            this.initMin = this.getDateObject('12:00:00 AM');\r\n        }\r\n        if (isNullOrUndefined(this.checkDateValue(maxVal))) {\r\n            this.initMax = this.getDateObject('11:59:59 PM');\r\n        }\r\n    };\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    TimePicker.prototype.validateMinMax = function (dateVal, minVal, maxVal) {\r\n        var value = dateVal instanceof Date ? dateVal : this.getDateObject(dateVal);\r\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\r\n            dateVal = this.strictOperation(this.initMin, this.initMax, dateVal, value);\r\n        }\r\n        else if (+(this.createDateObj(this.getFormattedValue(this.initMin))) >\r\n            +(this.createDateObj(this.getFormattedValue(this.initMax)))) {\r\n            this.disableTimeIcon();\r\n        }\r\n        if (this.strictMode) {\r\n            dateVal = this.valueIsDisable(dateVal) ? dateVal : null;\r\n        }\r\n        this.checkErrorState(dateVal);\r\n        return dateVal;\r\n    };\r\n    TimePicker.prototype.valueIsDisable = function (value) {\r\n        if (this.disableItemCollection.length > 0) {\r\n            if (this.disableItemCollection.length === this.timeCollections.length) {\r\n                return false;\r\n            }\r\n            var time = value instanceof Date ? this.objToString(value) : value;\r\n            for (var index = 0; index < this.disableItemCollection.length; index++) {\r\n                if (time === this.disableItemCollection[index]) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    TimePicker.prototype.validateState = function (val) {\r\n        if (!this.strictMode) {\r\n            if (this.valueIsDisable(val)) {\r\n                var value = typeof val === 'string' ? this.setCurrentDate(this.getDateObject(val)) :\r\n                    this.setCurrentDate(this.getDateObject(val));\r\n                var maxValue = this.setCurrentDate(this.getDateObject(this.initMax));\r\n                var minValue = this.setCurrentDate(this.getDateObject(this.initMin));\r\n                if (!isNullOrUndefined(this.checkDateValue(value))) {\r\n                    if ((+(value) > +(maxValue)) || (+(value) < +(minValue))) {\r\n                        return false;\r\n                    }\r\n                }\r\n                else {\r\n                    if ((+(maxValue) < +(minValue)) || this.inputElement.value !== '') {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    TimePicker.prototype.strictOperation = function (minimum, maximum, dateVal, val) {\r\n        var maxValue = this.createDateObj(this.getFormattedValue(maximum));\r\n        var minValue = this.createDateObj(this.getFormattedValue(minimum));\r\n        var value = this.createDateObj(this.getFormattedValue(val));\r\n        if (this.strictMode) {\r\n            if (+minValue > +maxValue) {\r\n                this.disableTimeIcon();\r\n                this.initValue = this.getDateObject(maxValue);\r\n                this.updateInputValue(this.getValue(this.initValue));\r\n                if (this.enableMask) {\r\n                    this.createMask();\r\n                }\r\n                return this.inputElement.value;\r\n            }\r\n            else if (+minValue >= +value) {\r\n                return this.getDateObject(minValue);\r\n            }\r\n            else if (+value >= +maxValue || +minValue === +maxValue) {\r\n                return this.getDateObject(maxValue);\r\n            }\r\n        }\r\n        else {\r\n            if (+minValue > +maxValue) {\r\n                this.disableTimeIcon();\r\n                if (!isNaN(+this.createDateObj(dateVal))) {\r\n                    return dateVal;\r\n                }\r\n            }\r\n        }\r\n        return dateVal;\r\n    };\r\n    TimePicker.prototype.bindEvents = function () {\r\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.popupHandler, this);\r\n        EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\r\n        EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\r\n        EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\r\n        EventHandler.add(this.inputElement, 'input', this.inputEventHandler, this);\r\n        if (this.enableMask) {\r\n            EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\r\n        }\r\n        if (this.showClearButton && this.inputWrapper.clearButton) {\r\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\r\n        }\r\n        if (this.formElement) {\r\n            EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\r\n        }\r\n        if (!Browser.isDevice) {\r\n            this.keyConfigure = extend(this.keyConfigure, this.keyConfigs);\r\n            this.inputEvent = new KeyboardEvents(this.inputWrapper.container, {\r\n                keyAction: this.inputHandler.bind(this),\r\n                keyConfigs: this.keyConfigure,\r\n                eventName: 'keydown'\r\n            });\r\n            if (this.showClearButton && this.inputElement) {\r\n                EventHandler.add(this.inputElement, 'mousedown', this.mouseDownHandler, this);\r\n            }\r\n        }\r\n    };\r\n    TimePicker.prototype.keydownHandler = function (e) {\r\n        switch (e.code) {\r\n            case 'Delete':\r\n                if (this.enableMask && !this.popupObj && !this.readonly) {\r\n                    this.notify(\"keyDownHandler\", {\r\n                        module: \"MaskedDateTime\",\r\n                        e: e\r\n                    });\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n    TimePicker.prototype.formResetHandler = function () {\r\n        if (!this.enabled) {\r\n            return;\r\n        }\r\n        if (!this.inputElement.disabled) {\r\n            var timeValue = this.inputElement.getAttribute('value');\r\n            var val = this.checkDateValue(this.inputEleValue);\r\n            if (this.element.tagName === 'EJS-TIMEPICKER') {\r\n                val = null;\r\n                timeValue = '';\r\n                this.inputElement.setAttribute('value', '');\r\n            }\r\n            this.setProperties({ value: val }, true);\r\n            this.prevDate = this.value;\r\n            this.valueWithMinutes = this.value;\r\n            this.initValue = this.value;\r\n            if (this.inputElement) {\r\n                this.updateInputValue(timeValue);\r\n                if (this.enableMask) {\r\n                    if (!timeValue) {\r\n                        this.updateInputValue(this.maskedDateValue);\r\n                    }\r\n                    this.createMask();\r\n                }\r\n                this.checkErrorState(timeValue);\r\n                this.prevValue = this.inputElement.value;\r\n            }\r\n        }\r\n    };\r\n    TimePicker.prototype.inputChangeHandler = function (e) {\r\n        if (!this.enabled) {\r\n            return;\r\n        }\r\n        e.stopPropagation();\r\n    };\r\n    TimePicker.prototype.inputEventHandler = function () {\r\n        if (this.enableMask) {\r\n            this.notify(\"inputHandler\", {\r\n                module: \"MaskedDateTime\"\r\n            });\r\n        }\r\n    };\r\n    TimePicker.prototype.unBindEvents = function () {\r\n        if (this.inputWrapper) {\r\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.popupHandler);\r\n        }\r\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\r\n        EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\r\n        EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\r\n        EventHandler.remove(this.inputElement, 'input', this.inputEventHandler);\r\n        if (this.inputEvent) {\r\n            this.inputEvent.destroy();\r\n        }\r\n        EventHandler.remove(this.inputElement, 'mousedown touchstart', this.mouseDownHandler);\r\n        if (this.showClearButton && !isNullOrUndefined(this.inputWrapper.clearButton)) {\r\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.clearHandler);\r\n        }\r\n        if (this.formElement) {\r\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\r\n        }\r\n    };\r\n    TimePicker.prototype.bindClearEvent = function () {\r\n        if (this.showClearButton && this.inputWrapper.clearButton) {\r\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\r\n        }\r\n    };\r\n    TimePicker.prototype.raiseClearedEvent = function (e) {\r\n        var clearedArgs = {\r\n            event: e\r\n        };\r\n        this.trigger('cleared', clearedArgs);\r\n    };\r\n    TimePicker.prototype.clearHandler = function (e) {\r\n        if (!this.enabled) {\r\n            return;\r\n        }\r\n        e.preventDefault();\r\n        if (!isNullOrUndefined(this.value)) {\r\n            this.clear(e);\r\n        }\r\n        else {\r\n            this.resetState();\r\n            this.raiseClearedEvent(e);\r\n        }\r\n        if (this.popupWrapper) {\r\n            this.popupWrapper.scrollTop = 0;\r\n        }\r\n        if (this.enableMask) {\r\n            this.notify(\"clearHandler\", {\r\n                module: \"MaskedDateTime\"\r\n            });\r\n        }\r\n    };\r\n    TimePicker.prototype.clear = function (event) {\r\n        this.setProperties({ value: null }, true);\r\n        this.initValue = null;\r\n        this.resetState();\r\n        this.raiseClearedEvent(event);\r\n        this.changeEvent(event);\r\n    };\r\n    TimePicker.prototype.setZIndex = function () {\r\n        if (this.popupObj) {\r\n            this.popupObj.zIndex = this.zIndex;\r\n            this.popupObj.dataBind();\r\n        }\r\n    };\r\n    TimePicker.prototype.checkAttributes = function (isDynamic) {\r\n        var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\r\n            ['step', 'disabled', 'readonly', 'style', 'name', 'value', 'min', 'max', 'placeholder'];\r\n        var value;\r\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\r\n            var prop = attributes_1[_i];\r\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\r\n                switch (prop) {\r\n                    case 'disabled':\r\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['enabled'] === undefined)) || isDynamic) {\r\n                            var enabled = this.inputElement.getAttribute(prop) === 'disabled' ||\r\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? false : true;\r\n                            this.setProperties({ enabled: enabled }, !isDynamic);\r\n                        }\r\n                        break;\r\n                    case 'style':\r\n                        this.inputStyle = this.inputElement.getAttribute(prop);\r\n                        break;\r\n                    case 'readonly':\r\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['readonly'] === undefined)) || isDynamic) {\r\n                            var readonly = this.inputElement.getAttribute(prop) === 'readonly' ||\r\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\r\n                            this.setProperties({ readonly: readonly }, !isDynamic);\r\n                        }\r\n                        break;\r\n                    case 'name':\r\n                        this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\r\n                        break;\r\n                    case 'step':\r\n                        this.step = parseInt(this.inputElement.getAttribute(prop), 10);\r\n                        break;\r\n                    case 'placeholder':\r\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['placeholder'] === undefined)) || isDynamic) {\r\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\r\n                        }\r\n                        break;\r\n                    case 'min':\r\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['min'] === undefined)) || isDynamic) {\r\n                            value = new Date(this.inputElement.getAttribute(prop));\r\n                            if (!isNullOrUndefined(this.checkDateValue(value))) {\r\n                                this.setProperties({ min: value }, !isDynamic);\r\n                            }\r\n                        }\r\n                        break;\r\n                    case 'max':\r\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['max'] === undefined)) || isDynamic) {\r\n                            value = new Date(this.inputElement.getAttribute(prop));\r\n                            if (!isNullOrUndefined(this.checkDateValue(value))) {\r\n                                this.setProperties({ max: value }, !isDynamic);\r\n                            }\r\n                        }\r\n                        break;\r\n                    case 'value':\r\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['value'] === undefined)) || isDynamic) {\r\n                            value = new Date(this.inputElement.getAttribute(prop));\r\n                            if (!isNullOrUndefined(this.checkDateValue(value))) {\r\n                                this.initValue = value;\r\n                                this.updateInput(false, this.initValue);\r\n                                this.setProperties({ value: value }, !isDynamic);\r\n                            }\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TimePicker.prototype.setCurrentDate = function (value) {\r\n        if (isNullOrUndefined(this.checkDateValue(value))) {\r\n            return null;\r\n        }\r\n        return new Date(YEAR, MONTH, DAY, value.getHours(), value.getMinutes(), value.getSeconds());\r\n    };\r\n    TimePicker.prototype.getTextFormat = function () {\r\n        var time = 0;\r\n        if (this.cldrTimeFormat().split(' ')[0] === 'a' || this.cldrTimeFormat().indexOf('a') === 0) {\r\n            time = 1;\r\n        }\r\n        else if (this.cldrTimeFormat().indexOf('a') < 0) {\r\n            var strArray = this.cldrTimeFormat().split(' ');\r\n            for (var i = 0; i < strArray.length; i++) {\r\n                if (strArray[i].toLowerCase().indexOf('h') >= 0) {\r\n                    time = i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return time;\r\n    };\r\n    TimePicker.prototype.updateValue = function (value, event) {\r\n        var val;\r\n        if (this.isNullOrEmpty(value)) {\r\n            this.resetState();\r\n        }\r\n        else {\r\n            val = this.checkValue(value);\r\n            if (this.strictMode) {\r\n                // this case set previous value to the text box when set invalid date\r\n                var inputVal = (val === null && value.trim().length > 0) ?\r\n                    this.previousState(this.prevDate) : this.inputElement.value;\r\n                this.updateInputValue(inputVal);\r\n                if (this.enableMask) {\r\n                    if (!inputVal) {\r\n                        this.updateInputValue(this.maskedDateValue);\r\n                    }\r\n                    if (isNullOrUndefined(val) && value != this.maskedDateValue) {\r\n                        this.createMask();\r\n                    }\r\n                    if (isNullOrUndefined(val) && value == this.maskedDateValue) {\r\n                        this.updateInputValue(this.maskedDateValue);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.checkValueChange(event, typeof value === 'string' ? false : true);\r\n    };\r\n    TimePicker.prototype.previousState = function (date) {\r\n        var value = this.getDateObject(date);\r\n        for (var i = 0; i < this.timeCollections.length; i++) {\r\n            if (+value === this.timeCollections[i]) {\r\n                this.activeIndex = i;\r\n                this.selectedElement = this.liCollections[i];\r\n                this.valueWithMinutes = new Date(this.timeCollections[i]);\r\n                break;\r\n            }\r\n        }\r\n        return this.prevValue;\r\n    };\r\n    TimePicker.prototype.resetState = function () {\r\n        this.removeSelection();\r\n        Input.setValue('', this.inputElement, this.floatLabelType, false);\r\n        this.valueWithMinutes = this.activeIndex = null;\r\n        if (!this.strictMode) {\r\n            this.checkErrorState(null);\r\n        }\r\n    };\r\n    TimePicker.prototype.objToString = function (val) {\r\n        if (isNullOrUndefined(this.checkDateValue(val))) {\r\n            return null;\r\n        }\r\n        else {\r\n            return this.globalize.formatDate(val, { format: this.cldrTimeFormat(), type: 'time' });\r\n        }\r\n    };\r\n    TimePicker.prototype.checkValue = function (value) {\r\n        if (!this.isNullOrEmpty(value)) {\r\n            var date = value instanceof Date ? value : this.getDateObject(value);\r\n            return this.validateValue(date, value);\r\n        }\r\n        this.resetState();\r\n        return this.valueWithMinutes = null;\r\n    };\r\n    TimePicker.prototype.validateValue = function (date, value) {\r\n        var time;\r\n        var val = this.validateMinMax(value, this.min, this.max);\r\n        var newval = this.createDateObj(val);\r\n        if (this.getFormattedValue(newval) !== this.getFormattedValue(this.value)) {\r\n            this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\r\n            time = this.objToString(this.valueWithMinutes);\r\n        }\r\n        else {\r\n            if (this.strictMode) {\r\n                //for strict mode case, when value not present within a range. Reset the nearest range value.\r\n                date = newval;\r\n            }\r\n            this.valueWithMinutes = this.checkDateValue(date);\r\n            time = this.objToString(this.valueWithMinutes);\r\n        }\r\n        if (!this.strictMode && isNullOrUndefined(time)) {\r\n            var value_1 = val.trim().length > 0 ? val : '';\r\n            this.updateInputValue(value_1);\r\n            if (this.enableMask) {\r\n                if (!value_1) {\r\n                    this.updateInputValue(this.maskedDateValue);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.updateInputValue(time);\r\n            if (this.enableMask) {\r\n                if (time == '') {\r\n                    this.updateInputValue(this.maskedDateValue);\r\n                }\r\n                if (isNullOrUndefined(time) && value != this.maskedDateValue) {\r\n                    this.createMask();\r\n                }\r\n                if (isNullOrUndefined(time) && value == this.maskedDateValue) {\r\n                    this.updateInputValue(this.maskedDateValue);\r\n                }\r\n            }\r\n        }\r\n        return time;\r\n    };\r\n    TimePicker.prototype.createMask = function () {\r\n        this.notify(\"createMask\", {\r\n            module: \"MaskedDateTime\",\r\n        });\r\n    };\r\n    TimePicker.prototype.findNextElement = function (event) {\r\n        var textVal = (this.inputElement).value;\r\n        var value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) :\r\n            this.getDateObject(this.valueWithMinutes);\r\n        var timeVal = null;\r\n        var count = this.liCollections.length;\r\n        var collections = this.timeCollections;\r\n        if (!isNullOrUndefined(this.checkDateValue(value)) || !isNullOrUndefined(this.activeIndex)) {\r\n            if (event.action === 'home') {\r\n                var index = this.validLiElement(0);\r\n                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\r\n                this.activeIndex = index;\r\n            }\r\n            else if (event.action === 'end') {\r\n                var index = this.validLiElement(collections.length - 1, true);\r\n                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\r\n                this.activeIndex = index;\r\n            }\r\n            else {\r\n                if (event.action === 'down') {\r\n                    for (var i = 0; i < count; i++) {\r\n                        if (+value < this.timeCollections[i]) {\r\n                            var index = this.validLiElement(i);\r\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\r\n                            this.activeIndex = index;\r\n                            break;\r\n                        }\r\n                        else if (i === count - 1) {\r\n                            var index = this.validLiElement(0);\r\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\r\n                            this.activeIndex = index;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    for (var i = count - 1; i >= 0; i--) {\r\n                        if (+value > this.timeCollections[i]) {\r\n                            var index = this.validLiElement(i, true);\r\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\r\n                            this.activeIndex = index;\r\n                            break;\r\n                        }\r\n                        else if (i === 0) {\r\n                            var index = this.validLiElement(count - 1);\r\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\r\n                            this.activeIndex = index;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.selectedElement = this.liCollections[this.activeIndex];\r\n            this.elementValue(isNullOrUndefined(timeVal) ? null : new Date(timeVal));\r\n        }\r\n        else {\r\n            this.selectNextItem(event);\r\n        }\r\n    };\r\n    TimePicker.prototype.selectNextItem = function (event) {\r\n        var index = this.validLiElement(0, event.action === 'down' ? false : true);\r\n        this.activeIndex = index;\r\n        this.selectedElement = this.liCollections[index];\r\n        this.elementValue(new Date(this.timeCollections[index]));\r\n    };\r\n    TimePicker.prototype.elementValue = function (value) {\r\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\r\n            this.checkValue(value);\r\n        }\r\n    };\r\n    TimePicker.prototype.validLiElement = function (index, backward) {\r\n        var elementIndex = null;\r\n        var items = isNullOrUndefined(this.popupWrapper) ? this.liCollections :\r\n            this.popupWrapper.querySelectorAll('.' + LISTCLASS);\r\n        var isCheck = true;\r\n        if (items.length) {\r\n            if (backward) {\r\n                for (var i = index; i >= 0; i--) {\r\n                    if (!items[i].classList.contains(DISABLED)) {\r\n                        elementIndex = i;\r\n                        break;\r\n                    }\r\n                    else if (i === 0) {\r\n                        if (isCheck) {\r\n                            index = i = items.length;\r\n                            isCheck = false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                for (var i = index; i <= items.length - 1; i++) {\r\n                    if (!items[i].classList.contains(DISABLED)) {\r\n                        elementIndex = i;\r\n                        break;\r\n                    }\r\n                    else if (i === items.length - 1) {\r\n                        if (isCheck) {\r\n                            index = i = -1;\r\n                            isCheck = false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return elementIndex;\r\n    };\r\n    TimePicker.prototype.keyHandler = function (event) {\r\n        if (isNullOrUndefined(this.step) || this.step <= 0 || this.inputWrapper.buttons[0].classList.contains(DISABLED)) {\r\n            return;\r\n        }\r\n        var count = this.timeCollections.length;\r\n        if (isNullOrUndefined(this.getActiveElement()) || this.getActiveElement().length === 0) {\r\n            if (this.liCollections.length > 0) {\r\n                if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\r\n                    var index = this.validLiElement(0, event.action === 'down' ? false : true);\r\n                    this.activeIndex = index;\r\n                    this.selectedElement = this.liCollections[index];\r\n                    this.elementValue(new Date(this.timeCollections[index]));\r\n                }\r\n                else {\r\n                    this.findNextElement(event);\r\n                }\r\n            }\r\n            else {\r\n                this.findNextElement(event);\r\n            }\r\n        }\r\n        else {\r\n            var nextItem = void 0;\r\n            if ((event.keyCode >= 37) && (event.keyCode <= 40)) {\r\n                var index = (event.keyCode === 40 || event.keyCode === 39) ? ++this.activeIndex : --this.activeIndex;\r\n                this.activeIndex = index = this.activeIndex === (count) ? 0 : this.activeIndex;\r\n                this.activeIndex = index = this.activeIndex < 0 ? (count - 1) : this.activeIndex;\r\n                this.activeIndex = index = this.validLiElement(this.activeIndex, (event.keyCode === 40 || event.keyCode === 39) ?\r\n                    false : true);\r\n                nextItem = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\r\n            }\r\n            else if (event.action === 'home') {\r\n                var index = this.validLiElement(0);\r\n                this.activeIndex = index;\r\n                nextItem = this.timeCollections[index];\r\n            }\r\n            else if (event.action === 'end') {\r\n                var index = this.validLiElement(count - 1, true);\r\n                this.activeIndex = index;\r\n                nextItem = this.timeCollections[index];\r\n            }\r\n            this.selectedElement = this.liCollections[this.activeIndex];\r\n            this.elementValue(new Date(nextItem));\r\n        }\r\n        this.isNavigate = true;\r\n        this.setHover(this.selectedElement, NAVIGATION);\r\n        this.setActiveDescendant();\r\n        this.selectInputText();\r\n        if (this.isPopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\r\n            this.setScrollPosition();\r\n        }\r\n    };\r\n    TimePicker.prototype.getCultureTimeObject = function (ld, c) {\r\n        return getValue('main.' + c + '.dates.calendars.gregorian.timeFormats.short', ld);\r\n    };\r\n    TimePicker.prototype.getCultureDateObject = function (ld, c) {\r\n        return getValue('main.' + c + '.dates.calendars.gregorian.dateFormats.short', ld);\r\n    };\r\n    TimePicker.prototype.wireListEvents = function () {\r\n        EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\r\n        if (!Browser.isDevice) {\r\n            EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\r\n            EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\r\n        }\r\n    };\r\n    TimePicker.prototype.unWireListEvents = function () {\r\n        if (this.listWrapper) {\r\n            EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\r\n            if (!Browser.isDevice) {\r\n                EventHandler.remove(this.listWrapper, 'mouseover', this.onMouseOver);\r\n                EventHandler.remove(this.listWrapper, 'mouseout', this.onMouseLeave);\r\n            }\r\n        }\r\n    };\r\n    TimePicker.prototype.valueProcess = function (event, value) {\r\n        var result = (isNullOrUndefined(this.checkDateValue(value))) ? null : value;\r\n        if (+this.prevDate !== +result) {\r\n            this.initValue = result;\r\n            this.changeEvent(event);\r\n        }\r\n    };\r\n    TimePicker.prototype.changeEvent = function (e) {\r\n        this.addSelection();\r\n        this.updateInput(true, this.initValue);\r\n        var eventArgs = {\r\n            event: (e || null),\r\n            value: this.value,\r\n            text: (this.inputElement).value,\r\n            isInteracted: !isNullOrUndefined(e),\r\n            element: this.element\r\n        };\r\n        eventArgs.value = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\r\n        this.prevDate = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\r\n        if (this.isAngular && this.preventChange) {\r\n            this.preventChange = false;\r\n        }\r\n        else {\r\n            this.trigger('change', eventArgs);\r\n        }\r\n        this.invalidValueString = null;\r\n        this.checkErrorState(this.value);\r\n    };\r\n    TimePicker.prototype.updateInput = function (isUpdate, date) {\r\n        if (isUpdate) {\r\n            this.prevValue = this.getValue(date);\r\n        }\r\n        this.prevDate = this.valueWithMinutes = date;\r\n        if ((typeof date !== 'number') || (this.value && +new Date(+this.value).setMilliseconds(0)) !== +date) {\r\n            this.setProperties({ value: date }, true);\r\n            if (this.enableMask) {\r\n                this.createMask();\r\n            }\r\n        }\r\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\r\n            this.checkErrorState(this.invalidValueString);\r\n            this.updateInputValue(this.invalidValueString);\r\n        }\r\n        this.clearIconState();\r\n    };\r\n    TimePicker.prototype.setActiveDescendant = function () {\r\n        if (!isNullOrUndefined(this.selectedElement)) {\r\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedElement.getAttribute('id') });\r\n        }\r\n        else {\r\n            attributes(this.inputElement, { 'aria-activedescendant': 'null' });\r\n        }\r\n    };\r\n    TimePicker.prototype.removeSelection = function () {\r\n        this.removeHover(HOVER);\r\n        if (!isNullOrUndefined(this.popupWrapper)) {\r\n            var items = this.popupWrapper.querySelectorAll('.' + SELECTED);\r\n            if (items.length) {\r\n                removeClass(items, SELECTED);\r\n                items[0].removeAttribute('aria-selected');\r\n            }\r\n        }\r\n    };\r\n    TimePicker.prototype.removeHover = function (className) {\r\n        var hoveredItem = this.getHoverItem(className);\r\n        if (hoveredItem && hoveredItem.length) {\r\n            removeClass(hoveredItem, className);\r\n            if (className === NAVIGATION) {\r\n                hoveredItem[0].removeAttribute('aria-selected');\r\n            }\r\n        }\r\n    };\r\n    TimePicker.prototype.getHoverItem = function (className) {\r\n        var hoveredItem;\r\n        if (!isNullOrUndefined(this.popupWrapper)) {\r\n            hoveredItem = this.popupWrapper.querySelectorAll('.' + className);\r\n        }\r\n        return hoveredItem;\r\n    };\r\n    TimePicker.prototype.setActiveClass = function () {\r\n        if (!isNullOrUndefined(this.popupWrapper)) {\r\n            var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS);\r\n            if (items.length) {\r\n                for (var i = 0; i < items.length; i++) {\r\n                    if ((this.timeCollections[i] === +this.getDateObject(this.valueWithMinutes))) {\r\n                        items[i].setAttribute('aria-selected', 'true');\r\n                        this.selectedElement = items[i];\r\n                        this.activeIndex = i;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TimePicker.prototype.addSelection = function () {\r\n        this.selectedElement = null;\r\n        this.removeSelection();\r\n        this.setActiveClass();\r\n        if (!isNullOrUndefined(this.selectedElement)) {\r\n            addClass([this.selectedElement], SELECTED);\r\n            this.selectedElement.setAttribute('aria-selected', 'true');\r\n        }\r\n    };\r\n    TimePicker.prototype.isValidLI = function (li) {\r\n        return (li && li.classList.contains(LISTCLASS) && !li.classList.contains(DISABLED));\r\n    };\r\n    TimePicker.prototype.createDateObj = function (val) {\r\n        var formatStr = null;\r\n        var today = this.globalize.formatDate(new Date(), { format: formatStr, skeleton: 'short', type: 'date' });\r\n        var value = null;\r\n        if (typeof val === 'string') {\r\n            if (val.toUpperCase().indexOf('AM') > -1 || val.toUpperCase().indexOf('PM') > -1) {\r\n                today = this.defaultCulture.formatDate(new Date(), { format: formatStr, skeleton: 'short', type: 'date' });\r\n                value = isNaN(+new Date(today + ' ' + val)) ? null : new Date(new Date(today + ' ' + val).setMilliseconds(0));\r\n                if (isNullOrUndefined(value)) {\r\n                    value = this.timeParse(today, val);\r\n                }\r\n            }\r\n            else {\r\n                value = this.timeParse(today, val);\r\n            }\r\n        }\r\n        else if (val instanceof Date) {\r\n            value = val;\r\n        }\r\n        return value;\r\n    };\r\n    TimePicker.prototype.timeParse = function (today, val) {\r\n        var value;\r\n        value = this.globalize.parseDate(today + ' ' + val, {\r\n            format: this.cldrDateFormat() + ' ' + this.cldrTimeFormat(), type: 'datetime'\r\n        });\r\n        value = isNullOrUndefined(value) ? this.globalize.parseDate(today + ' ' + val, {\r\n            format: this.cldrDateFormat() + ' ' + this.dateToNumeric(), type: 'datetime'\r\n        }) : value;\r\n        value = isNullOrUndefined(value) ? value : new Date(value.setMilliseconds(0));\r\n        return value;\r\n    };\r\n    TimePicker.prototype.createListItems = function () {\r\n        var _this = this;\r\n        this.listWrapper = this.createElement('div', { className: CONTENT, attrs: { 'tabindex': '0' } });\r\n        var start;\r\n        var interval = this.step * 60000;\r\n        var listItems = [];\r\n        this.timeCollections = [];\r\n        this.disableItemCollection = [];\r\n        start = +(this.getDateObject(this.initMin).setMilliseconds(0));\r\n        var end = +(this.getDateObject(this.initMax).setMilliseconds(0));\r\n        while (end >= start) {\r\n            this.timeCollections.push(start);\r\n            listItems.push(this.globalize.formatDate(new Date(start), { format: this.cldrTimeFormat(), type: 'time' }));\r\n            start += interval;\r\n        }\r\n        var listBaseOptions = {\r\n            itemCreated: function (args) {\r\n                var eventArgs = {\r\n                    element: args.item,\r\n                    text: args.text, value: _this.getDateObject(args.text), isDisabled: false\r\n                };\r\n                _this.trigger('itemRender', eventArgs, function (eventArgs) {\r\n                    if (eventArgs.isDisabled) {\r\n                        eventArgs.element.classList.add(DISABLED);\r\n                    }\r\n                    if (eventArgs.element.classList.contains(DISABLED)) {\r\n                        _this.disableItemCollection.push(eventArgs.element.getAttribute('data-value'));\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        this.listTag = ListBase.createList(this.createElement, listItems, listBaseOptions, true);\r\n        attributes(this.listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options' });\r\n        append([this.listTag], this.listWrapper);\r\n    };\r\n    TimePicker.prototype.documentClickHandler = function (event) {\r\n        var target = event.target;\r\n        if ((!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(target) ||\r\n            (this.popupObj.element && this.popupObj.element.contains(target)))) && event.type !== 'touchstart') {\r\n            event.preventDefault();\r\n        }\r\n        if (!(closest(target, '[id=\"' + this.popupObj.element.id + '\"]')) && target !== this.inputElement\r\n            && target !== (this.inputWrapper && this.inputWrapper.buttons[0]) &&\r\n            target !== (this.inputWrapper && this.inputWrapper.clearButton) &&\r\n            target !== (this.inputWrapper && this.inputWrapper.container)) {\r\n            if (this.isPopupOpen()) {\r\n                this.hide();\r\n                this.focusOut();\r\n            }\r\n        }\r\n        else if (target !== this.inputElement) {\r\n            if (!Browser.isDevice) {\r\n                this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.inputElement)\r\n                    && (target === this.popupWrapper);\r\n            }\r\n        }\r\n    };\r\n    TimePicker.prototype.setEnableRtl = function () {\r\n        Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\r\n        if (this.popupObj) {\r\n            this.popupObj.enableRtl = this.enableRtl;\r\n            this.popupObj.dataBind();\r\n        }\r\n    };\r\n    TimePicker.prototype.setEnable = function () {\r\n        Input.setEnabled(this.enabled, this.inputElement, this.floatLabelType);\r\n        if (this.enabled) {\r\n            removeClass([this.inputWrapper.container], DISABLED);\r\n            attributes(this.inputElement, { 'aria-disabled': 'false' });\r\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\r\n        }\r\n        else {\r\n            this.hide();\r\n            addClass([this.inputWrapper.container], DISABLED);\r\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\r\n            this.inputElement.tabIndex = -1;\r\n        }\r\n    };\r\n    TimePicker.prototype.getProperty = function (date, val) {\r\n        if (val === 'min') {\r\n            this.initMin = this.checkDateValue(new Date(this.checkInValue(date.min)));\r\n            this.setProperties({ min: this.initMin }, true);\r\n        }\r\n        else {\r\n            this.initMax = this.checkDateValue(new Date(this.checkInValue(date.max)));\r\n            this.setProperties({ max: this.initMax }, true);\r\n        }\r\n        if (this.inputElement.value === '') {\r\n            this.validateMinMax(this.value, this.min, this.max);\r\n        }\r\n        else {\r\n            this.checkValue(this.inputElement.value);\r\n        }\r\n        this.checkValueChange(null, false);\r\n    };\r\n    TimePicker.prototype.inputBlurHandler = function (e) {\r\n        if (!this.enabled) {\r\n            return;\r\n        }\r\n        // IE popup closing issue when click over the scrollbar\r\n        if (this.isPreventBlur && this.isPopupOpen()) {\r\n            this.inputElement.focus();\r\n            return;\r\n        }\r\n        this.closePopup(0, e);\r\n        if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\r\n            if (this.inputElement.value == this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\r\n                this.updateInputValue('');\r\n            }\r\n        }\r\n        removeClass([this.inputWrapper.container], [FOCUS]);\r\n        var blurArguments = {\r\n            model: this\r\n        };\r\n        this.trigger('blur', blurArguments);\r\n        if (this.getText() !== this.inputElement.value) {\r\n            this.updateValue((this.inputElement).value, e);\r\n        }\r\n        else if (this.inputElement.value.trim().length === 0) {\r\n            this.resetState();\r\n        }\r\n        this.cursorDetails = null;\r\n        this.isNavigate = false;\r\n        if (this.inputElement.value === '') {\r\n            this.invalidValueString = null;\r\n        }\r\n    };\r\n    /**\r\n     * Focuses out the TimePicker textbox element.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    TimePicker.prototype.focusOut = function () {\r\n        if (document.activeElement === this.inputElement) {\r\n            this.inputElement.blur();\r\n            removeClass([this.inputWrapper.container], [FOCUS]);\r\n            var blurArguments = {\r\n                model: this\r\n            };\r\n            this.trigger('blur', blurArguments);\r\n        }\r\n    };\r\n    TimePicker.prototype.isPopupOpen = function () {\r\n        if (this.popupWrapper && this.popupWrapper.classList.contains('' + ROOT)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    TimePicker.prototype.inputFocusHandler = function () {\r\n        if (!this.enabled) {\r\n            return;\r\n        }\r\n        var focusArguments = {\r\n            model: this\r\n        };\r\n        if (!this.readonly && !Browser.isDevice && !this.enableMask) {\r\n            this.selectInputText();\r\n        }\r\n        if (this.enableMask && !this.inputElement.value && this.placeholder) {\r\n            if (this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\r\n                this.updateInputValue(this.maskedDateValue);\r\n                this.inputElement.selectionStart = 0;\r\n                this.inputElement.selectionEnd = this.inputElement.value.length;\r\n            }\r\n        }\r\n        this.trigger('focus', focusArguments);\r\n        this.clearIconState();\r\n        if (this.openOnFocus) {\r\n            this.show();\r\n        }\r\n    };\r\n    /**\r\n     * Focused the TimePicker textbox element.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    TimePicker.prototype.focusIn = function () {\r\n        if (document.activeElement !== this.inputElement && this.enabled) {\r\n            this.inputElement.focus();\r\n        }\r\n    };\r\n    /**\r\n     * Hides the TimePicker popup.\r\n     *\r\n     * @returns {void}\r\n\r\n     */\r\n    TimePicker.prototype.hide = function () {\r\n        this.closePopup(100, null);\r\n        this.clearIconState();\r\n    };\r\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\r\n    /**\r\n     * Opens the popup to show the list items.\r\n     *\r\n     * @returns {void}\r\n\r\n     */\r\n    TimePicker.prototype.show = function (event) {\r\n        var _this = this;\r\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupWrapper) {\r\n            return;\r\n        }\r\n        else {\r\n            this.popupCreation();\r\n            if (Browser.isDevice && this.listWrapper) {\r\n                this.modal = this.createElement('div');\r\n                this.modal.className = '' + ROOT + ' e-time-modal';\r\n                document.body.className += ' ' + OVERFLOW;\r\n                document.body.appendChild(this.modal);\r\n            }\r\n            if (Browser.isDevice) {\r\n                this.mobileTimePopupWrap = this.createElement('div', { className: 'e-timepicker-mob-popup-wrap' });\r\n                document.body.appendChild(this.mobileTimePopupWrap);\r\n            }\r\n            this.openPopupEventArgs = {\r\n                popup: this.popupObj || null,\r\n                cancel: false,\r\n                event: event || null,\r\n                name: 'open',\r\n                appendTo: Browser.isDevice ? this.mobileTimePopupWrap : document.body\r\n            };\r\n            var eventArgs = this.openPopupEventArgs;\r\n            this.trigger('open', eventArgs, function (eventArgs) {\r\n                _this.openPopupEventArgs = eventArgs;\r\n                if (!_this.openPopupEventArgs.cancel && !_this.inputWrapper.buttons[0].classList.contains(DISABLED)) {\r\n                    _this.openPopupEventArgs.appendTo.appendChild(_this.popupWrapper);\r\n                    _this.popupAlignment(_this.openPopupEventArgs);\r\n                    _this.setScrollPosition();\r\n                    if (!Browser.isDevice) {\r\n                        _this.inputElement.focus();\r\n                    }\r\n                    var openAnimation = {\r\n                        name: 'FadeIn',\r\n                        duration: ANIMATIONDURATION\r\n                    };\r\n                    _this.popupObj.refreshPosition(_this.anchor);\r\n                    if (_this.zIndex === 1000) {\r\n                        _this.popupObj.show(new Animation(openAnimation), _this.element);\r\n                    }\r\n                    else {\r\n                        _this.popupObj.show(new Animation(openAnimation), null);\r\n                    }\r\n                    _this.setActiveDescendant();\r\n                    attributes(_this.inputElement, { 'aria-expanded': 'true' });\r\n                    addClass([_this.inputWrapper.container], FOCUS);\r\n                    EventHandler.add(document, 'mousedown touchstart', _this.documentClickHandler, _this);\r\n                    _this.setOverlayIndex(_this.mobileTimePopupWrap, _this.popupObj.element, _this.modal, Browser.isDevice);\r\n                }\r\n                else {\r\n                    _this.popupObj.destroy();\r\n                    _this.popupWrapper = _this.listTag = undefined;\r\n                    _this.liCollections = _this.timeCollections = _this.disableItemCollection = [];\r\n                    _this.popupObj = null;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\r\n    TimePicker.prototype.setOverlayIndex = function (popupWrapper, timePopupElement, modal, isDevice) {\r\n        if (isDevice && !isNullOrUndefined(timePopupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\r\n            var index = parseInt(timePopupElement.style.zIndex, 10) ? parseInt(timePopupElement.style.zIndex, 10) : 1000;\r\n            modal.style.zIndex = (index - 1).toString();\r\n            popupWrapper.style.zIndex = index.toString();\r\n        }\r\n    };\r\n    TimePicker.prototype.formatValues = function (type) {\r\n        var value;\r\n        if (typeof type === 'number') {\r\n            value = formatUnit(type);\r\n        }\r\n        else if (typeof type === 'string') {\r\n            value = (type.match(/px|%|em/)) ? type : isNaN(parseInt(type, 10)) ? type : formatUnit(type);\r\n        }\r\n        return value;\r\n    };\r\n    TimePicker.prototype.popupAlignment = function (args) {\r\n        args.popup.position.X = this.formatValues(args.popup.position.X);\r\n        args.popup.position.Y = this.formatValues(args.popup.position.Y);\r\n        if (!isNaN(parseFloat(args.popup.position.X)) || !isNaN(parseFloat(args.popup.position.Y))) {\r\n            this.popupObj.relateTo = this.anchor = document.body;\r\n            this.popupObj.targetType = 'container';\r\n        }\r\n        if (!isNaN(parseFloat(args.popup.position.X))) {\r\n            this.popupObj.offsetX = parseFloat(args.popup.position.X);\r\n        }\r\n        if (!isNaN(parseFloat(args.popup.position.Y))) {\r\n            this.popupObj.offsetY = parseFloat(args.popup.position.Y);\r\n        }\r\n        if (!Browser.isDevice) {\r\n            switch (args.popup.position.X) {\r\n                case 'left':\r\n                    break;\r\n                case 'right':\r\n                    args.popup.offsetX = this.containerStyle.width;\r\n                    break;\r\n                case 'center':\r\n                    args.popup.offsetX = -(this.containerStyle.width / 2);\r\n                    break;\r\n            }\r\n            switch (args.popup.position.Y) {\r\n                case 'top':\r\n                    break;\r\n                case 'bottom':\r\n                    break;\r\n                case 'center':\r\n                    args.popup.offsetY = -(this.containerStyle.height / 2);\r\n                    break;\r\n            }\r\n            if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\r\n                this.popupObj.relateTo = this.inputWrapper.container;\r\n                this.anchor = this.inputElement;\r\n                this.popupObj.targetType = 'relative';\r\n            }\r\n        }\r\n        else {\r\n            if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\r\n                this.popupObj.relateTo = this.anchor = document.body;\r\n                this.popupObj.offsetY = 0;\r\n                this.popupObj.targetType = 'container';\r\n                this.popupObj.collision = { X: 'fit', Y: 'fit' };\r\n            }\r\n        }\r\n    };\r\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\r\n    /**\r\n     * Gets the properties to be maintained upon browser refresh.\r\n     *\r\n     * @returns {string}\r\n     */\r\n    TimePicker.prototype.getPersistData = function () {\r\n        var keyEntity = ['value'];\r\n        return this.addOnPersist(keyEntity);\r\n    };\r\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\r\n    /**\r\n     * To get component name\r\n     *\r\n     * @returns {string} Returns the component name.\r\n     * @private\r\n     */\r\n    TimePicker.prototype.getModuleName = function () {\r\n        return 'timepicker';\r\n    };\r\n    /**\r\n     * Called internally if any of the property value changed.\r\n     *\r\n     * @param {TimePickerModel} newProp - Returns the dynamic property value of the component.\r\n     * @param {TimePickerModel} oldProp - Returns the previous property value of the component.\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    TimePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\r\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\r\n            var prop = _a[_i];\r\n            switch (prop) {\r\n                case 'placeholder':\r\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\r\n                    this.inputElement.setAttribute('aria-placeholder', newProp.placeholder);\r\n                    break;\r\n                case 'readonly':\r\n                    Input.setReadonly(this.readonly, this.inputElement, this.floatLabelType);\r\n                    if (this.readonly) {\r\n                        this.hide();\r\n                    }\r\n                    this.setTimeAllowEdit();\r\n                    break;\r\n                case 'enabled':\r\n                    this.setProperties({ enabled: newProp.enabled }, true);\r\n                    this.setEnable();\r\n                    break;\r\n                case 'allowEdit':\r\n                    this.setTimeAllowEdit();\r\n                    break;\r\n                case 'enableRtl':\r\n                    this.setProperties({ enableRtl: newProp.enableRtl }, true);\r\n                    this.setEnableRtl();\r\n                    break;\r\n                case 'cssClass':\r\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\r\n                    break;\r\n                case 'zIndex':\r\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\r\n                    this.setZIndex();\r\n                    break;\r\n                case 'htmlAttributes':\r\n                    this.updateHtmlAttributeToElement();\r\n                    this.updateHtmlAttributeToWrapper();\r\n                    this.checkAttributes(true);\r\n                    break;\r\n                case 'min':\r\n                case 'max':\r\n                    this.getProperty(newProp, prop);\r\n                    break;\r\n                case 'showClearButton':\r\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\r\n                    this.bindClearEvent();\r\n                    break;\r\n                case 'locale':\r\n                    this.setProperties({ locale: newProp.locale }, true);\r\n                    this.globalize = new Internationalization(this.locale);\r\n                    this.l10n.setLocale(this.locale);\r\n                    this.updatePlaceHolder();\r\n                    this.setValue(this.value);\r\n                    if (this.enableMask) {\r\n                        this.notify(\"createMask\", {\r\n                            module: \"MaskedDateTime\",\r\n                        });\r\n                    }\r\n                    break;\r\n                case 'width':\r\n                    setStyleAttribute(this.inputWrapper.container, { 'width': this.setWidth(newProp.width) });\r\n                    this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\r\n                    break;\r\n                case 'format':\r\n                    this.setProperties({ format: newProp.format }, true);\r\n                    this.checkTimeFormat();\r\n                    this.setValue(this.value);\r\n                    if (this.enableMask) {\r\n                        this.createMask();\r\n                        if (!this.value) {\r\n                            this.updateInputValue(this.maskedDateValue);\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'value':\r\n                    this.invalidValueString = null;\r\n                    this.checkInvalidValue(newProp.value);\r\n                    newProp.value = this.value;\r\n                    if (!this.invalidValueString) {\r\n                        if (typeof newProp.value === 'string') {\r\n                            this.setProperties({ value: this.checkDateValue(new Date(newProp.value)) }, true);\r\n                            newProp.value = this.value;\r\n                        }\r\n                        else {\r\n                            if ((newProp.value && +new Date(+newProp.value).setMilliseconds(0)) !== +this.value) {\r\n                                newProp.value = this.checkDateValue(new Date('' + newProp.value));\r\n                            }\r\n                        }\r\n                        this.initValue = newProp.value;\r\n                        newProp.value = this.compareFormatChange(this.checkValue(newProp.value));\r\n                    }\r\n                    else {\r\n                        this.updateInputValue(this.invalidValueString);\r\n                        this.checkErrorState(this.invalidValueString);\r\n                    }\r\n                    this.checkValueChange(null, false);\r\n                    if (this.isPopupOpen()) {\r\n                        this.setScrollPosition();\r\n                    }\r\n                    if (this.isAngular && this.preventChange) {\r\n                        this.preventChange = false;\r\n                    }\r\n                    if (this.enableMask) {\r\n                        this.notify(\"createMask\", {\r\n                            module: \"MaskedDateTime\",\r\n                        });\r\n                    }\r\n                    break;\r\n                case 'floatLabelType':\r\n                    this.floatLabelType = newProp.floatLabelType;\r\n                    Input.removeFloating(this.inputWrapper);\r\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\r\n                    break;\r\n                case 'strictMode':\r\n                    this.invalidValueString = null;\r\n                    if (newProp.strictMode) {\r\n                        this.checkErrorState(null);\r\n                    }\r\n                    this.setProperties({ strictMode: newProp.strictMode }, true);\r\n                    this.checkValue((this.inputElement).value);\r\n                    this.checkValueChange(null, false);\r\n                    break;\r\n                case 'scrollTo':\r\n                    if (this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))) {\r\n                        if (this.popupWrapper) {\r\n                            this.setScrollTo();\r\n                        }\r\n                        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo))) }, true);\r\n                    }\r\n                    else {\r\n                        this.setProperties({ scrollTo: null }, true);\r\n                    }\r\n                    break;\r\n                case 'enableMask':\r\n                    if (this.enableMask) {\r\n                        this.notify(\"createMask\", {\r\n                            module: \"MaskedDateTime\",\r\n                        });\r\n                        this.updateInputValue(this.maskedDateValue);\r\n                    }\r\n                    else {\r\n                        if (this.inputElement.value === this.maskedDateValue) {\r\n                            this.updateInputValue('');\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    TimePicker.prototype.checkInValue = function (inValue) {\r\n        if (inValue instanceof Date) {\r\n            return (inValue.toUTCString());\r\n        }\r\n        else {\r\n            return ('' + inValue);\r\n        }\r\n    };\r\n    __decorate([\r\n        Property(null)\r\n    ], TimePicker.prototype, \"width\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], TimePicker.prototype, \"cssClass\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], TimePicker.prototype, \"strictMode\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], TimePicker.prototype, \"keyConfigs\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], TimePicker.prototype, \"format\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], TimePicker.prototype, \"enabled\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], TimePicker.prototype, \"readonly\", void 0);\r\n    __decorate([\r\n        Property({})\r\n    ], TimePicker.prototype, \"htmlAttributes\", void 0);\r\n    __decorate([\r\n        Property('Never')\r\n    ], TimePicker.prototype, \"floatLabelType\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], TimePicker.prototype, \"placeholder\", void 0);\r\n    __decorate([\r\n        Property(1000)\r\n    ], TimePicker.prototype, \"zIndex\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], TimePicker.prototype, \"enablePersistence\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], TimePicker.prototype, \"showClearButton\", void 0);\r\n    __decorate([\r\n        Property(30)\r\n    ], TimePicker.prototype, \"step\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], TimePicker.prototype, \"scrollTo\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], TimePicker.prototype, \"value\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], TimePicker.prototype, \"min\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], TimePicker.prototype, \"max\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], TimePicker.prototype, \"allowEdit\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], TimePicker.prototype, \"openOnFocus\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], TimePicker.prototype, \"enableMask\", void 0);\r\n    __decorate([\r\n        Property({ day: 'day', month: 'month', year: 'year', hour: 'hour', minute: 'minute', second: 'second', dayOfTheWeek: 'day of the week' })\r\n    ], TimePicker.prototype, \"maskPlaceholder\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], TimePicker.prototype, \"change\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], TimePicker.prototype, \"created\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], TimePicker.prototype, \"destroyed\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], TimePicker.prototype, \"open\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], TimePicker.prototype, \"itemRender\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], TimePicker.prototype, \"close\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], TimePicker.prototype, \"cleared\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], TimePicker.prototype, \"blur\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], TimePicker.prototype, \"focus\", void 0);\r\n    TimePicker = __decorate([\r\n        NotifyPropertyChanges\r\n    ], TimePicker);\r\n    return TimePicker;\r\n}(Component));\r\nexport { TimePicker };\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\r\n"]},"metadata":{},"sourceType":"module"}