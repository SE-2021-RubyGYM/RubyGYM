{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useFlattenRecords;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\")); // recursion (flat tree structure)\n\n\nfunction flatRecord(record, indent, childrenColumnName, expandedKeys, getRowKey) {\n  var arr = [];\n  arr.push({\n    record: record,\n    indent: indent\n  });\n  var key = getRowKey(record);\n  var expanded = expandedKeys === null || expandedKeys === void 0 ? void 0 : expandedKeys.has(key);\n\n  if (record && Array.isArray(record[childrenColumnName]) && expanded) {\n    // expanded state, flat record\n    for (var i = 0; i < record[childrenColumnName].length; i += 1) {\n      var tempArr = flatRecord(record[childrenColumnName][i], indent + 1, childrenColumnName, expandedKeys, getRowKey);\n      arr.push.apply(arr, (0, _toConsumableArray2.default)(tempArr));\n    }\n  }\n\n  return arr;\n}\n/**\r\n * flat tree data on expanded state\r\n *\r\n * @export\r\n * @template T\r\n * @param {*} data : table data\r\n * @param {string} childrenColumnName : 指定树形结构的列名\r\n * @param {Set<Key>} expandedKeys : 展开的行对应的keys\r\n * @param {GetRowKey<T>} getRowKey  : 获取当前rowKey的方法\r\n * @returns flattened data\r\n */\n\n\nfunction useFlattenRecords(data, childrenColumnName, expandedKeys, getRowKey) {\n  var arr = React.useMemo(function () {\n    if (expandedKeys === null || expandedKeys === void 0 ? void 0 : expandedKeys.size) {\n      var temp = []; // collect flattened record\n\n      for (var i = 0; i < (data === null || data === void 0 ? void 0 : data.length); i += 1) {\n        var record = data[i];\n        temp.push.apply(temp, (0, _toConsumableArray2.default)(flatRecord(record, 0, childrenColumnName, expandedKeys, getRowKey)));\n      }\n\n      return temp;\n    }\n\n    return data === null || data === void 0 ? void 0 : data.map(function (item) {\n      return {\n        record: item,\n        indent: 0\n      };\n    });\n  }, [data, childrenColumnName, expandedKeys, getRowKey]);\n  return arr;\n}","map":{"version":3,"sources":["C:/Users/nvtung/Các project thực hiện/CNPM/RubyGYM/client/node_modules/rc-table/lib/hooks/useFlattenRecords.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","useFlattenRecords","_toConsumableArray2","React","flatRecord","record","indent","childrenColumnName","expandedKeys","getRowKey","arr","push","key","expanded","has","Array","isArray","i","length","tempArr","apply","data","useMemo","size","temp","map","item"],"mappings":"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","sourcesContent":["\"use strict\";\r\n\r\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = useFlattenRecords;\r\n\r\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\r\n\r\nvar React = _interopRequireWildcard(require(\"react\"));\r\n\r\n// recursion (flat tree structure)\r\nfunction flatRecord(record, indent, childrenColumnName, expandedKeys, getRowKey) {\r\n  var arr = [];\r\n  arr.push({\r\n    record: record,\r\n    indent: indent\r\n  });\r\n  var key = getRowKey(record);\r\n  var expanded = expandedKeys === null || expandedKeys === void 0 ? void 0 : expandedKeys.has(key);\r\n\r\n  if (record && Array.isArray(record[childrenColumnName]) && expanded) {\r\n    // expanded state, flat record\r\n    for (var i = 0; i < record[childrenColumnName].length; i += 1) {\r\n      var tempArr = flatRecord(record[childrenColumnName][i], indent + 1, childrenColumnName, expandedKeys, getRowKey);\r\n      arr.push.apply(arr, (0, _toConsumableArray2.default)(tempArr));\r\n    }\r\n  }\r\n\r\n  return arr;\r\n}\r\n/**\r\n * flat tree data on expanded state\r\n *\r\n * @export\r\n * @template T\r\n * @param {*} data : table data\r\n * @param {string} childrenColumnName : 指定树形结构的列名\r\n * @param {Set<Key>} expandedKeys : 展开的行对应的keys\r\n * @param {GetRowKey<T>} getRowKey  : 获取当前rowKey的方法\r\n * @returns flattened data\r\n */\r\n\r\n\r\nfunction useFlattenRecords(data, childrenColumnName, expandedKeys, getRowKey) {\r\n  var arr = React.useMemo(function () {\r\n    if (expandedKeys === null || expandedKeys === void 0 ? void 0 : expandedKeys.size) {\r\n      var temp = []; // collect flattened record\r\n\r\n      for (var i = 0; i < (data === null || data === void 0 ? void 0 : data.length); i += 1) {\r\n        var record = data[i];\r\n        temp.push.apply(temp, (0, _toConsumableArray2.default)(flatRecord(record, 0, childrenColumnName, expandedKeys, getRowKey)));\r\n      }\r\n\r\n      return temp;\r\n    }\r\n\r\n    return data === null || data === void 0 ? void 0 : data.map(function (item) {\r\n      return {\r\n        record: item,\r\n        indent: 0\r\n      };\r\n    });\r\n  }, [data, childrenColumnName, expandedKeys, getRowKey]);\r\n  return arr;\r\n}"]},"metadata":{},"sourceType":"script"}