{"ast":null,"code":"/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/view/observer/domeventobserver\n */\nimport Observer from './observer';\nimport DomEventData from './domeventdata';\n/**\n * Base class for DOM event observers. This class handles\n * {@link module:engine/view/observer/observer~Observer#observe adding} listeners to DOM elements,\n * {@link module:engine/view/observer/observer~Observer#disable disabling} and\n * {@link module:engine/view/observer/observer~Observer#enable re-enabling} events.\n * Child class needs to define\n * {@link module:engine/view/observer/domeventobserver~DomEventObserver#domEventType DOM event type} and\n * {@link module:engine/view/observer/domeventobserver~DomEventObserver#onDomEvent callback}.\n *\n * For instance:\n *\n *\t\tclass ClickObserver extends DomEventObserver {\n *\t\t\t// It can also be defined as a normal property in the constructor.\n *\t\t\tget domEventType() {\n *\t\t\t\treturn 'click';\n *\t\t\t}\n *\n *\t\t\tonDomEvent( domEvent ) {\n *\t\t\t\tthis.fire( 'click', domEvent );\n *\t\t\t}\n *\t\t}\n *\n * @extends module:engine/view/observer/observer~Observer\n */\n\nexport default class DomEventObserver extends Observer {\n  /**\n   * Type of the DOM event the observer should listen to. Array of types can be defined\n   * if the observer should listen to multiple DOM events.\n   *\n   * @readonly\n   * @member {String|Array.<String>} #domEventType\n   */\n\n  /**\n   * Callback which should be called when the DOM event occurred. Note that the callback will not be called if\n   * observer {@link #isEnabled is not enabled}.\n   *\n   * @see #domEventType\n   * @abstract\n   * @method #onDomEvent\n   */\n\n  /**\n   * @inheritDoc\n   */\n  constructor(view) {\n    super(view);\n    /**\n     * If set to `true` DOM events will be listened on the capturing phase.\n     * Default value is `false`.\n     *\n     * @member {Boolean}\n     */\n\n    this.useCapture = false;\n  }\n  /**\n   * @inheritDoc\n   */\n\n\n  observe(domElement) {\n    const types = typeof this.domEventType == 'string' ? [this.domEventType] : this.domEventType;\n    types.forEach(type => {\n      this.listenTo(domElement, type, (eventInfo, domEvent) => {\n        if (this.isEnabled && !this.checkShouldIgnoreEventFromTarget(domEvent.target)) {\n          this.onDomEvent(domEvent);\n        }\n      }, {\n        useCapture: this.useCapture\n      });\n    });\n  }\n  /**\n   * Calls `Document#fire()` if observer {@link #isEnabled is enabled}.\n   *\n   * @see module:utils/emittermixin~EmitterMixin#fire\n   * @param {String} eventType The event type (name).\n   * @param {Event} domEvent The DOM event.\n   * @param {Object} [additionalData] The additional data which should extend the\n   * {@link module:engine/view/observer/domeventdata~DomEventData event data} object.\n   */\n\n\n  fire(eventType, domEvent, additionalData) {\n    if (this.isEnabled) {\n      this.document.fire(eventType, new DomEventData(this.view, domEvent, additionalData));\n    }\n  }\n\n}","map":{"version":3,"sources":["D:/Project/nhap_mon_cnpm/my-app/node_modules/@ckeditor/ckeditor5-engine/src/view/observer/domeventobserver.js"],"names":["Observer","DomEventData","DomEventObserver","constructor","view","useCapture","observe","domElement","types","domEventType","forEach","type","listenTo","eventInfo","domEvent","isEnabled","checkShouldIgnoreEventFromTarget","target","onDomEvent","fire","eventType","additionalData","document"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAEA,OAAOA,QAAP,MAAqB,YAArB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,MAAMC,gBAAN,SAA+BF,QAA/B,CAAwC;AACtD;AACD;AACA;AACA;AACA;AACA;AACA;;AAEC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEC;AACD;AACA;AACCG,EAAAA,WAAW,CAAEC,IAAF,EAAS;AACnB,UAAOA,IAAP;AAEA;AACF;AACA;AACA;AACA;AACA;;AACE,SAAKC,UAAL,GAAkB,KAAlB;AACA;AAED;AACD;AACA;;;AACCC,EAAAA,OAAO,CAAEC,UAAF,EAAe;AACrB,UAAMC,KAAK,GAAG,OAAO,KAAKC,YAAZ,IAA4B,QAA5B,GAAuC,CAAE,KAAKA,YAAP,CAAvC,GAA+D,KAAKA,YAAlF;AAEAD,IAAAA,KAAK,CAACE,OAAN,CAAeC,IAAI,IAAI;AACtB,WAAKC,QAAL,CAAeL,UAAf,EAA2BI,IAA3B,EAAiC,CAAEE,SAAF,EAAaC,QAAb,KAA2B;AAC3D,YAAK,KAAKC,SAAL,IAAkB,CAAC,KAAKC,gCAAL,CAAuCF,QAAQ,CAACG,MAAhD,CAAxB,EAAmF;AAClF,eAAKC,UAAL,CAAiBJ,QAAjB;AACA;AACD,OAJD,EAIG;AAAET,QAAAA,UAAU,EAAE,KAAKA;AAAnB,OAJH;AAKA,KAND;AAOA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACCc,EAAAA,IAAI,CAAEC,SAAF,EAAaN,QAAb,EAAuBO,cAAvB,EAAwC;AAC3C,QAAK,KAAKN,SAAV,EAAsB;AACrB,WAAKO,QAAL,CAAcH,IAAd,CAAoBC,SAApB,EAA+B,IAAInB,YAAJ,CAAkB,KAAKG,IAAvB,EAA6BU,QAA7B,EAAuCO,cAAvC,CAA/B;AACA;AACD;;AA7DqD","sourcesContent":["/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/view/observer/domeventobserver\n */\n\nimport Observer from './observer';\nimport DomEventData from './domeventdata';\n\n/**\n * Base class for DOM event observers. This class handles\n * {@link module:engine/view/observer/observer~Observer#observe adding} listeners to DOM elements,\n * {@link module:engine/view/observer/observer~Observer#disable disabling} and\n * {@link module:engine/view/observer/observer~Observer#enable re-enabling} events.\n * Child class needs to define\n * {@link module:engine/view/observer/domeventobserver~DomEventObserver#domEventType DOM event type} and\n * {@link module:engine/view/observer/domeventobserver~DomEventObserver#onDomEvent callback}.\n *\n * For instance:\n *\n *\t\tclass ClickObserver extends DomEventObserver {\n *\t\t\t// It can also be defined as a normal property in the constructor.\n *\t\t\tget domEventType() {\n *\t\t\t\treturn 'click';\n *\t\t\t}\n *\n *\t\t\tonDomEvent( domEvent ) {\n *\t\t\t\tthis.fire( 'click', domEvent );\n *\t\t\t}\n *\t\t}\n *\n * @extends module:engine/view/observer/observer~Observer\n */\nexport default class DomEventObserver extends Observer {\n\t/**\n\t * Type of the DOM event the observer should listen to. Array of types can be defined\n\t * if the observer should listen to multiple DOM events.\n\t *\n\t * @readonly\n\t * @member {String|Array.<String>} #domEventType\n\t */\n\n\t/**\n\t * Callback which should be called when the DOM event occurred. Note that the callback will not be called if\n\t * observer {@link #isEnabled is not enabled}.\n\t *\n\t * @see #domEventType\n\t * @abstract\n\t * @method #onDomEvent\n\t */\n\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor( view ) {\n\t\tsuper( view );\n\n\t\t/**\n\t\t * If set to `true` DOM events will be listened on the capturing phase.\n\t\t * Default value is `false`.\n\t\t *\n\t\t * @member {Boolean}\n\t\t */\n\t\tthis.useCapture = false;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tobserve( domElement ) {\n\t\tconst types = typeof this.domEventType == 'string' ? [ this.domEventType ] : this.domEventType;\n\n\t\ttypes.forEach( type => {\n\t\t\tthis.listenTo( domElement, type, ( eventInfo, domEvent ) => {\n\t\t\t\tif ( this.isEnabled && !this.checkShouldIgnoreEventFromTarget( domEvent.target ) ) {\n\t\t\t\t\tthis.onDomEvent( domEvent );\n\t\t\t\t}\n\t\t\t}, { useCapture: this.useCapture } );\n\t\t} );\n\t}\n\n\t/**\n\t * Calls `Document#fire()` if observer {@link #isEnabled is enabled}.\n\t *\n\t * @see module:utils/emittermixin~EmitterMixin#fire\n\t * @param {String} eventType The event type (name).\n\t * @param {Event} domEvent The DOM event.\n\t * @param {Object} [additionalData] The additional data which should extend the\n\t * {@link module:engine/view/observer/domeventdata~DomEventData event data} object.\n\t */\n\tfire( eventType, domEvent, additionalData ) {\n\t\tif ( this.isEnabled ) {\n\t\t\tthis.document.fire( eventType, new DomEventData( this.view, domEvent, additionalData ) );\n\t\t}\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}