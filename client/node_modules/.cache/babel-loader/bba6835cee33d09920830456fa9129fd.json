{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Component, NotifyPropertyChanges, ChildProperty, Property, Collection, append, extend, Event, EventHandler, closest, addClass, removeClass, detach, remove } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { Popup } from '@syncfusion/ej2-popups';\nvar ICONRIGHT = 'e-icon-right';\nvar ITEMTEXTCLASS = 'e-breadcrumb-text';\nvar ICONCLASS = 'e-breadcrumb-icon';\nvar MENUCLASS = 'e-breadcrumb-menu';\nvar ITEMCLASS = 'e-breadcrumb-item';\nvar POPUPCLASS = 'e-breadcrumb-popup';\nvar WRAPMODECLASS = 'e-breadcrumb-wrap-mode';\nvar SCROLLMODECLASS = 'e-breadcrumb-scroll-mode';\nvar TABINDEX = 'tabindex';\nvar DISABLEDCLASS = 'e-disabled';\nvar ARIADISABLED = 'aria-disabled';\nvar DOT = '.';\n\nvar BreadcrumbItem =\n/** @class */\nfunction (_super) {\n  __extends(BreadcrumbItem, _super);\n\n  function BreadcrumbItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property('')], BreadcrumbItem.prototype, \"text\", void 0);\n\n  __decorate([Property('')], BreadcrumbItem.prototype, \"url\", void 0);\n\n  __decorate([Property(null)], BreadcrumbItem.prototype, \"iconCss\", void 0);\n\n  __decorate([Property(false)], BreadcrumbItem.prototype, \"disabled\", void 0);\n\n  return BreadcrumbItem;\n}(ChildProperty);\n\nexport { BreadcrumbItem };\n/**\n * Breadcrumb is a graphical user interface that helps to identify or highlight the current location within a hierarchical structure of websites.\n * The aim is to make the user aware of their current position in a hierarchy of website links.\n * ```html\n * <nav id='breadcrumb'></nav>\n * ```\n * ```typescript\n * <script>\n * var breadcrumbObj = new Breadcrumb({ items: [{ text: 'Home', url: '/' }, { text: 'Index', url: './index.html }]});\n * breadcrumbObj.appendTo(\"#breadcrumb\");\n * </script>\n * ```\n */\n\nvar Breadcrumb =\n/** @class */\nfunction (_super) {\n  __extends(Breadcrumb, _super);\n  /**\n   * Constructor for creating the widget.\n   *\n   * @private\n   * @param {BreadcrumbModel} options - Specifies the Breadcrumb model.\n   * @param {string | HTMLElement} element - Specifies the element.\n   */\n\n\n  function Breadcrumb(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * @private\n   * @returns {void}\n   */\n\n\n  Breadcrumb.prototype.preRender = function () {// pre render code\n  };\n  /**\n   * Initialize the control rendering.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Breadcrumb.prototype.render = function () {\n    this.initialize();\n    this.renderItems(this.items);\n    this.wireEvents();\n  };\n\n  Breadcrumb.prototype.initialize = function () {\n    this._maxItems = this.maxItems;\n    this.element.setAttribute('aria-label', 'breadcrumb');\n\n    if (this.cssClass) {\n      addClass([this.element], this.cssClass.split(' '));\n    }\n\n    if (this.enableRtl) {\n      this.element.classList.add('e-rtl');\n    }\n\n    if (this.disabled) {\n      this.element.classList.add(DISABLEDCLASS);\n      this.element.setAttribute(ARIADISABLED, 'true');\n    }\n\n    if (this.overflowMode === 'Wrap') {\n      this.element.classList.add(WRAPMODECLASS);\n    } else if (this.overflowMode === 'Scroll') {\n      this.element.classList.add(SCROLLMODECLASS);\n    }\n\n    this.initItems();\n    this.initPvtProps();\n  };\n\n  Breadcrumb.prototype.initPvtProps = function () {\n    if (this.overflowMode === 'Hidden' && this._maxItems > 0) {\n      this.endIndex = this.getEndIndex();\n      this.startIndex = this.endIndex + 1 - (this._maxItems - 1);\n    }\n\n    if (this.overflowMode === 'Menu') {\n      if (this._maxItems >= 0) {\n        this.startIndex = this._maxItems > 1 ? 1 : 0;\n        this.endIndex = this.getEndIndex();\n        this.popupUl = this.createElement('ul', {\n          attrs: {\n            TABINDEX: '0',\n            'role': 'menu'\n          }\n        });\n      } else {\n        this.startIndex = this.endIndex = null;\n      }\n    }\n  };\n\n  Breadcrumb.prototype.getEndIndex = function () {\n    var _this = this;\n\n    var endIndex;\n\n    if (this.activeItem) {\n      this.items.forEach(function (item, idx) {\n        if (item.url === _this.activeItem || item.text === _this.activeItem) {\n          endIndex = idx;\n        }\n      });\n    } else {\n      endIndex = this.items.length - 1;\n    }\n\n    return endIndex;\n  };\n\n  Breadcrumb.prototype.initItems = function () {\n    if (!this.items.length) {\n      var baseUri = void 0;\n      var uri = void 0;\n      var items = [];\n\n      if (this.url) {\n        var url = new URL(this.url, window.location.origin);\n        baseUri = url.origin + '/';\n        uri = url.href.split(baseUri)[1].split('/');\n      } else {\n        baseUri = window.location.origin + '/';\n        uri = window.location.href.split(baseUri)[1].split('/');\n      }\n\n      items.push({\n        iconCss: 'e-icons e-home',\n        url: baseUri\n      });\n\n      for (var i = 0; i < uri.length; i++) {\n        if (uri[i]) {\n          items.push({\n            text: uri[i],\n            url: baseUri + uri[i]\n          });\n          baseUri += uri[i] + '/';\n        }\n      }\n\n      this.setProperties({\n        items: items\n      }, true);\n    }\n  };\n\n  Breadcrumb.prototype.renderItems = function (items) {\n    var _this = this;\n\n    var item;\n    var isSingleLevel;\n    var isIconRight = this.element.classList.contains(ICONRIGHT);\n    var itemsLength = items.length;\n\n    if (itemsLength) {\n      var isActiveItem = void 0;\n      var isLastItem = void 0;\n      var isLastItemInPopup_1;\n      var j_1 = 0;\n      var wrapDiv = void 0;\n      var len = itemsLength * 2 - 1;\n      var isItemCancelled_1 = false;\n      var ol = this.createElement('ol', {\n        className: this.overflowMode === 'Wrap' ? 'e-breadcrumb-wrapped-ol' : ''\n      });\n      var firstOl = this.createElement('ol', {\n        className: this.overflowMode === 'Wrap' ? 'e-breadcrumb-first-ol' : ''\n      });\n      var showIcon = this.hasField(items, 'iconCss');\n      var isCollasped = this.overflowMode === 'Collapsed' && this._maxItems > 0 && itemsLength > this._maxItems && !this.isExpanded;\n      var isDefaultOverflowMode_1 = this.overflowMode === 'Hidden' && this._maxItems > 0;\n\n      if (this.overflowMode === 'Menu' && this.popupUl) {\n        this.popupUl.innerHTML = '';\n      }\n\n      var listBaseOptions = {\n        moduleName: this.getModuleName(),\n        showIcon: showIcon,\n        itemNavigable: true,\n        itemCreated: function (args) {\n          var isLastItem = args.curData.isLastItem;\n\n          if (isLastItem && args.item.children.length && !_this.itemTemplate) {\n            delete args.curData.isLastItem;\n\n            if (!isLastItemInPopup_1 && !_this.enableActiveItemNavigation) {\n              args.item.innerHTML = _this.createElement('span', {\n                className: ITEMTEXTCLASS,\n                innerHTML: args.item.children[0].innerHTML\n              }).outerHTML;\n            }\n          }\n\n          if (args.curData.iconCss && !args.curData.text && !_this.itemTemplate) {\n            args.item.classList.add('e-icon-item');\n          }\n\n          if (isDefaultOverflowMode_1) {\n            args.item.setAttribute('item-index', j_1.toString());\n          }\n\n          var eventArgs = {\n            item: extend({}, args.curData.properties ? args.curData.properties : args.curData),\n            element: args.item,\n            cancel: false\n          };\n\n          _this.trigger('beforeItemRender', eventArgs);\n\n          isItemCancelled_1 = eventArgs.cancel;\n          var containsRightIcon = isIconRight || eventArgs.element.classList.contains(ICONRIGHT);\n\n          if (containsRightIcon && args.curData.iconCss && !_this.itemTemplate) {\n            args.item.querySelector('.e-anchor-wrap').appendChild(args.item.querySelector(DOT + ICONCLASS));\n          }\n\n          if (eventArgs.item.disabled) {\n            args.item.setAttribute(ARIADISABLED, 'true');\n            args.item.classList.add(DISABLEDCLASS);\n          }\n\n          if ((eventArgs.item.disabled || _this.disabled) && args.item.children.length && !_this.itemTemplate) {\n            args.item.children[0].setAttribute(TABINDEX, '-1');\n          }\n\n          if (args.curData.isEmptyUrl) {\n            args.item.children[0].removeAttribute('href');\n\n            if ((!isLastItem || isLastItem && _this.enableActiveItemNavigation) && !(eventArgs.item.disabled || _this.disabled)) {\n              args.item.children[0].setAttribute(TABINDEX, '0');\n              EventHandler.add(args.item.children[0], 'keydown', _this.keyDownHandler, _this);\n            }\n          }\n\n          if (isLastItem) {\n            args.item.setAttribute('data-active-item', '');\n          }\n\n          if (!_this.itemTemplate) {\n            _this.beforeItemRenderChanges(args.curData, eventArgs.item, args.item, containsRightIcon);\n          }\n        }\n      };\n\n      for (var i = 0; i < len; i % 2 && j_1++, i++) {\n        isActiveItem = this.activeItem && (this.activeItem === items[j_1].url || this.activeItem === items[j_1].text);\n\n        if (isCollasped && i > 1 && i < len - 2) {\n          continue;\n        } else if (isDefaultOverflowMode_1 && (j_1 < this.startIndex || j_1 > this.endIndex) && (i % 2 ? j_1 !== this.startIndex - 1 : true) && j_1 !== 0) {\n          continue;\n        }\n\n        if (i % 2) {\n          // separator item\n          wrapDiv = this.createElement('div', {\n            className: 'e-breadcrumb-item-wrapper'\n          });\n          listBaseOptions.template = this.separatorTemplate ? this.separatorTemplate : '/';\n          listBaseOptions.itemClass = 'e-breadcrumb-separator';\n          isSingleLevel = false;\n          item = [{\n            previousItem: items[j_1],\n            nextItem: items[j_1 + 1]\n          }];\n        } else {\n          // list item\n          listBaseOptions.itemClass = '';\n\n          if (this.itemTemplate) {\n            listBaseOptions.template = this.itemTemplate;\n            isSingleLevel = false;\n          } else {\n            isSingleLevel = true;\n          }\n\n          item = [extend({}, items[j_1].properties ? items[j_1].properties : items[j_1])];\n\n          if (!item[0].url && !this.itemTemplate) {\n            item = [extend({}, item[0], {\n              isEmptyUrl: true,\n              url: '#'\n            })];\n          }\n\n          isLastItem = (isDefaultOverflowMode_1 || this.overflowMode === 'Menu') && j_1 === this.endIndex;\n\n          if ((i === len - 1 || isLastItem) && !this.itemTemplate || isActiveItem) {\n            item[0].isLastItem = true;\n          }\n        }\n\n        var parent_1 = ol;\n        var lastPopupItemIdx = this.startIndex + this.endIndex - this._maxItems;\n\n        if (this.overflowMode === 'Menu' && (j_1 >= this.startIndex && j_1 <= lastPopupItemIdx && (i % 2 ? !(j_1 === lastPopupItemIdx) : true) && this.endIndex >= this._maxItems && this._maxItems > 0 || this._maxItems === 0)) {\n          if (i % 2) {\n            continue;\n          } else {\n            parent_1 = this.popupUl;\n\n            if (isLastItem) {\n              isLastItemInPopup_1 = true;\n            }\n          }\n        } else if (this.overflowMode === 'Wrap') {\n          if (i === 0) {\n            parent_1 = firstOl;\n          } else {\n            parent_1 = wrapDiv;\n          }\n        }\n\n        var li = ListBase.createList(this.createElement, item, listBaseOptions, isSingleLevel, this).childNodes;\n\n        if (!isItemCancelled_1) {\n          append(li, parent_1);\n        } else if (isDefaultOverflowMode_1 || isCollasped || this.overflowMode === 'Menu' || this.overflowMode === 'Wrap') {\n          items.splice(j_1, 1);\n          this.initPvtProps();\n          return this.reRenderItems();\n        } else if (i === len - 1 || isLastItem) {\n          remove(parent_1.lastElementChild);\n        }\n\n        if (this.overflowMode === 'Wrap' && i !== 0 && i % 2 === 0) {\n          ol.appendChild(wrapDiv);\n        }\n\n        if (isCollasped && i === 1) {\n          var li_1 = this.createElement('li', {\n            className: 'e-icons e-breadcrumb-collapsed',\n            attrs: {\n              TABINDEX: '0'\n            }\n          });\n          EventHandler.add(li_1, 'keyup', this.expandHandler, this);\n          ol.appendChild(li_1);\n        }\n\n        if (this.overflowMode === 'Menu' && this.startIndex === i && this.endIndex >= this._maxItems && this._maxItems >= 0) {\n          var menu = this.getMenuElement();\n          EventHandler.add(menu, 'keyup', this.keyDownHandler, this);\n          ol.appendChild(menu);\n        }\n\n        if (isActiveItem || isLastItem) {\n          break;\n        }\n\n        if (isItemCancelled_1) {\n          i++;\n        }\n      }\n\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n\n      if (this.overflowMode === 'Wrap') {\n        this.element.appendChild(firstOl);\n      }\n\n      this.element.appendChild(ol);\n      this.calculateMaxItems();\n    }\n  };\n\n  Breadcrumb.prototype.calculateMaxItems = function () {\n    if (this.overflowMode === 'Hidden' || this.overflowMode === 'Collapsed' || this.overflowMode === 'Menu') {\n      var maxItems = void 0;\n      var width = this.element.offsetWidth;\n      var liElems = [].slice.call(this.element.children[0].children).reverse();\n      var liWidth = this.overflowMode === 'Menu' ? 0 : liElems[liElems.length - 1].offsetWidth + (liElems[liElems.length - 2] ? liElems[liElems.length - 2].offsetWidth : 0);\n\n      if (this.overflowMode === 'Menu') {\n        var menuEle = this.getMenuElement();\n        this.element.appendChild(menuEle);\n        liWidth += menuEle.offsetWidth;\n        remove(menuEle);\n      }\n\n      for (var i = 0; i < liElems.length - 2; i++) {\n        if (liWidth > width) {\n          maxItems = Math.ceil((i - 1) / 2) + (this.overflowMode === 'Menu' && i <= 2 ? 0 : 1);\n\n          if ((this.maxItems > maxItems && !(this.maxItems > -1 && maxItems == -1) || this.maxItems == -1) && this._maxItems != maxItems) {\n            this._maxItems = maxItems;\n            this.initPvtProps();\n            return this.reRenderItems();\n          } else {\n            break;\n          }\n        } else {\n          if (this.overflowMode === 'Menu' && i === 2) {\n            liWidth += liElems[liElems.length - 1].offsetWidth + liElems[liElems.length - 2].offsetWidth;\n\n            if (liWidth > width) {\n              this._maxItems = 1;\n              this.initPvtProps();\n              return this.reRenderItems();\n            }\n          }\n\n          if (!(this.overflowMode === 'Menu' && liElems[i].classList.contains(MENUCLASS))) {\n            liWidth += liElems[i].offsetWidth;\n          }\n        }\n      }\n    } else if ((this.overflowMode === 'Wrap' || this.overflowMode === 'Scroll') && this._maxItems > 0) {\n      var width = 0;\n      var liElems = this.element.querySelectorAll(DOT + ITEMCLASS);\n\n      if (liElems.length > this._maxItems + this._maxItems - 1) {\n        for (var i = this.overflowMode === 'Wrap' ? 1 : 0; i < this._maxItems + this._maxItems - 1; i++) {\n          width += liElems[i].offsetWidth;\n        }\n\n        width = width + 5 + parseInt(getComputedStyle(this.element.children[0]).paddingLeft, 10) * 2;\n\n        if (this.overflowMode === 'Wrap') {\n          this.element.querySelector('.e-breadcrumb-wrapped-ol').style.width = width + 'px';\n        } else {\n          this.element.style.width = width + 'px';\n        }\n      }\n    }\n  };\n\n  Breadcrumb.prototype.hasField = function (items, field) {\n    for (var i = 0, len = items.length; i < len; i++) {\n      if (items[i][field]) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  Breadcrumb.prototype.getMenuElement = function () {\n    return this.createElement('li', {\n      className: 'e-icons e-breadcrumb-menu',\n      attrs: {\n        TABINDEX: '0'\n      }\n    });\n  };\n\n  Breadcrumb.prototype.beforeItemRenderChanges = function (prevItem, currItem, elem, isRightIcon) {\n    var wrapElem = elem.querySelector('.e-anchor-wrap');\n\n    if (currItem.text !== prevItem.text) {\n      wrapElem.childNodes.forEach(function (child) {\n        if (child.nodeType === Node.TEXT_NODE) {\n          child.textContent = currItem.text;\n        }\n      });\n    }\n\n    if (currItem.iconCss !== prevItem.iconCss && wrapElem) {\n      // wrapElem - for checking it is item not a separator\n      var iconElem = elem.querySelector(DOT + ICONCLASS);\n\n      if (iconElem) {\n        if (currItem.iconCss) {\n          removeClass([iconElem], prevItem.iconCss.split(' '));\n          addClass([iconElem], currItem.iconCss.split(' '));\n        } else {\n          remove(iconElem);\n        }\n      } else if (currItem.iconCss) {\n        var iconElem_1 = this.createElement('span', {\n          className: ICONCLASS + ' ' + currItem.iconCss\n        });\n\n        if (isRightIcon) {\n          append([iconElem_1], wrapElem);\n        } else {\n          wrapElem.insertBefore(iconElem_1, wrapElem.childNodes[0]);\n        }\n      }\n    }\n\n    if (currItem.url !== prevItem.url && this.enableNavigation) {\n      var anchor = elem.querySelector('a.' + ITEMTEXTCLASS);\n\n      if (anchor) {\n        if (currItem.url) {\n          anchor.setAttribute('href', currItem.url);\n        } else {\n          anchor.removeAttribute('href');\n        }\n      }\n    }\n  };\n\n  Breadcrumb.prototype.reRenderItems = function () {\n    this.element.innerHTML = '';\n    this.renderItems(this.items);\n  };\n\n  Breadcrumb.prototype.clickHandler = function (e) {\n    var li = closest(e.target, DOT + ITEMCLASS + ':not(.e-breadcrumb-separator)');\n\n    if (!this.enableNavigation) {\n      e.preventDefault();\n    }\n\n    if (li && (closest(e.target, DOT + ITEMTEXTCLASS) || this.itemTemplate)) {\n      var idx = void 0;\n\n      if (this.overflowMode === 'Wrap') {\n        idx = [].slice.call(this.element.querySelectorAll(DOT + ITEMCLASS)).indexOf(li);\n      } else {\n        idx = [].slice.call(li.parentElement.children).indexOf(li);\n      }\n\n      if (this.overflowMode === 'Menu') {\n        if (closest(e.target, DOT + POPUPCLASS)) {\n          idx += this.startIndex;\n          this.endIndex = idx;\n\n          if (e.type === 'keydown') {\n            this.documentClickHandler(e);\n          }\n        } else if (this.element.querySelector(DOT + MENUCLASS)) {\n          if (idx > [].slice.call(this.element.children[0].children).indexOf(this.element.querySelector(DOT + MENUCLASS))) {\n            idx += this.popupUl.childElementCount * 2 - 2;\n            idx = Math.floor(idx / 2);\n            this.endIndex = idx;\n          } else {\n            this.startIndex = this.endIndex = idx;\n          }\n        } else {\n          idx = Math.floor(idx / 2);\n          this.startIndex = this.endIndex = idx;\n        }\n      } else {\n        idx = Math.floor(idx / 2);\n      }\n\n      if (this.overflowMode === 'Hidden' && this._maxItems > 0 && this.endIndex !== 0) {\n        idx = parseInt(li.getAttribute('item-index'), 10);\n\n        if (this.startIndex > 1) {\n          this.startIndex -= this.endIndex - idx;\n        }\n\n        this.endIndex = idx;\n      }\n\n      this.trigger('itemClick', {\n        element: li,\n        item: this.items[idx],\n        event: e\n      });\n      this.activeItem = this.items[idx].url || this.items[idx].text;\n      this.dataBind();\n    }\n\n    if (e.target.classList.contains('e-breadcrumb-collapsed')) {\n      this.isExpanded = true;\n      this.reRenderItems();\n    }\n\n    if (e.target.classList.contains(MENUCLASS)) {\n      this.renderPopup();\n    }\n  };\n\n  Breadcrumb.prototype.renderPopup = function () {\n    var _this = this;\n\n    var wrapper = this.createElement('div', {\n      className: POPUPCLASS + ' ' + this.cssClass + (this.enableRtl ? ' e-rtl' : '')\n    });\n    document.body.appendChild(wrapper);\n    this.popupObj = new Popup(wrapper, {\n      content: this.popupUl,\n      relateTo: this.element.querySelector(DOT + MENUCLASS),\n      enableRtl: this.enableRtl,\n      position: {\n        X: 'left',\n        Y: 'bottom'\n      },\n      collision: {\n        X: 'fit',\n        Y: 'flip'\n      },\n      open: function () {\n        _this.popupUl.focus();\n      }\n    });\n    this.popupWireEvents();\n    this.popupObj.show();\n  };\n\n  Breadcrumb.prototype.documentClickHandler = function (e) {\n    if (this.overflowMode === 'Menu' && this.popupObj && this.popupObj.element.classList.contains('e-popup-open') && !closest(e.target, DOT + MENUCLASS)) {\n      this.popupObj.hide();\n      this.popupObj.destroy();\n      detach(this.popupObj.element);\n    }\n  };\n\n  Breadcrumb.prototype.resize = function () {\n    this._maxItems = this.maxItems;\n    this.initPvtProps();\n    this.reRenderItems();\n  };\n\n  Breadcrumb.prototype.expandHandler = function (e) {\n    if (e.key === 'Enter') {\n      this.isExpanded = true;\n      this.reRenderItems();\n    }\n  };\n\n  Breadcrumb.prototype.keyDownHandler = function (e) {\n    if (e.key === 'Enter') {\n      this.clickHandler(e);\n    }\n  };\n\n  Breadcrumb.prototype.popupKeyDownHandler = function (e) {\n    if (e.key === 'Escape') {\n      this.documentClickHandler(e);\n    }\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @private\n   * @param {BreadcrumbModel} newProp - Specifies the new properties.\n   * @param {BreadcrumbModel} oldProp - Specifies the old properties.\n   * @returns {void}\n   */\n\n\n  Breadcrumb.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'items':\n        case 'enableActiveItemNavigation':\n          this.reRenderItems();\n          break;\n\n        case 'activeItem':\n          this._maxItems = this.maxItems;\n          this.initPvtProps();\n          this.reRenderItems();\n          break;\n\n        case 'overflowMode':\n        case 'maxItems':\n          this._maxItems = this.maxItems;\n          this.initPvtProps();\n          this.reRenderItems();\n\n          if (oldProp.overflowMode === 'Wrap') {\n            this.element.classList.remove(WRAPMODECLASS);\n          } else if (newProp.overflowMode === 'Wrap') {\n            this.element.classList.add(WRAPMODECLASS);\n          }\n\n          if (oldProp.overflowMode === 'Scroll') {\n            this.element.classList.remove(SCROLLMODECLASS);\n          } else if (newProp.overflowMode === 'Scroll') {\n            this.element.classList.add(SCROLLMODECLASS);\n          }\n\n          break;\n\n        case 'url':\n          this.initItems();\n          this.reRenderItems();\n          break;\n\n        case 'cssClass':\n          if (oldProp.cssClass) {\n            removeClass([this.element], oldProp.cssClass.split(' '));\n          }\n\n          if (newProp.cssClass) {\n            addClass([this.element], newProp.cssClass.split(' '));\n          }\n\n          if (oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1 && !(newProp.cssClass && newProp.cssClass.indexOf(ICONRIGHT) > -1) || !(oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1) && newProp.cssClass && newProp.cssClass.indexOf(ICONRIGHT) > -1) {\n            this.reRenderItems();\n          }\n\n          break;\n\n        case 'enableRtl':\n          this.element.classList.toggle('e-rtl');\n          break;\n\n        case 'disabled':\n          this.element.classList.toggle(DISABLEDCLASS);\n          this.element.setAttribute(ARIADISABLED, newProp.disabled + '');\n          break;\n      }\n    }\n  };\n\n  Breadcrumb.prototype.wireEvents = function () {\n    this.delegateClickHanlder = this.documentClickHandler.bind(this);\n    EventHandler.add(document, 'click', this.delegateClickHanlder, this);\n    EventHandler.add(this.element, 'click', this.clickHandler, this);\n    window.addEventListener('resize', this.resize.bind(this));\n  };\n\n  Breadcrumb.prototype.popupWireEvents = function () {\n    EventHandler.add(this.popupObj.element, 'click', this.clickHandler, this);\n    EventHandler.add(this.popupObj.element, 'keydown', this.popupKeyDownHandler, this);\n  };\n\n  Breadcrumb.prototype.unWireEvents = function () {\n    EventHandler.remove(document, 'click', this.delegateClickHanlder);\n    EventHandler.remove(this.element, 'click', this.clickHandler);\n    window.removeEventListener('resize', this.resize.bind(this));\n\n    if (this.popupObj) {\n      EventHandler.remove(this.popupObj.element, 'click', this.clickHandler);\n      EventHandler.remove(this.popupObj.element, 'keydown', this.popupKeyDownHandler);\n    }\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string} - Persist data\n   */\n\n\n  Breadcrumb.prototype.getPersistData = function () {\n    return this.addOnPersist(['activeItem']);\n  };\n  /**\n   * Get module name.\n   *\n   * @private\n   * @returns {string} - Module Name\n   */\n\n\n  Breadcrumb.prototype.getModuleName = function () {\n    return 'breadcrumb';\n  };\n  /**\n   * Destroys the widget.\n   *\n   * @returns {void}\n   */\n\n\n  Breadcrumb.prototype.destroy = function () {\n    var _this = this;\n\n    var classes = [];\n    var attributes = ['aria-label'];\n\n    if (this.cssClass) {\n      classes.concat(this.cssClass.split(' '));\n    }\n\n    if (this.enableRtl) {\n      classes.push('e-rtl');\n    }\n\n    if (this.disabled) {\n      classes.push(DISABLEDCLASS);\n      attributes.push(ARIADISABLED);\n    }\n\n    if (this.overflowMode === 'Wrap') {\n      classes.push(WRAPMODECLASS);\n    } else if (this.overflowMode === 'Scroll') {\n      classes.push(SCROLLMODECLASS);\n    }\n\n    this.unWireEvents();\n    this.element.innerHTML = '';\n    removeClass([this.element], classes);\n    attributes.forEach(function (attribute) {\n      _this.element.removeAttribute(attribute);\n    });\n\n    _super.prototype.destroy.call(this);\n  };\n\n  __decorate([Property('')], Breadcrumb.prototype, \"url\", void 0);\n\n  __decorate([Collection([], BreadcrumbItem)], Breadcrumb.prototype, \"items\", void 0);\n\n  __decorate([Property('')], Breadcrumb.prototype, \"activeItem\", void 0);\n\n  __decorate([Property(-1)], Breadcrumb.prototype, \"maxItems\", void 0);\n\n  __decorate([Property('Menu')], Breadcrumb.prototype, \"overflowMode\", void 0);\n\n  __decorate([Property('')], Breadcrumb.prototype, \"cssClass\", void 0);\n\n  __decorate([Property(null)], Breadcrumb.prototype, \"itemTemplate\", void 0);\n\n  __decorate([Property('/')], Breadcrumb.prototype, \"separatorTemplate\", void 0);\n\n  __decorate([Property(true)], Breadcrumb.prototype, \"enableNavigation\", void 0);\n\n  __decorate([Property(false)], Breadcrumb.prototype, \"enableActiveItemNavigation\", void 0);\n\n  __decorate([Property(false)], Breadcrumb.prototype, \"disabled\", void 0);\n\n  __decorate([Property('')], Breadcrumb.prototype, \"locale\", void 0);\n\n  __decorate([Event()], Breadcrumb.prototype, \"beforeItemRender\", void 0);\n\n  __decorate([Event()], Breadcrumb.prototype, \"itemClick\", void 0);\n\n  __decorate([Event()], Breadcrumb.prototype, \"created\", void 0);\n\n  Breadcrumb = __decorate([NotifyPropertyChanges], Breadcrumb);\n  return Breadcrumb;\n}(Component);\n\nexport { Breadcrumb };","map":{"version":3,"sources":["C:/Users/nvtung/Các project thực hiện/RubyGYM-master_test_2/client/node_modules/@syncfusion/ej2-navigations/src/breadcrumb/breadcrumb.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","NotifyPropertyChanges","ChildProperty","Property","Collection","append","extend","Event","EventHandler","closest","addClass","removeClass","detach","remove","ListBase","Popup","ICONRIGHT","ITEMTEXTCLASS","ICONCLASS","MENUCLASS","ITEMCLASS","POPUPCLASS","WRAPMODECLASS","SCROLLMODECLASS","TABINDEX","DISABLEDCLASS","ARIADISABLED","DOT","BreadcrumbItem","_super","apply","Breadcrumb","options","element","call","preRender","render","initialize","renderItems","items","wireEvents","_maxItems","maxItems","setAttribute","cssClass","split","enableRtl","classList","add","disabled","overflowMode","initItems","initPvtProps","endIndex","getEndIndex","startIndex","popupUl","createElement","attrs","_this","activeItem","forEach","item","idx","url","text","baseUri","uri","URL","window","location","origin","href","push","iconCss","setProperties","isSingleLevel","isIconRight","contains","itemsLength","isActiveItem","isLastItem","isLastItemInPopup_1","j_1","wrapDiv","len","isItemCancelled_1","ol","className","firstOl","showIcon","hasField","isCollasped","isExpanded","isDefaultOverflowMode_1","innerHTML","listBaseOptions","moduleName","getModuleName","itemNavigable","itemCreated","args","curData","children","itemTemplate","enableActiveItemNavigation","outerHTML","toString","eventArgs","properties","cancel","trigger","containsRightIcon","querySelector","appendChild","isEmptyUrl","removeAttribute","keyDownHandler","beforeItemRenderChanges","template","separatorTemplate","itemClass","previousItem","nextItem","parent_1","lastPopupItemIdx","li","createList","childNodes","splice","reRenderItems","lastElementChild","li_1","expandHandler","menu","getMenuElement","isReact","renderReactTemplates","calculateMaxItems","width","offsetWidth","liElems","slice","reverse","liWidth","menuEle","Math","ceil","querySelectorAll","parseInt","getComputedStyle","paddingLeft","style","field","prevItem","currItem","elem","isRightIcon","wrapElem","child","nodeType","Node","TEXT_NODE","textContent","iconElem","iconElem_1","insertBefore","enableNavigation","anchor","clickHandler","e","preventDefault","indexOf","parentElement","type","documentClickHandler","childElementCount","floor","getAttribute","event","dataBind","renderPopup","wrapper","document","body","popupObj","content","relateTo","position","X","Y","collision","open","focus","popupWireEvents","show","hide","destroy","resize","popupKeyDownHandler","onPropertyChanged","newProp","oldProp","_i","_a","keys","prop","toggle","delegateClickHanlder","bind","addEventListener","unWireEvents","removeEventListener","getPersistData","addOnPersist","classes","attributes","concat","attribute"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, NotifyPropertyChanges, ChildProperty, Property, Collection, append, extend, Event, EventHandler, closest, addClass, removeClass, detach, remove } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { Popup } from '@syncfusion/ej2-popups';\nvar ICONRIGHT = 'e-icon-right';\nvar ITEMTEXTCLASS = 'e-breadcrumb-text';\nvar ICONCLASS = 'e-breadcrumb-icon';\nvar MENUCLASS = 'e-breadcrumb-menu';\nvar ITEMCLASS = 'e-breadcrumb-item';\nvar POPUPCLASS = 'e-breadcrumb-popup';\nvar WRAPMODECLASS = 'e-breadcrumb-wrap-mode';\nvar SCROLLMODECLASS = 'e-breadcrumb-scroll-mode';\nvar TABINDEX = 'tabindex';\nvar DISABLEDCLASS = 'e-disabled';\nvar ARIADISABLED = 'aria-disabled';\nvar DOT = '.';\nvar BreadcrumbItem = /** @class */ (function (_super) {\n    __extends(BreadcrumbItem, _super);\n    function BreadcrumbItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], BreadcrumbItem.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], BreadcrumbItem.prototype, \"url\", void 0);\n    __decorate([\n        Property(null)\n    ], BreadcrumbItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], BreadcrumbItem.prototype, \"disabled\", void 0);\n    return BreadcrumbItem;\n}(ChildProperty));\nexport { BreadcrumbItem };\n/**\n * Breadcrumb is a graphical user interface that helps to identify or highlight the current location within a hierarchical structure of websites.\n * The aim is to make the user aware of their current position in a hierarchy of website links.\n * ```html\n * <nav id='breadcrumb'></nav>\n * ```\n * ```typescript\n * <script>\n * var breadcrumbObj = new Breadcrumb({ items: [{ text: 'Home', url: '/' }, { text: 'Index', url: './index.html }]});\n * breadcrumbObj.appendTo(\"#breadcrumb\");\n * </script>\n * ```\n */\nvar Breadcrumb = /** @class */ (function (_super) {\n    __extends(Breadcrumb, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @private\n     * @param {BreadcrumbModel} options - Specifies the Breadcrumb model.\n     * @param {string | HTMLElement} element - Specifies the element.\n     */\n    function Breadcrumb(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * @private\n     * @returns {void}\n     */\n    Breadcrumb.prototype.preRender = function () {\n        // pre render code\n    };\n    /**\n     * Initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    Breadcrumb.prototype.render = function () {\n        this.initialize();\n        this.renderItems(this.items);\n        this.wireEvents();\n    };\n    Breadcrumb.prototype.initialize = function () {\n        this._maxItems = this.maxItems;\n        this.element.setAttribute('aria-label', 'breadcrumb');\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        if (this.disabled) {\n            this.element.classList.add(DISABLEDCLASS);\n            this.element.setAttribute(ARIADISABLED, 'true');\n        }\n        if (this.overflowMode === 'Wrap') {\n            this.element.classList.add(WRAPMODECLASS);\n        }\n        else if (this.overflowMode === 'Scroll') {\n            this.element.classList.add(SCROLLMODECLASS);\n        }\n        this.initItems();\n        this.initPvtProps();\n    };\n    Breadcrumb.prototype.initPvtProps = function () {\n        if (this.overflowMode === 'Hidden' && this._maxItems > 0) {\n            this.endIndex = this.getEndIndex();\n            this.startIndex = this.endIndex + 1 - (this._maxItems - 1);\n        }\n        if (this.overflowMode === 'Menu') {\n            if (this._maxItems >= 0) {\n                this.startIndex = this._maxItems > 1 ? 1 : 0;\n                this.endIndex = this.getEndIndex();\n                this.popupUl = this.createElement('ul', { attrs: { TABINDEX: '0', 'role': 'menu' } });\n            }\n            else {\n                this.startIndex = this.endIndex = null;\n            }\n        }\n    };\n    Breadcrumb.prototype.getEndIndex = function () {\n        var _this = this;\n        var endIndex;\n        if (this.activeItem) {\n            this.items.forEach(function (item, idx) {\n                if (item.url === _this.activeItem || item.text === _this.activeItem) {\n                    endIndex = idx;\n                }\n            });\n        }\n        else {\n            endIndex = this.items.length - 1;\n        }\n        return endIndex;\n    };\n    Breadcrumb.prototype.initItems = function () {\n        if (!this.items.length) {\n            var baseUri = void 0;\n            var uri = void 0;\n            var items = [];\n            if (this.url) {\n                var url = new URL(this.url, window.location.origin);\n                baseUri = url.origin + '/';\n                uri = url.href.split(baseUri)[1].split('/');\n            }\n            else {\n                baseUri = window.location.origin + '/';\n                uri = window.location.href.split(baseUri)[1].split('/');\n            }\n            items.push({ iconCss: 'e-icons e-home', url: baseUri });\n            for (var i = 0; i < uri.length; i++) {\n                if (uri[i]) {\n                    items.push({ text: uri[i], url: baseUri + uri[i] });\n                    baseUri += uri[i] + '/';\n                }\n            }\n            this.setProperties({ items: items }, true);\n        }\n    };\n    Breadcrumb.prototype.renderItems = function (items) {\n        var _this = this;\n        var item;\n        var isSingleLevel;\n        var isIconRight = this.element.classList.contains(ICONRIGHT);\n        var itemsLength = items.length;\n        if (itemsLength) {\n            var isActiveItem = void 0;\n            var isLastItem = void 0;\n            var isLastItemInPopup_1;\n            var j_1 = 0;\n            var wrapDiv = void 0;\n            var len = (itemsLength * 2) - 1;\n            var isItemCancelled_1 = false;\n            var ol = this.createElement('ol', { className: this.overflowMode === 'Wrap' ? 'e-breadcrumb-wrapped-ol' : '' });\n            var firstOl = this.createElement('ol', { className: this.overflowMode === 'Wrap' ? 'e-breadcrumb-first-ol' : '' });\n            var showIcon = this.hasField(items, 'iconCss');\n            var isCollasped = (this.overflowMode === 'Collapsed' && this._maxItems > 0 && itemsLength > this._maxItems && !this.isExpanded);\n            var isDefaultOverflowMode_1 = (this.overflowMode === 'Hidden' && this._maxItems > 0);\n            if (this.overflowMode === 'Menu' && this.popupUl) {\n                this.popupUl.innerHTML = '';\n            }\n            var listBaseOptions = {\n                moduleName: this.getModuleName(),\n                showIcon: showIcon,\n                itemNavigable: true,\n                itemCreated: function (args) {\n                    var isLastItem = args.curData.isLastItem;\n                    if (isLastItem && args.item.children.length && !_this.itemTemplate) {\n                        delete args.curData.isLastItem;\n                        if (!isLastItemInPopup_1 && !_this.enableActiveItemNavigation) {\n                            args.item.innerHTML = _this.createElement('span', { className: ITEMTEXTCLASS, innerHTML: args.item.children[0].innerHTML }).outerHTML;\n                        }\n                    }\n                    if (args.curData.iconCss && !args.curData.text && !_this.itemTemplate) {\n                        args.item.classList.add('e-icon-item');\n                    }\n                    if (isDefaultOverflowMode_1) {\n                        args.item.setAttribute('item-index', j_1.toString());\n                    }\n                    var eventArgs = {\n                        item: extend({}, args.curData.properties ?\n                            args.curData.properties : args.curData), element: args.item, cancel: false\n                    };\n                    _this.trigger('beforeItemRender', eventArgs);\n                    isItemCancelled_1 = eventArgs.cancel;\n                    var containsRightIcon = (isIconRight || eventArgs.element.classList.contains(ICONRIGHT));\n                    if (containsRightIcon && args.curData.iconCss && !_this.itemTemplate) {\n                        args.item.querySelector('.e-anchor-wrap').appendChild(args.item.querySelector(DOT + ICONCLASS));\n                    }\n                    if (eventArgs.item.disabled) {\n                        args.item.setAttribute(ARIADISABLED, 'true');\n                        args.item.classList.add(DISABLEDCLASS);\n                    }\n                    if ((eventArgs.item.disabled || _this.disabled) && args.item.children.length && !_this.itemTemplate) {\n                        args.item.children[0].setAttribute(TABINDEX, '-1');\n                    }\n                    if (args.curData.isEmptyUrl) {\n                        args.item.children[0].removeAttribute('href');\n                        if ((!isLastItem || (isLastItem && _this.enableActiveItemNavigation)) && !(eventArgs.item.disabled || _this.disabled)) {\n                            args.item.children[0].setAttribute(TABINDEX, '0');\n                            EventHandler.add(args.item.children[0], 'keydown', _this.keyDownHandler, _this);\n                        }\n                    }\n                    if (isLastItem) {\n                        args.item.setAttribute('data-active-item', '');\n                    }\n                    if (!_this.itemTemplate) {\n                        _this.beforeItemRenderChanges(args.curData, eventArgs.item, args.item, containsRightIcon);\n                    }\n                }\n            };\n            for (var i = 0; i < len; (i % 2 && j_1++), i++) {\n                isActiveItem = (this.activeItem && (this.activeItem === items[j_1].url || this.activeItem === items[j_1].text));\n                if (isCollasped && i > 1 && i < len - 2) {\n                    continue;\n                }\n                else if (isDefaultOverflowMode_1 && ((j_1 < this.startIndex || j_1 > this.endIndex)\n                    && (i % 2 ? j_1 !== this.startIndex - 1 : true)) && j_1 !== 0) {\n                    continue;\n                }\n                if (i % 2) {\n                    // separator item\n                    wrapDiv = this.createElement('div', { className: 'e-breadcrumb-item-wrapper' });\n                    listBaseOptions.template = this.separatorTemplate ? this.separatorTemplate : '/';\n                    listBaseOptions.itemClass = 'e-breadcrumb-separator';\n                    isSingleLevel = false;\n                    item = [{ previousItem: items[j_1], nextItem: items[j_1 + 1] }];\n                }\n                else {\n                    // list item\n                    listBaseOptions.itemClass = '';\n                    if (this.itemTemplate) {\n                        listBaseOptions.template = this.itemTemplate;\n                        isSingleLevel = false;\n                    }\n                    else {\n                        isSingleLevel = true;\n                    }\n                    item = [extend({}, items[j_1].properties ? items[j_1].properties\n                            : items[j_1])];\n                    if (!item[0].url && !this.itemTemplate) {\n                        item = [extend({}, item[0], { isEmptyUrl: true, url: '#' })];\n                    }\n                    isLastItem = (isDefaultOverflowMode_1 || this.overflowMode === 'Menu') && (j_1 === this.endIndex);\n                    if (((i === len - 1 || isLastItem) && !this.itemTemplate) || isActiveItem) {\n                        item[0].isLastItem = true;\n                    }\n                }\n                var parent_1 = ol;\n                var lastPopupItemIdx = this.startIndex + this.endIndex - this._maxItems;\n                if (this.overflowMode === 'Menu' && ((j_1 >= this.startIndex && (j_1 <= lastPopupItemIdx && (i % 2 ? !(j_1 === lastPopupItemIdx) : true)) && this.endIndex >= this._maxItems && this._maxItems > 0) || this._maxItems === 0)) {\n                    if (i % 2) {\n                        continue;\n                    }\n                    else {\n                        parent_1 = this.popupUl;\n                        if (isLastItem) {\n                            isLastItemInPopup_1 = true;\n                        }\n                    }\n                }\n                else if (this.overflowMode === 'Wrap') {\n                    if (i === 0) {\n                        parent_1 = firstOl;\n                    }\n                    else {\n                        parent_1 = wrapDiv;\n                    }\n                }\n                var li = ListBase.createList(this.createElement, item, listBaseOptions, isSingleLevel, this).childNodes;\n                if (!isItemCancelled_1) {\n                    append(li, parent_1);\n                }\n                else if (isDefaultOverflowMode_1 || isCollasped || this.overflowMode === 'Menu' || this.overflowMode === 'Wrap') {\n                    items.splice(j_1, 1);\n                    this.initPvtProps();\n                    return this.reRenderItems();\n                }\n                else if ((i === len - 1 || isLastItem)) {\n                    remove(parent_1.lastElementChild);\n                }\n                if (this.overflowMode === 'Wrap' && i !== 0 && i % 2 === 0) {\n                    ol.appendChild(wrapDiv);\n                }\n                if (isCollasped && i === 1) {\n                    var li_1 = this.createElement('li', { className: 'e-icons e-breadcrumb-collapsed', attrs: { TABINDEX: '0' } });\n                    EventHandler.add(li_1, 'keyup', this.expandHandler, this);\n                    ol.appendChild(li_1);\n                }\n                if (this.overflowMode === 'Menu' && this.startIndex === i && this.endIndex >= this._maxItems && this._maxItems >= 0) {\n                    var menu = this.getMenuElement();\n                    EventHandler.add(menu, 'keyup', this.keyDownHandler, this);\n                    ol.appendChild(menu);\n                }\n                if (isActiveItem || isLastItem) {\n                    break;\n                }\n                if (isItemCancelled_1) {\n                    i++;\n                }\n            }\n            if (this.isReact) {\n                this.renderReactTemplates();\n            }\n            if (this.overflowMode === 'Wrap') {\n                this.element.appendChild(firstOl);\n            }\n            this.element.appendChild(ol);\n            this.calculateMaxItems();\n        }\n    };\n    Breadcrumb.prototype.calculateMaxItems = function () {\n        if (this.overflowMode === 'Hidden' || this.overflowMode === 'Collapsed' || this.overflowMode === 'Menu') {\n            var maxItems = void 0;\n            var width = this.element.offsetWidth;\n            var liElems = [].slice.call(this.element.children[0].children).reverse();\n            var liWidth = this.overflowMode === 'Menu' ? 0 : liElems[liElems.length - 1].offsetWidth + (liElems[liElems.length - 2] ? liElems[liElems.length - 2].offsetWidth : 0);\n            if (this.overflowMode === 'Menu') {\n                var menuEle = this.getMenuElement();\n                this.element.appendChild(menuEle);\n                liWidth += menuEle.offsetWidth;\n                remove(menuEle);\n            }\n            for (var i = 0; i < liElems.length - 2; i++) {\n                if (liWidth > width) {\n                    maxItems = Math.ceil((i - 1) / 2) + ((this.overflowMode === 'Menu' && i <= 2) ? 0 : 1);\n                    if (((this.maxItems > maxItems && !(this.maxItems > -1 && maxItems == -1)) || this.maxItems == -1) && this._maxItems != maxItems) {\n                        this._maxItems = maxItems;\n                        this.initPvtProps();\n                        return this.reRenderItems();\n                    }\n                    else {\n                        break;\n                    }\n                }\n                else {\n                    if (this.overflowMode === 'Menu' && i === 2) {\n                        liWidth += liElems[liElems.length - 1].offsetWidth + liElems[liElems.length - 2].offsetWidth;\n                        if (liWidth > width) {\n                            this._maxItems = 1;\n                            this.initPvtProps();\n                            return this.reRenderItems();\n                        }\n                    }\n                    if (!(this.overflowMode === 'Menu' && liElems[i].classList.contains(MENUCLASS))) {\n                        liWidth += liElems[i].offsetWidth;\n                    }\n                }\n            }\n        }\n        else if ((this.overflowMode === 'Wrap' || this.overflowMode === 'Scroll') && this._maxItems > 0) {\n            var width = 0;\n            var liElems = this.element.querySelectorAll(DOT + ITEMCLASS);\n            if (liElems.length > this._maxItems + this._maxItems - 1) {\n                for (var i = this.overflowMode === 'Wrap' ? 1 : 0; i < this._maxItems + this._maxItems - 1; i++) {\n                    width += liElems[i].offsetWidth;\n                }\n                width = width + 5 + (parseInt(getComputedStyle(this.element.children[0]).paddingLeft, 10) * 2);\n                if (this.overflowMode === 'Wrap') {\n                    this.element.querySelector('.e-breadcrumb-wrapped-ol').style.width = width + 'px';\n                }\n                else {\n                    this.element.style.width = width + 'px';\n                }\n            }\n        }\n    };\n    Breadcrumb.prototype.hasField = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Breadcrumb.prototype.getMenuElement = function () {\n        return this.createElement('li', { className: 'e-icons e-breadcrumb-menu', attrs: { TABINDEX: '0' } });\n    };\n    Breadcrumb.prototype.beforeItemRenderChanges = function (prevItem, currItem, elem, isRightIcon) {\n        var wrapElem = elem.querySelector('.e-anchor-wrap');\n        if (currItem.text !== prevItem.text) {\n            wrapElem.childNodes.forEach(function (child) {\n                if (child.nodeType === Node.TEXT_NODE) {\n                    child.textContent = currItem.text;\n                }\n            });\n        }\n        if (currItem.iconCss !== prevItem.iconCss && wrapElem) { // wrapElem - for checking it is item not a separator\n            var iconElem = elem.querySelector(DOT + ICONCLASS);\n            if (iconElem) {\n                if (currItem.iconCss) {\n                    removeClass([iconElem], prevItem.iconCss.split(' '));\n                    addClass([iconElem], currItem.iconCss.split(' '));\n                }\n                else {\n                    remove(iconElem);\n                }\n            }\n            else if (currItem.iconCss) {\n                var iconElem_1 = this.createElement('span', { className: ICONCLASS + ' ' + currItem.iconCss });\n                if (isRightIcon) {\n                    append([iconElem_1], wrapElem);\n                }\n                else {\n                    wrapElem.insertBefore(iconElem_1, wrapElem.childNodes[0]);\n                }\n            }\n        }\n        if (currItem.url !== prevItem.url && this.enableNavigation) {\n            var anchor = elem.querySelector('a.' + ITEMTEXTCLASS);\n            if (anchor) {\n                if (currItem.url) {\n                    anchor.setAttribute('href', currItem.url);\n                }\n                else {\n                    anchor.removeAttribute('href');\n                }\n            }\n        }\n    };\n    Breadcrumb.prototype.reRenderItems = function () {\n        this.element.innerHTML = '';\n        this.renderItems(this.items);\n    };\n    Breadcrumb.prototype.clickHandler = function (e) {\n        var li = closest(e.target, DOT + ITEMCLASS + ':not(.e-breadcrumb-separator)');\n        if (!this.enableNavigation) {\n            e.preventDefault();\n        }\n        if (li && (closest(e.target, DOT + ITEMTEXTCLASS) || this.itemTemplate)) {\n            var idx = void 0;\n            if (this.overflowMode === 'Wrap') {\n                idx = [].slice.call(this.element.querySelectorAll(DOT + ITEMCLASS)).indexOf(li);\n            }\n            else {\n                idx = [].slice.call(li.parentElement.children).indexOf(li);\n            }\n            if (this.overflowMode === 'Menu') {\n                if (closest(e.target, DOT + POPUPCLASS)) {\n                    idx += this.startIndex;\n                    this.endIndex = idx;\n                    if (e.type === 'keydown') {\n                        this.documentClickHandler(e);\n                    }\n                }\n                else if (this.element.querySelector(DOT + MENUCLASS)) {\n                    if (idx > [].slice.call(this.element.children[0].children).indexOf(this.element.querySelector(DOT + MENUCLASS))) {\n                        idx += (this.popupUl.childElementCount * 2) - 2;\n                        idx = Math.floor(idx / 2);\n                        this.endIndex = idx;\n                    }\n                    else {\n                        this.startIndex = this.endIndex = idx;\n                    }\n                }\n                else {\n                    idx = Math.floor(idx / 2);\n                    this.startIndex = this.endIndex = idx;\n                }\n            }\n            else {\n                idx = Math.floor(idx / 2);\n            }\n            if (this.overflowMode === 'Hidden' && this._maxItems > 0 && this.endIndex !== 0) {\n                idx = parseInt(li.getAttribute('item-index'), 10);\n                if (this.startIndex > 1) {\n                    this.startIndex -= (this.endIndex - idx);\n                }\n                this.endIndex = idx;\n            }\n            this.trigger('itemClick', { element: li, item: this.items[idx], event: e });\n            this.activeItem = this.items[idx].url || this.items[idx].text;\n            this.dataBind();\n        }\n        if (e.target.classList.contains('e-breadcrumb-collapsed')) {\n            this.isExpanded = true;\n            this.reRenderItems();\n        }\n        if (e.target.classList.contains(MENUCLASS)) {\n            this.renderPopup();\n        }\n    };\n    Breadcrumb.prototype.renderPopup = function () {\n        var _this = this;\n        var wrapper = this.createElement('div', { className: POPUPCLASS + ' ' + this.cssClass + (this.enableRtl ? ' e-rtl' : '') });\n        document.body.appendChild(wrapper);\n        this.popupObj = new Popup(wrapper, {\n            content: this.popupUl,\n            relateTo: this.element.querySelector(DOT + MENUCLASS),\n            enableRtl: this.enableRtl,\n            position: { X: 'left', Y: 'bottom' },\n            collision: { X: 'fit', Y: 'flip' },\n            open: function () {\n                _this.popupUl.focus();\n            }\n        });\n        this.popupWireEvents();\n        this.popupObj.show();\n    };\n    Breadcrumb.prototype.documentClickHandler = function (e) {\n        if (this.overflowMode === 'Menu' && this.popupObj && this.popupObj.element.classList.contains('e-popup-open') && !closest(e.target, DOT + MENUCLASS)) {\n            this.popupObj.hide();\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n    };\n    Breadcrumb.prototype.resize = function () {\n        this._maxItems = this.maxItems;\n        this.initPvtProps();\n        this.reRenderItems();\n    };\n    Breadcrumb.prototype.expandHandler = function (e) {\n        if (e.key === 'Enter') {\n            this.isExpanded = true;\n            this.reRenderItems();\n        }\n    };\n    Breadcrumb.prototype.keyDownHandler = function (e) {\n        if (e.key === 'Enter') {\n            this.clickHandler(e);\n        }\n    };\n    Breadcrumb.prototype.popupKeyDownHandler = function (e) {\n        if (e.key === 'Escape') {\n            this.documentClickHandler(e);\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {BreadcrumbModel} newProp - Specifies the new properties.\n     * @param {BreadcrumbModel} oldProp - Specifies the old properties.\n     * @returns {void}\n     */\n    Breadcrumb.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                case 'enableActiveItemNavigation':\n                    this.reRenderItems();\n                    break;\n                case 'activeItem':\n                    this._maxItems = this.maxItems;\n                    this.initPvtProps();\n                    this.reRenderItems();\n                    break;\n                case 'overflowMode':\n                case 'maxItems':\n                    this._maxItems = this.maxItems;\n                    this.initPvtProps();\n                    this.reRenderItems();\n                    if (oldProp.overflowMode === 'Wrap') {\n                        this.element.classList.remove(WRAPMODECLASS);\n                    }\n                    else if (newProp.overflowMode === 'Wrap') {\n                        this.element.classList.add(WRAPMODECLASS);\n                    }\n                    if (oldProp.overflowMode === 'Scroll') {\n                        this.element.classList.remove(SCROLLMODECLASS);\n                    }\n                    else if (newProp.overflowMode === 'Scroll') {\n                        this.element.classList.add(SCROLLMODECLASS);\n                    }\n                    break;\n                case 'url':\n                    this.initItems();\n                    this.reRenderItems();\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    if ((oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1) && !(newProp.cssClass &&\n                        newProp.cssClass.indexOf(ICONRIGHT) > -1) || !(oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1) &&\n                        (newProp.cssClass && newProp.cssClass.indexOf(ICONRIGHT) > -1)) {\n                        this.reRenderItems();\n                    }\n                    break;\n                case 'enableRtl':\n                    this.element.classList.toggle('e-rtl');\n                    break;\n                case 'disabled':\n                    this.element.classList.toggle(DISABLEDCLASS);\n                    this.element.setAttribute(ARIADISABLED, newProp.disabled + '');\n                    break;\n            }\n        }\n    };\n    Breadcrumb.prototype.wireEvents = function () {\n        this.delegateClickHanlder = this.documentClickHandler.bind(this);\n        EventHandler.add(document, 'click', this.delegateClickHanlder, this);\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resize.bind(this));\n    };\n    Breadcrumb.prototype.popupWireEvents = function () {\n        EventHandler.add(this.popupObj.element, 'click', this.clickHandler, this);\n        EventHandler.add(this.popupObj.element, 'keydown', this.popupKeyDownHandler, this);\n    };\n    Breadcrumb.prototype.unWireEvents = function () {\n        EventHandler.remove(document, 'click', this.delegateClickHanlder);\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        window.removeEventListener('resize', this.resize.bind(this));\n        if (this.popupObj) {\n            EventHandler.remove(this.popupObj.element, 'click', this.clickHandler);\n            EventHandler.remove(this.popupObj.element, 'keydown', this.popupKeyDownHandler);\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    Breadcrumb.prototype.getPersistData = function () {\n        return this.addOnPersist(['activeItem']);\n    };\n    /**\n     * Get module name.\n     *\n     * @private\n     * @returns {string} - Module Name\n     */\n    Breadcrumb.prototype.getModuleName = function () {\n        return 'breadcrumb';\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    Breadcrumb.prototype.destroy = function () {\n        var _this = this;\n        var classes = [];\n        var attributes = ['aria-label'];\n        if (this.cssClass) {\n            classes.concat(this.cssClass.split(' '));\n        }\n        if (this.enableRtl) {\n            classes.push('e-rtl');\n        }\n        if (this.disabled) {\n            classes.push(DISABLEDCLASS);\n            attributes.push(ARIADISABLED);\n        }\n        if (this.overflowMode === 'Wrap') {\n            classes.push(WRAPMODECLASS);\n        }\n        else if (this.overflowMode === 'Scroll') {\n            classes.push(SCROLLMODECLASS);\n        }\n        this.unWireEvents();\n        this.element.innerHTML = '';\n        removeClass([this.element], classes);\n        attributes.forEach(function (attribute) {\n            _this.element.removeAttribute(attribute);\n        });\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Property('')\n    ], Breadcrumb.prototype, \"url\", void 0);\n    __decorate([\n        Collection([], BreadcrumbItem)\n    ], Breadcrumb.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], Breadcrumb.prototype, \"activeItem\", void 0);\n    __decorate([\n        Property(-1)\n    ], Breadcrumb.prototype, \"maxItems\", void 0);\n    __decorate([\n        Property('Menu')\n    ], Breadcrumb.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property('')\n    ], Breadcrumb.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], Breadcrumb.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('/')\n    ], Breadcrumb.prototype, \"separatorTemplate\", void 0);\n    __decorate([\n        Property(true)\n    ], Breadcrumb.prototype, \"enableNavigation\", void 0);\n    __decorate([\n        Property(false)\n    ], Breadcrumb.prototype, \"enableActiveItemNavigation\", void 0);\n    __decorate([\n        Property(false)\n    ], Breadcrumb.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], Breadcrumb.prototype, \"locale\", void 0);\n    __decorate([\n        Event()\n    ], Breadcrumb.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], Breadcrumb.prototype, \"itemClick\", void 0);\n    __decorate([\n        Event()\n    ], Breadcrumb.prototype, \"created\", void 0);\n    Breadcrumb = __decorate([\n        NotifyPropertyChanges\n    ], Breadcrumb);\n    return Breadcrumb;\n}(Component));\nexport { Breadcrumb };\n"]},"metadata":{},"sourceType":"module"}