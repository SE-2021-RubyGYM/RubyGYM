{"ast":null,"code":"/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport CKEditorError from '@ckeditor/ckeditor5-utils/src/ckeditorerror';\n/**\n * @module core/editor/utils/securesourceelement\n */\n\n/**\n * Marks the source element on which the editor was initialized. This prevents other editor instances from using this element.\n *\n * Running multiple editor instances on the same source element causes various issues and it is\n * crucial this helper is called as soon as the source element is known to prevent collisions.\n *\n * @param {module:core/editor/editor~Editor} editor Editor instance.\n */\n\nexport default function secureSourceElement(editor) {\n  const sourceElement = editor.sourceElement; // If the editor was initialized without specifying an element, we don't need to secure anything.\n\n  if (!sourceElement) {\n    return;\n  }\n\n  if (sourceElement.ckeditorInstance) {\n    /**\n     * A DOM element used to create the editor (e.g.\n     * {@link module:editor-inline/inlineeditor~InlineEditor.create `InlineEditor.create()`})\n     * has already been used to create another editor instance. Make sure each editor is\n     * created with an unique DOM element.\n     *\n     * @error editor-source-element-already-used\n     * @param {HTMLElement} element DOM element that caused the collision.\n     */\n    throw new CKEditorError('editor-source-element-already-used', editor);\n  }\n\n  sourceElement.ckeditorInstance = editor;\n  editor.once('destroy', () => {\n    delete sourceElement.ckeditorInstance;\n  });\n}","map":{"version":3,"sources":["D:/Project/nhap_mon_cnpm/my-app/node_modules/@ckeditor/ckeditor5-core/src/editor/utils/securesourceelement.js"],"names":["CKEditorError","secureSourceElement","editor","sourceElement","ckeditorInstance","once"],"mappings":"AAAA;AACA;AACA;AACA;AAEA,OAAOA,aAAP,MAA0B,6CAA1B;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,mBAAT,CAA8BC,MAA9B,EAAuC;AACrD,QAAMC,aAAa,GAAGD,MAAM,CAACC,aAA7B,CADqD,CAGrD;;AACA,MAAK,CAACA,aAAN,EAAsB;AACrB;AACA;;AAED,MAAKA,aAAa,CAACC,gBAAnB,EAAsC;AACrC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE,UAAM,IAAIJ,aAAJ,CACL,oCADK,EAELE,MAFK,CAAN;AAIA;;AAEDC,EAAAA,aAAa,CAACC,gBAAd,GAAiCF,MAAjC;AAEAA,EAAAA,MAAM,CAACG,IAAP,CAAa,SAAb,EAAwB,MAAM;AAC7B,WAAOF,aAAa,CAACC,gBAArB;AACA,GAFD;AAGA","sourcesContent":["/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\nimport CKEditorError from '@ckeditor/ckeditor5-utils/src/ckeditorerror';\n\n/**\n * @module core/editor/utils/securesourceelement\n */\n\n/**\n * Marks the source element on which the editor was initialized. This prevents other editor instances from using this element.\n *\n * Running multiple editor instances on the same source element causes various issues and it is\n * crucial this helper is called as soon as the source element is known to prevent collisions.\n *\n * @param {module:core/editor/editor~Editor} editor Editor instance.\n */\nexport default function secureSourceElement( editor ) {\n\tconst sourceElement = editor.sourceElement;\n\n\t// If the editor was initialized without specifying an element, we don't need to secure anything.\n\tif ( !sourceElement ) {\n\t\treturn;\n\t}\n\n\tif ( sourceElement.ckeditorInstance ) {\n\t\t/**\n\t\t * A DOM element used to create the editor (e.g.\n\t\t * {@link module:editor-inline/inlineeditor~InlineEditor.create `InlineEditor.create()`})\n\t\t * has already been used to create another editor instance. Make sure each editor is\n\t\t * created with an unique DOM element.\n\t\t *\n\t\t * @error editor-source-element-already-used\n\t\t * @param {HTMLElement} element DOM element that caused the collision.\n\t\t */\n\t\tthrow new CKEditorError(\n\t\t\t'editor-source-element-already-used',\n\t\t\teditor\n\t\t);\n\t}\n\n\tsourceElement.ckeditorInstance = editor;\n\n\teditor.once( 'destroy', () => {\n\t\tdelete sourceElement.ckeditorInstance;\n\t} );\n}\n"]},"metadata":{},"sourceType":"module"}