{"ast":null,"code":"/**\r\n * Copyright 2013-2015, Facebook, Inc.\r\n * All rights reserved.\r\n *\r\n * This source code is licensed under the BSD-style license found in the\r\n * LICENSE file in the root directory of this source tree. An additional grant\r\n * of patent rights can be found in the PATENTS file in the same directory.\r\n *\r\n * @providesModule ReactDOMInput\r\n */\n'use strict';\n\nvar ReactDOMIDOperations = require('./ReactDOMIDOperations');\n\nvar LinkedValueUtils = require('./LinkedValueUtils');\n\nvar ReactMount = require('./ReactMount');\n\nvar ReactUpdates = require('./ReactUpdates');\n\nvar assign = require('./Object.assign');\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar instancesByReactID = {};\n\nfunction forceUpdateIfMounted() {\n  if (this._rootNodeID) {\n    // DOM component is still mounted; update\n    ReactDOMInput.updateWrapper(this);\n  }\n}\n/**\r\n * Implements an <input> native component that allows setting these optional\r\n * props: `checked`, `value`, `defaultChecked`, and `defaultValue`.\r\n *\r\n * If `checked` or `value` are not supplied (or null/undefined), user actions\r\n * that affect the checked state or value will trigger updates to the element.\r\n *\r\n * If they are supplied (and not null/undefined), the rendered element will not\r\n * trigger updates to the element. Instead, the props must change in order for\r\n * the rendered element to be updated.\r\n *\r\n * The rendered element will be initialized as unchecked (or `defaultChecked`)\r\n * with an empty value (or `defaultValue`).\r\n *\r\n * @see http://www.w3.org/TR/2012/WD-html5-20121025/the-input-element.html\r\n */\n\n\nvar ReactDOMInput = {\n  getNativeProps: function (inst, props, context) {\n    var value = LinkedValueUtils.getValue(props);\n    var checked = LinkedValueUtils.getChecked(props);\n    var nativeProps = assign({}, props, {\n      defaultChecked: undefined,\n      defaultValue: undefined,\n      value: value != null ? value : inst._wrapperState.initialValue,\n      checked: checked != null ? checked : inst._wrapperState.initialChecked,\n      onChange: inst._wrapperState.onChange\n    });\n    return nativeProps;\n  },\n  mountWrapper: function (inst, props) {\n    if (process.env.NODE_ENV !== 'production') {\n      LinkedValueUtils.checkPropTypes('input', props, inst._currentElement._owner);\n    }\n\n    var defaultValue = props.defaultValue;\n    inst._wrapperState = {\n      initialChecked: props.defaultChecked || false,\n      initialValue: defaultValue != null ? defaultValue : null,\n      onChange: _handleChange.bind(inst)\n    };\n  },\n  mountReadyWrapper: function (inst) {\n    // Can't be in mountWrapper or else server rendering leaks.\n    instancesByReactID[inst._rootNodeID] = inst;\n  },\n  unmountWrapper: function (inst) {\n    delete instancesByReactID[inst._rootNodeID];\n  },\n  updateWrapper: function (inst) {\n    var props = inst._currentElement.props; // TODO: Shouldn't this be getChecked(props)?\n\n    var checked = props.checked;\n\n    if (checked != null) {\n      ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID, 'checked', checked || false);\n    }\n\n    var value = LinkedValueUtils.getValue(props);\n\n    if (value != null) {\n      // Cast `value` to a string to ensure the value is set correctly. While\n      // browsers typically do this as necessary, jsdom doesn't.\n      ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID, 'value', '' + value);\n    }\n  }\n};\n\nfunction _handleChange(event) {\n  var props = this._currentElement.props;\n  var returnValue = LinkedValueUtils.executeOnChange(props, event); // Here we use asap to wait until all updates have propagated, which\n  // is important when using controlled components within layers:\n  // https://github.com/facebook/react/issues/1698\n\n  ReactUpdates.asap(forceUpdateIfMounted, this);\n  var name = props.name;\n\n  if (props.type === 'radio' && name != null) {\n    var rootNode = ReactMount.getNode(this._rootNodeID);\n    var queryRoot = rootNode;\n\n    while (queryRoot.parentNode) {\n      queryRoot = queryRoot.parentNode;\n    } // If `rootNode.form` was non-null, then we could try `form.elements`,\n    // but that sometimes behaves strangely in IE8. We could also try using\n    // `form.getElementsByName`, but that will only return direct children\n    // and won't include inputs that use the HTML5 `form=` attribute. Since\n    // the input might not even be in a form, let's just use the global\n    // `querySelectorAll` to ensure we don't miss anything.\n\n\n    var group = queryRoot.querySelectorAll('input[name=' + JSON.stringify('' + name) + '][type=\"radio\"]');\n\n    for (var i = 0; i < group.length; i++) {\n      var otherNode = group[i];\n\n      if (otherNode === rootNode || otherNode.form !== rootNode.form) {\n        continue;\n      } // This will throw if radio buttons rendered by different copies of React\n      // and the same name are rendered into the same form (same as #1939).\n      // That's probably okay; we don't support it just as we don't support\n      // mixing React with non-React.\n\n\n      var otherID = ReactMount.getID(otherNode);\n      !otherID ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactDOMInput: Mixing React and non-React radio inputs with the ' + 'same `name` is not supported.') : invariant(false) : undefined;\n      var otherInstance = instancesByReactID[otherID];\n      !otherInstance ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactDOMInput: Unknown radio button ID %s.', otherID) : invariant(false) : undefined; // If this is a controlled radio button group, forcing the input that\n      // was previously checked to update will cause it to be come re-checked\n      // as appropriate.\n\n      ReactUpdates.asap(forceUpdateIfMounted, otherInstance);\n    }\n  }\n\n  return returnValue;\n}\n\nmodule.exports = ReactDOMInput;","map":{"version":3,"sources":["C:/Users/nvtung/Các project thực hiện/RubyGYM-master_test_2/client/node_modules/jsx-to-string/node_modules/react/lib/ReactDOMInput.js"],"names":["ReactDOMIDOperations","require","LinkedValueUtils","ReactMount","ReactUpdates","assign","invariant","instancesByReactID","forceUpdateIfMounted","_rootNodeID","ReactDOMInput","updateWrapper","getNativeProps","inst","props","context","value","getValue","checked","getChecked","nativeProps","defaultChecked","undefined","defaultValue","_wrapperState","initialValue","initialChecked","onChange","mountWrapper","process","env","NODE_ENV","checkPropTypes","_currentElement","_owner","_handleChange","bind","mountReadyWrapper","unmountWrapper","updatePropertyByID","event","returnValue","executeOnChange","asap","name","type","rootNode","getNode","queryRoot","parentNode","group","querySelectorAll","JSON","stringify","i","length","otherNode","form","otherID","getID","otherInstance","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * Copyright 2013-2015, Facebook, Inc.\r\n * All rights reserved.\r\n *\r\n * This source code is licensed under the BSD-style license found in the\r\n * LICENSE file in the root directory of this source tree. An additional grant\r\n * of patent rights can be found in the PATENTS file in the same directory.\r\n *\r\n * @providesModule ReactDOMInput\r\n */\r\n\r\n'use strict';\r\n\r\nvar ReactDOMIDOperations = require('./ReactDOMIDOperations');\r\nvar LinkedValueUtils = require('./LinkedValueUtils');\r\nvar ReactMount = require('./ReactMount');\r\nvar ReactUpdates = require('./ReactUpdates');\r\n\r\nvar assign = require('./Object.assign');\r\nvar invariant = require('fbjs/lib/invariant');\r\n\r\nvar instancesByReactID = {};\r\n\r\nfunction forceUpdateIfMounted() {\r\n  if (this._rootNodeID) {\r\n    // DOM component is still mounted; update\r\n    ReactDOMInput.updateWrapper(this);\r\n  }\r\n}\r\n\r\n/**\r\n * Implements an <input> native component that allows setting these optional\r\n * props: `checked`, `value`, `defaultChecked`, and `defaultValue`.\r\n *\r\n * If `checked` or `value` are not supplied (or null/undefined), user actions\r\n * that affect the checked state or value will trigger updates to the element.\r\n *\r\n * If they are supplied (and not null/undefined), the rendered element will not\r\n * trigger updates to the element. Instead, the props must change in order for\r\n * the rendered element to be updated.\r\n *\r\n * The rendered element will be initialized as unchecked (or `defaultChecked`)\r\n * with an empty value (or `defaultValue`).\r\n *\r\n * @see http://www.w3.org/TR/2012/WD-html5-20121025/the-input-element.html\r\n */\r\nvar ReactDOMInput = {\r\n  getNativeProps: function (inst, props, context) {\r\n    var value = LinkedValueUtils.getValue(props);\r\n    var checked = LinkedValueUtils.getChecked(props);\r\n\r\n    var nativeProps = assign({}, props, {\r\n      defaultChecked: undefined,\r\n      defaultValue: undefined,\r\n      value: value != null ? value : inst._wrapperState.initialValue,\r\n      checked: checked != null ? checked : inst._wrapperState.initialChecked,\r\n      onChange: inst._wrapperState.onChange\r\n    });\r\n\r\n    return nativeProps;\r\n  },\r\n\r\n  mountWrapper: function (inst, props) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      LinkedValueUtils.checkPropTypes('input', props, inst._currentElement._owner);\r\n    }\r\n\r\n    var defaultValue = props.defaultValue;\r\n    inst._wrapperState = {\r\n      initialChecked: props.defaultChecked || false,\r\n      initialValue: defaultValue != null ? defaultValue : null,\r\n      onChange: _handleChange.bind(inst)\r\n    };\r\n  },\r\n\r\n  mountReadyWrapper: function (inst) {\r\n    // Can't be in mountWrapper or else server rendering leaks.\r\n    instancesByReactID[inst._rootNodeID] = inst;\r\n  },\r\n\r\n  unmountWrapper: function (inst) {\r\n    delete instancesByReactID[inst._rootNodeID];\r\n  },\r\n\r\n  updateWrapper: function (inst) {\r\n    var props = inst._currentElement.props;\r\n\r\n    // TODO: Shouldn't this be getChecked(props)?\r\n    var checked = props.checked;\r\n    if (checked != null) {\r\n      ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID, 'checked', checked || false);\r\n    }\r\n\r\n    var value = LinkedValueUtils.getValue(props);\r\n    if (value != null) {\r\n      // Cast `value` to a string to ensure the value is set correctly. While\r\n      // browsers typically do this as necessary, jsdom doesn't.\r\n      ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID, 'value', '' + value);\r\n    }\r\n  }\r\n};\r\n\r\nfunction _handleChange(event) {\r\n  var props = this._currentElement.props;\r\n\r\n  var returnValue = LinkedValueUtils.executeOnChange(props, event);\r\n\r\n  // Here we use asap to wait until all updates have propagated, which\r\n  // is important when using controlled components within layers:\r\n  // https://github.com/facebook/react/issues/1698\r\n  ReactUpdates.asap(forceUpdateIfMounted, this);\r\n\r\n  var name = props.name;\r\n  if (props.type === 'radio' && name != null) {\r\n    var rootNode = ReactMount.getNode(this._rootNodeID);\r\n    var queryRoot = rootNode;\r\n\r\n    while (queryRoot.parentNode) {\r\n      queryRoot = queryRoot.parentNode;\r\n    }\r\n\r\n    // If `rootNode.form` was non-null, then we could try `form.elements`,\r\n    // but that sometimes behaves strangely in IE8. We could also try using\r\n    // `form.getElementsByName`, but that will only return direct children\r\n    // and won't include inputs that use the HTML5 `form=` attribute. Since\r\n    // the input might not even be in a form, let's just use the global\r\n    // `querySelectorAll` to ensure we don't miss anything.\r\n    var group = queryRoot.querySelectorAll('input[name=' + JSON.stringify('' + name) + '][type=\"radio\"]');\r\n\r\n    for (var i = 0; i < group.length; i++) {\r\n      var otherNode = group[i];\r\n      if (otherNode === rootNode || otherNode.form !== rootNode.form) {\r\n        continue;\r\n      }\r\n      // This will throw if radio buttons rendered by different copies of React\r\n      // and the same name are rendered into the same form (same as #1939).\r\n      // That's probably okay; we don't support it just as we don't support\r\n      // mixing React with non-React.\r\n      var otherID = ReactMount.getID(otherNode);\r\n      !otherID ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactDOMInput: Mixing React and non-React radio inputs with the ' + 'same `name` is not supported.') : invariant(false) : undefined;\r\n      var otherInstance = instancesByReactID[otherID];\r\n      !otherInstance ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactDOMInput: Unknown radio button ID %s.', otherID) : invariant(false) : undefined;\r\n      // If this is a controlled radio button group, forcing the input that\r\n      // was previously checked to update will cause it to be come re-checked\r\n      // as appropriate.\r\n      ReactUpdates.asap(forceUpdateIfMounted, otherInstance);\r\n    }\r\n  }\r\n\r\n  return returnValue;\r\n}\r\n\r\nmodule.exports = ReactDOMInput;"]},"metadata":{},"sourceType":"script"}